{"version":3,"sources":["webpack://easyreport/webpack/bootstrap","webpack://easyreport/./node_modules/@easydata/core/dist/lib/types/data_type.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/types/entity_attr_kind.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/types/editor_tag.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_method.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_request.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/i18n/i18n.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/utils/utils.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/utils/string_utils.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_action_result.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_client.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/data/data_column.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/meta/meta_entity.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/meta/value_editor.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/meta/meta_data.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/data/data_row.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/data/easy_data_table.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/utils/easy_guid.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/event/event_emitter.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/i18n/load_default_locale_settings.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/ui-utils.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/dom_elem_builder.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/mask.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/drag_manager.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/grid/easy_grid_cell_renderer.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/grid/easy_grid_columns.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/grid/easy_grid.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/calendar.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/date_time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/default_calendar.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/default_time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/default_date_time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/dialogs/default_dialog_service.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/i18n/text_resources.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/link_type.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/utils.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/constants.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/format_parser.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/aggr_function.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/value_editor.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/data_kind.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/operator.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/expr_tag.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/entity.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/eq_editor_tag.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/common/tree.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/query_events.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/column.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/data_model.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/expression.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/cond_tag.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/cond_part.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/condition.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/widget_group.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/eq_actions.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/action.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/query.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/query_storage.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/model_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_model_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_data_fetcher.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_query_synchronizer.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_value_list_resolver.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_query_file_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/data/eq_totals_container.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/common/eq_services.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/data/eq_data_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_exporter.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/context.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/widget.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/version_info.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/i18n/text_resources.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/browser_utils.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/utils.js","webpack://easyreport/./node_modules/css-loader/dist/runtime/api.js","webpack://easyreport/./node_modules/style-loader/lib/addStyles.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/browser_utils.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/data/google_data_converter.js","webpack://easyreport/./ts/styles.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery.css?4782","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery.css","webpack://easyreport/./node_modules/style-loader/lib/urls.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-icons-default.css?af1a","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-icons-default.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery-mobile.css?97a4","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery-mobile.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eqview.css?3039","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eqview.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easychart.css?4c7e","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easychart.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid.css?b14a","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid-mobile.css?c32c","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid-mobile.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyfacets.css?ebb7","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyfacets.css","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-grid.css?91c4","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-grid.css","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-dialog.css?386a","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-dialog.css","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-forms.css?7af2","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-forms.css","webpack://easyreport/./ts/adhoc-reporting.ts","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/entities_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/popup_menu.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/display_format_parser.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/types/qp_editable_part.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/simple_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/aggrfunc_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/customsql_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/columns_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnsbar/column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnsbar/simple_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnsbar/aggrfunc_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/columns_bar.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/sortingbar/column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/sorting_bar.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/text_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/condition_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/dropdown.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/condition_group_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/types/facet_type.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/base_element_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/input_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/list_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/attribute_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/dropdown_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/addrow_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/operator_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/datetime_expression_render.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/subquery_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/bind_to_parent_column_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/query_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/filter_bar.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/html_content_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/eq_result_html_grid.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/grid.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/easy_grid_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/statement_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/process_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/manage_drilldown_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/result_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_type.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/dialog/totals_dialog.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/datatable_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/pivot_table_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_widget_chartjs.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_widget_google.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/chart_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/dialog/export_dialog.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/result_facets_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/export_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/locale_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/queryname_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/adv_search_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/data_filter_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/html_data_filter_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/report_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/i18n/text_resources.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/extensions.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/utils/lcv.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/query/condition_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/extensions.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/query/column_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/query/query_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/main/eqs_query_storage.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/dm/model_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/data/eqs_totals_calculator.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/public_api.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","DataType","EntityAttrKind","HttpMethod","EditorTag","Unknown","Edit","DateTime","List","CustomList","HttpRequest","xhr","descriptor","this","method","url","headers","queryParams","data","setHeader","setQueryParam","getXMLHttpRequest","getResponseHeaders","readyState","HEADERS_RECEIVED","headerMap","_i","arr_1","getAllResponseHeaders","trim","split","length","parts","header","shift","join","open","_this","UNSENT","keys","encodeURI","map","param","setRequestHeader","abort","repeatString","str","times","result","i18n","currentLocale","englishUSLocaleSettings","shortDateFormat","longDateFormat","editDateFormat","shortTimeFormat","editTimeFormat","longTimeFormat","shortMonthNames","longMonthNames","shortWeekDayNames","longWeekDayNames","decimalSeparator","currency","defaultLocale","localeId","englishName","displayName","texts","ButtonOK","ButtonCancel","settings","allLocales","mappers","mapInfo","info","mappers_1","mapper","getCurrentLocale","setCurrentLocale","newLocale","assignDeep","getLocaleSettings","updateLocaleSettings","settingsToUpdate","updateLocaleInfo","localeData","localeInfoToUpdate","loadBrowserLocaleSettings","now","dateStr","timeStr","dateFormat","timeFormat","lang","navigator","language","undefined","Date","toLocaleDateString","year","month","day","toLocaleTimeString","hour","minute","second","replace","buildShortDateTimeFormat","dataType","format","localeSettings","Time","buildLongDateTimeFormat","addMapper","push","getLocales","locale","sort","a","b","setLocale","console","warn","getText","args","arguments","textsObj","resText","argLength","getOneLocaleSetting","getShortMonthName","monthNum","getLongMonthName","getShortWeekDayName","dayNum","toString","getLongWeekDayName","updateLocaleTexts","error","updateDefaultTexts","addLocale","localeInfo","resetLocales","dateTimeToStr","dateTime","numberToStr","number","toLocaleString","type","toUpperCase","digits","Number","parseInt","slice","style","useGrouping","minimumIntegerDigits","minimumFractionDigits","getNumberFromatOptions","utils","getAllDataTypes","values","getDateDataTypes","getStringDataTypes","String","Memo","_numericTypes","Byte","Word","Int32","Int64","Float","Currency","_intTypes","createArrayFrom","collection","collection_1","item","assign","target","source","sources","assignDeepCore","hashSet","sources_1","sourceVal","has","Array","isArray","set","getPrototypeOf","WeakMap","getIfDefined","defaultValue","IsDefinedAndNotNull","copyArrayTo","collection1","collection2","len1","len2","findItemById","array","id","arrLength","idx","findItemIndexById","indexOfArrayItem","arr","indexOf","len","moveArrayItem","index1","index2","splice","removeArrayItem","index","insertArrayItem","fillArray","start","end","relativeStart","k","Math","max","min","relativeEnd","final","shiftToFitWindow","absLeft","width","body","document","getElementsByTagName","winWidth","window","innerWidth","documentElement","clientWidth","absRight","isObject","val","isNumericType","dtype","isIntType","isNumeric","isNaN","parseFloat","isFinite","areCompatibleDataTypes","type1","type2","isPropSet","obj","propName","toLowerCase","prefixIdLen","symbols","magicTicks","squeeze","maxlen","step","nextIndex","ch","replaceAtString","substr","getRandomInt","floor","random","safeParseInt","test","generateId","prefix","prfx","pml","ptt","squeezeMoniker","randValue","maxSymbolIndex","buffer","rest","reverse","intToNum36","getTime","strToDateTime","normalized","formatItems","dateItems","monthIndex","dayIndex","yearIndex","hourIndex","minutesIndex","secondsIndex","today","getFullYear","getMonth","getDate","getDaysInMonth","_a","DT_FORMAT_RGEX","date","getHours","getMinutes","getSeconds","hour12","isPm","matches","yyyy","MMMM","MMM","MM","M","dd","HH","H","hh","h","tt","mm","ss","match","$1","extendStatics","ColumnAlignment","HttpActionResult","request","promise","getPromise","getRequest","then","onfulfilled","onrejected","catch","finally","onfinally","__extends","setPrototypeOf","__proto__","__","constructor","__assign","apply","HttpResponseError","_super","status","message","Error","HttpClient","defaultHeaders","customPayload","options","send","Get","post","Post","put","Put","delete","Delete","contentType","XMLHttpRequest","desc","beforeEachRequest","onRequest","dataToSend","JSON","stringify","Promise","resolve","reject","responseType","onreadystatechange","responseContentType","getResponseHeader","responseObj","response","parse","responseText","MetaEntity","parent","caption","description","attributes","subEntities","loadFromData","model","dto","captionPlural","namePlur","ents","newEntity","createEntity","attrs","newAttr","createEntityAttr","scan","processAttribute","processEntity","opts","stop","internalProcessEntity","entity","attrCount","attr","subEntityCount","MetaEntityAttr","size","isPrimaryKey","isForeignKey","isNullable","showOnView","isEditable","showOnCreate","showOnEdit","showInLookup","lookupAttr","expr","kind","Data","cptn","ipk","ifk","lattr","lookupEntity","lent","dataAttr","dattr","lookupDataAttr","ldattr","nul","ied","ivis","sov","soc","soe","sil","displayFormat","dfmt","udata","userData","edtr","defaultEditor","getEditorById","createValueEditor","ValueEditor","tag","resType","defValue","defval","rtype","subType","getValueText","text","_b","_c","substring","MetaData","mainEntity","rootEntity","getMainEntity","loadFromJSON","stringJson","version","vers","editors","newEditor","entroot","setData","isEmpty","getId","getName","getRootEntity","editorId","editor","getAttributeById","attrId","getEntityAttrById","checkAttrProperty","attribute","res","listByEntityWithFilter","filterFunc","ent","entIdx","newEnt","items","isEntity","attrIdx","listByEntity","resultEntities","resultAttributes","newOpts","includeRootData","sortCheck","sortEntities","attrPlacement","concat","clear","addDefaultValueEditors","addOrUpdateValueEditor","ve","getEntitiesTree","getEntitiesTreeWithFilter","getFullEntityPathByAttr","sep","getEntityPathByAttr","root","entityCaption","entityText","getAttributeText","attrText","entityPath","RegExp","runThroughEntities","getFirstAttributeByFilter","label","originAttrId","isAggr","DataColumnList","_dateColumnIdx","configurable","add","colOrDesc","col","updateDateColumnIdx","getItems","filter","move","newIndex","oldIndex","getIndex","getDateColumnIndexes","removeAt","removeDate","DataRow","columns","toArray","from","getValue","colIdOrIndex","RangeError","setValue","EasyDataTable","_chunkSize","chunkMap","total","loader","needTotal","chunkSize","_columns","colDesc","rows","rowData","row","createRow","addRow","getRows","params","fromIndex","count","pageSize","page","offset","limit","endIndex","lbChunk","trunc","upChunk","allChunksCached","resultArr","loadChunk","chunks","table","getCachedChunks","chunks_1","chunk","getRow","getTotal","setTotal","getCachedCount","getCachedRows","dataOrRow","dateIdx","colId","forEach","column","rowOrValue","newRow","dateIdx_1","lastChunk","getLastChunk","createChunk","cachedTotal","getLastChunkIndex","reduce","acc","v","EasyGuid","newGuid","EventEmitter","silentMode","events","subscribe","eventType","callback","event","getEventRecByType","eventCallback","eventCallbacks","unsubscribe","callbackId","fire","postpone","force","eventRec","eqevent_1","emitAllFunc","setTimeout","enterSilentMode","exitSilentMode","isSilent","event_1","x","NaN","ceil","addElement","element","createElement","cssClass","className","appendChild","addCssClass","hideElement","display","showElement","toggleVisibility","first","duration","complete","isVisible","offsetWidth","offsetHeight","createBrowserEvent","eventName","Event","createEvent","initEvent","getViewportSize","height","clientHeight","innerHeight","getScrollPos","docElem","top","pageYOffset","scrollTop","left","pageXOffset","scrollLeft","getElementAbsolutePos","y","position","box","getBoundingClientRect","right","bottom","scollPos","clientTop","clientLeft","round","getWinSize","slideDown","removeProperty","getComputedStyle","overflow","paddingTop","paddingBottom","marginTop","marginBottom","boxSizing","transitionProperty","transitionDuration","slideUp","DomElementBuilder","parentElement","addChild","childBuilder","builder","domel","addChildElement","attrValue","setAttribute","title","dataId","dataValue","removeAttribute","show","removeStyle","hide","toHide","setStyle","visible","getClientRects","addClass","classNames","fullList","classList","removeClass","remove","toggleClass","toggle","on","listener","eventTypes","addEventListener","off","removeEventListener","styleId","styleValue","setProperty","innerText","html","innerHTML","oldElem","tagName","replaceWith","addText","textEl","createTextNode","addHtml","toDOM","appendTo","DomInputElementBuilder","valueAsDate","valueAsNumber","mask","maskPattern","input","9","inputHandler","e","mskd","startSelection","selectionStart","el","charAt","selectionEnd","keyCode","preventDefault","selection","onlyLodash","dispatchEvent","char","fromCharCode","charCode","mskd_1","selectionStart_1","selection_1","event_2","DomSelectElementBuilder","addOption","option","selected","HTMLDivElement","HTMLSpanElement","HTMLAnchorElement","HTMLButtonElement","HTMLImageElement","HTMLInputElement","HTMLSelectElement","DropEffect","touchEventIsDefined","TouchEvent","CellRendererType","EqDragEvent","dragImage","sourceEvent","dropEffect","Allow","pageX","pageY","MouseEvent","touches","Position","ev","eqDragManager","DragManager","delta","draggableItem","finishedSuccessfully","mouseDownPosition","containerDescriptors","containerDescriptorIndex","None","classPrefix","DRAG_DISABLED_ATTR","registerDraggableItem","ondragstart","detectDragging","hasAttribute","stopPropagation","cursorPosition","abs","startDragging","mouseMoveEventListener","mouseMoveDragListener","beforeDragStart","cloneNode","renderer","updateCusror","updateImageClass","scope","updateDragItemPosition","onDragStart","mouseDownListener","mouseUpListener","endDraggind","dropContDesc","container","scopes","onDrop","onDragLeave","onDragEnd","removeChild","registerDropContainer","removeDropContainer","descriptorOrSlot","descs","descs_1","detectDragEnterEvent","dragEnterEvent","detectDragLeaveEvent","dragLeaveEvent","event_3","onDragOver","setCursorStyle","Forbid","cursor","children","pos","event_4","onDragEnter","event_5","containerPos","DFMT_REGEX","GridColumnAlign","StringCellRendererDefault","cellElement","rowElement","cssPrefix","NumberCellRendererDefault","strValue","dataColumn","_","align","NONE","DateTimeCellRendererDefault","isDate","timeOptions","BoolCellRendererDefault","GridCellRendererStore","renderers","defaultRenderers","registerRenderer","setDefaultRenderer","STRING","NUMBER","DATETIME","BOOL","getDefaultRenderer","columnType","cellType","getCellType","getDefaultRendererByType","rendererType","getRenderer","Autoinc","Bool","DEFAULT_WIDTH_NUMBER","DEFAULT_WIDTH_DATE","DEFAULT_WIDTH_BOOL","DEFAULT_WIDTH_STRING","ROW_NUM_WIDTH","GridColumn","grid","isRowNum","_label","alignment","Left","LEFT","Center","CENTER","Right","RIGHT","MapAlignment","coltype","cellRendererStore","cellRenderer","onGetCellRenderer","GridColumnList","columnList","sync","hasRowNumCol","rowNumCol","onSyncGridColumn","EasyGrid","pagination","paginationOptions","maxButtonCount","useBootstrap","defaultDataGridOptions","slot","dataTable","fixHeightOnFirstRender","syncGridColumns","useRowNumeration","allowDragDrop","totals","calcGrandTotals","calculator","paging","enabled","addColumns","viewportRowsCount","showActiveRow","rowsOnPagePromise","containerInitialHeight","firstRender","prevRowTotals","landingIndex","landingSlot","_activeRowIndex","eventEmitter","setSlot","init","getElementById","getElementsByClassName","onInit","onRowClick","onRowDbClick","onAddColumnClick","onColumnChanged","onColumnDeleted","onColumnMoved","onPageChanged","onActiveRowChanged","activeRowIndex","eqCssPrefix","showLandingSlot","hideLandingSlot","refresh","fireEvent","columnId","getData","getColumns","destroy","clearDOM","render","hasData","rootDiv","renderHeader","headerDiv","renderBody","bodyDiv","renderFooter","footerDiv","gridContainer","updateHeight","firstRow","bodyCellContainerDiv","firstElementChild","bodyHeight_1","sbHeight","bodyViewportDiv","bodyHeight","headerViewportDiv","headerCellContainerDiv","headerRowDiv","hd","renderColumnHeader","renderAddColumnButton","containerWidth","sum","current","colBuilder","colDiv","attrLabel","showProgress","getRowsToRender","hideProgress","calcTotals_1","calcTotals","keyCols_1","getTotalsKeyCols","updateTotalsState","tr","renderRow","isLastPage","onVieportKeydown","calcSubTotalsCols","cols","calcSubTotals","prev","keyCols","pop","isLast","changeLevel","totalsOpts","totalColOpts","renderTotalsRow","level","colIndex","getTotalsTitle","renderCell","getTotals","fillTotals","rowCount","querySelectorAll","newValue","ensureRowVisibility","rowOrIndex","getDataRow","rowRect","viewportRect","rowTop","rowBottom","viewportHeight","windowHeight","footerPaginateDiv","renderPageNavigator","pageInfoBlock","renderPageInfoBlock","pageInfoDiv","fistPageRecordNum","lastPageRecordNum","getLocalIndexByGlobal","getGlobalIndexByLocal","indexGlobal","rowBuilder","rowIndex","colindex","paginateDiv","pageIndex","pageCount","buttonClickHandler","getAttribute","focus","zeroBasedIndex","firstPageIndex","lastPageIndex","ul","li","newA","handler","handlerId","addColumnsTitle","colElems","rowElem","landingPos","newLandingIndex","cols_1","colPos","insertBefore","oldValue","updateActiveRow","activeRow","getActiveRow","Calendar","yearRange","setDate","currentDate","dateChanged","onDateChanged","DateTimePicker","calendar","timePicker","setDateTime","currentDateTime","setTime","getDateTime","showCalendar","createCalendar","showDateTimeInput","timePickerIsUsed","showTimePicker","oneClickDateSelection","dateTimeChanged","createTimePicker","onTimeChanged","time","setHours","setMinutes","anchor","beforeShow","onApply","cancel","onCancel","onDateTimeChanged","DefaultCalendar","daysOfWeek","months","calendarBody","isManualInputChanging","selectedMonth","selectedYear","rerenderMonth","renderManualDateInput","headerTextElem","renderCalendarButtons","getInputDateFormat","newDate","manualInputElem","jump","updateDisplayedDateValue","selectMonthElem","_loop_1","selectYearElem","next","rerenderSelectYear","exec","minusYear","plusYear","op","firstDay","getDay","daysInMonth","setFullYear","setMonth","dayOfWeek","cellsDrawnInLastRow","cellsToDraw","TimePicker","currentTime","timeChanged","DefaultTimePicker","updateDisplayedTime","hoursInput","minutesInput","timeText","slidersBuilder","timeToDraw","DefaultDateTimePicker","renderButtons","globalMouseDownHandler","srcElement","contains","nowButton","submitButton","calendarSlot","timePickerSlot","anchorPos","parentPos","DefaultDialogService","openConfirm","content","closable","submitable","cancelable","onSubmit","openPrompt","defVal","submitOnEnter","arrangeParents","beforeOpen","processInput","dlg","openProgress","DefaultDialog","submitHandler","cancelHandler","keydownHandler","isActiveDialog","windowElement","headerElement","bodyElement","alertElement","footerElement","getRootElement","windowDiv","querySelector","submit","close","disableButtons","button","disabled","enableButtons","showAlert","reason","alert","clearAlert","onDestroy","windowDivs","turnOn","DefaultProgressDialog","contentElement","progressElement","determinated","updateContent","updateProgress","progress","in01","num","GridPageInfo","ButtonApply","ButtonNow","LinkType","equtils","eqconsts","FormatParser","formatStr","exprNum","tokenText","skipSpaces","npos","token","npos1","npos2","getToken","combinePath","path1","path2","strToLinkType","All","NotAll","Any","linkTypeToStr","parseOperatorFormat","operator","convertValue","fromDataType","toDataType","resInt","resFloat","ConstLists","SpecDateValues","isDefault","SpecTimeValues","BooleanValues","constLists","predicateLinkTypeList","DataKind","AggrFunction","sqlExpr","appliedTypes","aggrFunction","fmt","dtypes","EqValueEditor","sql","statement","extraParams","ExprTag","Operator","constValueFormat","isRange","caseIns","paramCount","defaultOperand","operands","pcnt","defOperand","newOperand","Operand","Scalar","operand","defText","txt","copyFrom","src","Entity","useInConditions","useInResult","useInSorting","uic","uir","uis","EntityAttr","defaultOperator","operators","defOperator","ops","EqEditorTag","SqlList","SubQuery","BindToParentColumn","QueryChangePart","QueryChangeAction","SortDirection","Tree","childs","findNode","child","setParents","DataModel","aggrFunctions","dateMacros","timeMacros","links","newOperator","aggrfuncs","newAggrFunc","getObject","createQuery","_listByEntityWithFilter","_listByEntity","addUIC","addUIR","addUIS","addOrUpdateOperator","removeOperator","soft","getOperatorIdsByDataType","Guid","BCD","buildQueryPath","query","tree","createTreeNodeFromEntity","subEnentity","getEntitiesInQuery","entities","columns_1","addEntityByExpression","rootCond","getRootCondition","fillEntitiesByCondtionGroup","getConditions","condition","isGroup","expressions","_d","_e","arg","EntityAttribute","baseAttrId","findLink","entityFrom","entityTo","link","getLinksByEntity","getFirstUICAttr","getFirstUICAttrInEntity","findOperatorById","operatorId","opCount","getOperatorById","getDefaultOperatorIdForAttr","getAggrFunctionCaption","funcId","funcTexts","funcCaption","func","getAggrFunctionFormat","funcFormat","getDefaultOperatorForAttr","getOperand","Query","getAggrFunctions","getDateMacroValue","macro","isDateMacro","getDateOrMacroValue","macroValue","getTimeMacroValue","isTimeMacro","getTimeOrMacroValue","getAllDateMacros","getAllTimeMacros","Expression","Constant","_value","distinct","_isDefaultValue","getParent","getModel","getQuery","Attribute","ParentEntityAttribute","subQuery","loadFromDataOrJson","saveToData","toJSONData","getExpressionIndex","silent","setContent","expressionChanged","hasText","tryCopyValueFrom","CondTag","ConditionPart","Column","justsorted","_isHidden","_id","sorting","sortIndex","blockId","isReadOnly","isJustSorted","setReadOnly","isHidden","setHidden","colData","srt","srtidx","hidden","fireChangedEvent","part","SortingColumns","Columns","action","Modify","changee","WidgetGroup","EqAction","EqActionResult","Condition","linkType","justAdded","conditions","_enabled","cond","setParent","Group","getLevel","isParameterized","setParameterized","isInJoin","setInJoin","clearConditions","addCondition","removeConditionAt","Simple","exprs","newExpr","linking","condPart","Conditions","tuneOperatorForAttr","getOperatorId","setOperatorId","newOperatorId","oldOperatorId","tuneValueExpressions","oldAttrId","exprCount","oldOperator","oldOperand","valExpr","createValueExpr","oldExpr","areCompitableEditors","oldEditor","addExpressionByOperand","valueNotDefined","defAttr","InvalidQueryError","captureStackTrace","extraData","innerData","isNewbie","_isModified","parentQuery","drillDowns","extraConditions","regenerateId","setDefaultName","modelId","modelName","attributeExprTag","attrTag","clientListRequestHandler","serverListRequestHandler","timezoneOffset","getTimezoneOffset","isModified","resetModified","isEx","reset","clearQuery","hasEnabledAggrColumns","AggregateFunction","setName","validate","CustomSql","validateConditionGroup","getAggregatedColumns","tryValidate","curCond","checkExpressions","values_1","parsedVal","changeStatus","loadFromJson","json","clearDrillDowns","conds","condData","createCondition","justsortcols","newCol","createColumn","dds","addDrillDown","getDrillDowns","getParentQuery","findColumnById","setModel","loadModelData","toJSON","rootCondToData","condGroup","extraConds","isEmptyConditions","isEmptyColumns","clearColumns","clearExtraConditions","setId","getDescription","setDescription","getUsedInTotalsColumns","getJustSortedColumns","getSortedColumns","sortedCols","col1","col2","getColumnSortIndex","getColumnById","addColumn","author","newColumn","attributeId","aggrFuncId","cusomtSql","readonly","addColumnObj","changeColumnType","exprValue","sqlText","customSqlExpr","exprId","moveColumn","removeColumn","addConditionGroup","addChildCondition","addExtraConditionGroup","addSimpleCondition","createSimpleConditionObject","addSimpleExtraCondition","inputValues","attrExpr","valCount","valLength","removeColumns","columnsToRemove","justSortedColumns","removeFromArray","arrToRemove","ctrLen","fireProcessEvent","wasModified","eventData","fireColumnsChangedEvent","fireConditionsChangedEvent","runThroughConditions","processCondition","processGroup","predicate","getOneValueForAttr","opid","addProcessCallback","removeProcessCallback","addChangedCallback","removeChangedCallback","getConditionsText","getConditionGroupText","condText","conjKey","conjText","opId","plen","pi","BrowserQueryStorage","context","keyPrefix","queryListKey","queryKeyPrefix","getQueryList","itemsString","localStorage","getItem","err","newQuery","queryId","_saveQuery","loadQuery","queryItem","saveQuery","queryList","setItem","removeQuery","queryId_1","removeItem","EqModelLoader","modelPromise","getContext","createModelLoadingPromise","modelLoadingResolveFunc","modelLoadingRejectFunc","getModelPromise","startModelLoading","sendLoadModelRequest","EqServerModelLoader","http","getServices","getHttpClient","resolveEndpoint","responseData","EqServerDataFetcher","fetchData","requestData","EqServerQuerySynchronizer","syncQuery","EqServerValueListResolver","loadValueList","listId","EqQueryFileLoader","getQueryFile","actionResult","blob","Blob","fileName","lastIndexOf","msSaveOrOpenBlob","href","URL","createObjectURL","download","click","revokeObjectURL","uploadQueryFile","EqTotalsContainer","levels","setTotals","getLevelDesc","recivedCallbacks","keyColumns","keyColumns_1","keyCol","processFunc","field","DefaultTotalCalculator","calculate","maxLevel","Map","resultsObtained","colIdx","EqServiceProvider","modelLoader","queryStorage","querySynchronizer","dataFetcher","valueListResolver","queryFileLoader","totalCalculator","httpClient","modelResolver","queryResolver","modelLoaderResolver","queryStorageResolver","querySynchronizerResolver","vlrResolver","dataFetcherResolver","queryFileLoaderResolver","totalCalculatoResolver","createDataModel","getModelLoader","getQueryStorage","getQuerySynchronizer","getDataFetcher","getValueListResolver","getQueryFileLoader","getTotalCalculator","registerDataModelResolver","resolver","registerQueryResolver","registerModelLoaderResolver","registerQueryStorageResolver","registerDataFetcherResolver","registerQuerySyncronizerResolver","registerValueListResolver","registerQueryFileLoaderResolver","registerTotalCalculator","EasyQueryDataLoader","dataLoadPromise","fetchDataChunk","success","dataLoader","resultTable","resultSet","meta","totalRecords","hasNext","EqServerExporter","setFormat","export","filename","EqContext","internalListCache","loadModelOnStart","loadQueryOnStart","endpointVarsRegex","_predefinedListRequestHandlers","onResult","macroName","_listRequestHandler","listName","newParams","editorParams","procParams","attrPattern","prop","dynamicParam","paramValue","requestPrams","list","getListFromCache","processed","predefinedHandler","addListToCache","baseEndpoint","eqServices","widgets","exporters","endpoints","registerExporter","getExporter","getExportFormats","addDefaultExporters","exporter","endpointKey","matches_1","opt","optVal","setEndpoint","setEnpointIfNotExist","setDefaultEndpoints","endpointBase","defaultQueryId","listCache","setExternalListCache","endpoint","handlers","afterLoadModel","afterLoadQuery","afterSyncQuery","afterFetchData","afterExportResult","onProcessStart","onProcessEnd","onError","msg","msgTitle","msgText","sourceError","onListRequest","beforeLoadModel","beforeLoadQuery","beforeSyncQuery","beforeFetchData","beforeExportResult","initialQuery","defaultModelId","useDefaultExporters","widget","widgetOptions","getWidgetType","loadDefaultModel","useEndpoint","addWidget","getAllWidgetsByType","widgetType","getWidgetByType","refreshWidgets","groups","belongsToGroup","addQueryChangedCallback","removeQueryChangedCallback","dataModel","loadModelFromData","modelPlainData","setDefaultModelId","startProcess","endProcess","throwError","loadModel","Model","clearResult","resultStatement","resultContent","cache","externalListCache","getListCacheKey","resetListCache","getListRequestHandler","getBaseEndpoint","GetValueList","Result","Success","errorMessage","LoadModel","callWhenModelLoaded","callFunc","LoadQuery","Properties","loadQueryList","startQueryListLoading","LoadQueryList","queries","useStorage","onNewQuery","NewQuery","queryData","SaveQuery","RemoveQuery","SyncQuery","Statement","querySaved","q","QueryStatus","processQueryForTotals","Ascending","GetQueryFile","UploadQueryFile","FetchData","fetchDrillDownData","exportResult","ExportResult","getDefaultTotalsSettings","prevEntity","getTotalsSettings","totalsSettings","wereTotalsColumnsChanged","setTotalsSettings","sCols","Widget","refreshCore","onProcessStartCore","onProcessEndCore","group","destroyCore","EqVersionInfo","major","minor","update","NewQueryName","Today","Yesterday","Tomorrow","FirstDayOfMonth","LastDayOfMonth","FirstDayOfWeek","FirstDayOfYear","FirstDayOfNextWeek","FirstDayOfNextMonth","FirstDayOfNextYear","Now","HourStart","Midnight","Noon","Entities","Attributes","Operators","AggreateFunctions","browserUtils","_isFirefox","_isIE","IsIE","eval","IsFirefox","ua","userAgent","_detectedIsMobileMode","_isMobileMode","detectIsMobileMode","isMobileMode","matchMedia","mobileModeChangeHandler","setIsMobileMode","onMobileModeChanged","getMobileCssClass","safeFocus","eqCssMobile","useSourceMap","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","sourceURLs","sourceRoot","cssWithMappingToString","mediaQuery","alreadyImportedModules","fn","memo","stylesInDom","isOldIE","all","atob","getTarget","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","addStyle","listToStyles","newStyles","base","css","media","insertStyleElement","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","firstChild","before","removeStyleElement","parentNode","createStyleElement","nonce","getNonce","addAttrs","transform","default","styleIndex","applyToSingletonTag","rel","createLinkElement","updateLink","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","Boolean","styleSheet","cssText","cssNode","childNodes","autoFixUrls","convertToAbsoluteUrls","oldSrc","IsEdge","GoogleDataConverter","tableObj","getNumberOfColumns","getNumberOfRows","getColumnObject","getColumnId","getColumnLabel","getColumnType","getColumnProperties","colType","googleDataTypeToDataType","includes","cell","convertTo","colCount","googleDataType","locals","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","ui_1","viewOptions","syncReportOnChange","showChart","enableExport","columnsBar","accentActiveColumn","allowAggrColumns","attrElementFormat","showColumnCaptions","adjustEntitiesMenuHeight","menuOptions","showSearchBoxAfter","activateOnMouseOver","queryPanel","alwaysShowButtonsInGroups","reportView","ReportView","useEnterprise","ColumnAction","EntitiesPanel","queryChangedCallbackId","panel","setOptions","renderProgressBlock","syncWithColumns","refreshCheckedStateByColumns","showIndicatorOnLoad","progressBlock","showToolbar","showSelectAllButton","showClearSelectionButton","showAddColumnButton","showAddConditionButton","showCheckboxes","showTooltips","draggableAttributes","showAttributes","showFilterBox","filterBoxMode","autoClearSelection","entityRenderedCallback","attributeRenderedCallback","edata","rootEntityBlock","entTree","entityTreeBlock","renderEntity","createFilterBox","createToolPanel","block","entityBlock","entityNode","entityChildren","nodeLabel","nodeInput","attrNode","attrInput","nodeToggleButton","currentOffset","divElem","itemsLength","this_1","checkbox","currentTarget","checked","Add","checkboxes","attrList_2","attrElems_1","attrList_1","filterBoxBlock","filterBoxInput","checkFilterAttribute","attrs_1","displayAttrCount","i_1","collapseAll","expandAll","defClass","toolPanelBlock","toolSelectAll","toolDeselectAll","toolAddColumns","toolAddCond","toolLeftBlock","toolRightBlock","selectAll","deselectAll","attrElements","attrList","self","attrElement","attrList_3","attrId_1","attrList_4","attrId_2","attrCaption","textContent","checkFilterText","filterText","exprColumns_1","entChildren","entElem","nodeButtons","inputs","MenuLevel","isFilteringMode","showSelected","parentMenu","menu","parentLevel","levelIndex","levelDiv","domWriteItemsId","menuId","itemRenderedCallback","applyItem","itemDiv","activeItem","selectedItem","initialized","updated","renderContent","setItems","itemBgColor","colors","bgON","itemFgColor","fgON","itemFontFamily","bgOVER","itemStyle","fontFamily","itemFontSize","fontSize","multiselect","isSubQuery","baseDivBuilder","useDefaultStyles","border","zIndex","baseDiv","applyDiv","applyBtn","borderBottom","padding","applyTextNode","buttons","cancelBtn","marginLeft","cancelText","hideMenu","searchBoxAlwaysShown","searchDivBuilder","searchEditBoxBuilder","deactivateItem","renderItems","searchBox","moveActiveItemUp","moveActiveItemDown","openSubLevel","searchDiv","scrollDiv","tabIndex","overflowX","overflowY","which","getRootLevel","closeDiv","filteredItems","activateItem","menuItem","showSubLevel","subLevel","focusScrollDiv","turnCheckboxes","itemCheckbox","isItemSelected","setItemSelected","submitItems","selectedItems","allSubitemsAreFiltered","filterCallback","isItemDiv","isLevelDiv","getMenuItem","renderItemsWithoutFilter","itemFilterCallback","getItemFilterCallback","color","paddingLeft","paddingRight","cb","defaultChecked","margin","verticalAlign","itemText","arrowSpan","arrowText","itemClickHandler","itemSelected","refreshCheckboxes","isCursorInside","renderItemsWithFilter","filterSections","pureFilterTexts","section","filterItems","renderItemWithFilter","matchesFilter","regexp","resultItems","restFilterSections","filterRegexp","groupItem","groupItemMatches","filterTexts","levelFilterText","highlightText","lowerText","lowerContent","indexInMas","itemOverBgColor","itemOverFgColor","fgOVER","itemClass","itemClassOver","backgroundColor","levelId","scroll","winSize","leftSpace","rightSpace","offsetParent","showAt","visibility","adjustTopPos","levelBottom","initLevelDiv","levelStyle","minItemWidth","maxItemWidth","maxHeight","newHeight","searchBoxAutoFocus","submitMenu","newItems","refreshItems","findItem","searchedText","PopupMenu","mouseIsOverBlock","mouseIsOverLink","toId","active","ancorFocused","adjustHeight","lastMenuID","updateProps","rootLevel","menuKeyUpHandler","stopImmediatePropagation","isOutside","menuLevel","shadow","commandTemplate","clearItemsMenuProps","clearItemMenuProps","setSelectedItems","selectedIds","showMenu","activeElement","itemSelectedCallback","menuClosedCallback","onMenuItemSelected","srcPos","anchorHeight","anchorWidth","scroll_1","knockMenuStyle","DisplayFormatParser","getTokenText","QPEditablePart","ColumnRendererCP","functionMenu","buttonMenu","isMouseOverBlock","keepShowingButtons","baseAttr","getButtonsToShow","sortingButton","renderSoringButton","replaceChild","hideButtons","createFunctionMenu","createButtonMenu","getClassesToAdd","renderCheckbox","renderExpressionBlock","showColumnTitles","renderCaptionBlock","renderEnabledButton","renderColumnTypeButton","renderDeleteButton","renderMenuButton","onMouseEnter","onMouseLeave","onMouseClick","alwaysShowButtons","showButtons","toggleColumnPicked","adjustButtonsVisibility","fireColumnChanged","getDefaultColumnCaption","inputEl","minWidth","isEndEvent","save","KeyboardEvent","FocusEvent","aEl","sortButtonDirectionCssClass","sortButtonCssClass","Descending","getUIS","sortMenu","moveMenu","Hidden","MoveTop","MoveDown","MoveUp","MoveBottom","SortingNone","SortingAsc","SortingDesc","buttonMenuHandler","leaveButtonBlock","evt","Menu","getDefaultTitleText","getAttributeCaption","titleElementFormat","changeTypeHandler","Enable","enterButtonBlock","isColumnActive","funcs","funcAllowed","funcs_1","toInclude","areCustomExpressionsAllowed","curQuery","colMenu","getButtonMenuSelectedItems","processExtraButtonMenuItems","common","allowHiddenColumns","sortItems","allowSorting","getSortMenuList","getMoveMenuList","extra","getExtraButtonMenuItems","arrSelected","SimpleColumnRendererCP","renderBaseExpression","showEntitiesMenu","baseExpressionItemSelectedCallback","attrid","changeTypeToCustomSql","newElement","changeTypeToAggr","AggrFuncColumnRendererCP","displayFormatParser","exprBlockBuilder","arrFormat","parseDisplayFormat","functionLink_1","changeTypeToSimple","parser","CustomSqlColumnRendererCP","exprBlock","getDefaultValue","ColumnsPanel","activeColumn","showAddRow","showHeader","allowDuplicates","allowCustomExpressions","menuSearchBoxAfter","columnRenderedCallback","customExpressionText","detachQueryObserver","attachQueryObserver","moveColumnCore","addNewColumn","renderBaseElements","minusHeight","headerBuilder","columnsBlock","addRowElement","queryEventCallbackId","focusedBefore","isFocusInside","modifyColumn_1","colEl","getColumnRenderer","newEl","focusElem","agjustHeaderVisibility","addColumn_1","addColumnElement","deleteColumn_1","previousSibling","focusCond","rowElems","rowHeight","absPos","scrollIntoView","behavior","createEntitiesMenu","createColumnMenus","renderColumn","isActive","colToAdd","getColumnByAttrId","checkColumnsArray","checkColumn","newColBlock","scrollToBottom","scrollHeight","getColumnsBlock","entitiesMenu","createSortMenu","createMoveMenu","direction","colToMove","ColumnRendererCB","tapedTwice","bar","renderSortingImage","renderButtonsBlock","renderSortingButton","renderButtonsBlockMobile","renderCaptionEditorMobile","getDefaultCaption","isFocused","ctrlKey","metaKey","clickEvent","buttonSortingClickHandler","buttonDeleteClickHandler","buttonTypeClickHandler","onHideButtonsMobile","onShowButtonsMobile","SimpleColumnRendererCB","AggrFuncColumnRendererCB","ColumnsBar","customQuery","sortMenuList","moveMenuList","addRowButton","elements","columnSlots","colSlot","colWidth","colHeight","paddingWidth","renderAddRowButton","renderColumnButtonsBlockMobile","columnButtonsBlockMobileArrow","columnButtonsBlockMobile","buttonsBlockSortingButton","currentColumnRenderer","hideColumnButtonsMobile","buttonsBlockTypeButton","buttonsBlockDeleteButton","showColumnButtonsMobile","columnRenderer","columnElement","currentActiveColumn","rect","offsetTop","offsetLeft","elem","columnSlot_1","colJson","globalCounter","ColumnRendererSB","sd","getArrow","SortingBar","ConditionAction","TextRenderer","ConditionRenderer","autoAppear","coreRender","onConditionRendered","SimpleConditionRenderer","renderConjunction","mayAppear","getOperatorRenderer","toAppear","exprRenderer_1","getExpressionRenderer","adjustWidth","accentActiveCondition","toggleConditionPicked","buttonsBlock","setConditionParameterized","setConditionInJoin","getConditionMenu","isFirstConditionInGroup","showConjunctions","linkTypeStr","conjuctionText","isConditionActive","alwaysShowButtonsInConditions","conditionMenuHandler","AddCondition","entMenu","getEntitiesMenu","descr","AddGroup","parent_1","condMenu","getConditionMenuSelectedItems","Parameterized","InJoin","parent_2","editableParts","Removal","Addition","onButtonMouseEnter","onButtonMouseLeave","buttonsToShow","DomDropDownElementBuilder","appear","onGetMenu","_onGetMenu","onItemSelected","_onItemSelected","dropdown","FacetType","ConditionGroupRenderer","isRoot","renderGroupRow","renderConditions","showRootRow","getConditionRenderer","ConditionGroupRowRenderer","buildGroupElements","getGroupTitle","groupTitle","curType_1","getLinkTypeMenu","getConditionGroupMenu","BaseElementRenderer","isEditMode","labelElement","renderLabelElement","renderEditor","showEditor","displayedText","getLabelText","getEmptyText","ExpressionRenderer","expression","valueEditor","onExpressionRendered","emptyTextValue","Value","validateInput","showValidationError","isEmptyValue","InputExpressionRenderer","inputBuilder","dontProcessBlur","validationResult","inputElement","closeEditor","maxWidth","MIN_WIDTH","inputValue","validateListInput","validateScalarInput","inputValues_1","ListExpressionRenderer","menuItemsList","showWhenReady","adjustNewValue","emptyTextList","getListName","fillMenuItemsList","renderMenuBlock","showLoader","hideLoader","getValuesAsArray","selLength","multiSelect","menuContainer","dialogZIndex","onComplete","takeDefaultValue","itemLen","CustomListExpressionRenderer","isLoading","onClickTemp","loaderElement","listRequestHandler","SqlListExpressionRenderer","AttributeExpressionRenderer","attrObj","attrFormat","emptyTextAttribute","DropDownRenderer","getMenu","AddRowRenderer","OperatorRenderer","operId","related","isRelatedToSubQuery","emptyTextOperator","DateTimeExpressionRenderer","dtp","internalDateFormat","internalTimeFormat","pickerOptions","convertToInternalFormat","dateTimePickerResolver","convertFromInternalFormat","macroText","SubQueryExpressionRenderer","dialogBlockBody","renderColumnBlock","renderQueryPanelBlock","exprType","colEntitiesList","colEntitiesMenu","columnBlock","setResultAttributeId","parentEl","queryPanelBlock","qpId","getSubQuery","parentPanel","subOptions","entitiesListFilter","listItems","listOptions","subQueryPanelListOptions","rootCondEl","minHeight","getDialogService","subQueryDialogWidth","BindToParentColumnExpressionRenderer","ParentColumn","attrDataType","QueryPanel","activeCondition","entitiesPopupHandler","allowParameterization","allowInJoinConditions","showPoweredBy","activateRootOnStart","subQueryDialogHeight","numberListSeparators","autoEditNewCondition","onGetConditionRenderer","onGetExpressionRenderer","onGetOperatorRenderer","onOperatorRendered","onGetAddRowRenderer","defaultQuery","model_1","hideLangindSlot","conditionMenu","linkTypeMenu","rootGroupMenu","groupMenu","modifyCondition_1","autoEdit","autoEdit_1","addCondition_1","newCondContainer","lastChild","deleteCondition_1","dateFormatValue","dateFormatDisplay","createConditionMenus","createLinkTypeMenu","rootContainer","addrowRenderer","getAddRowRenderer","attributeMenu","FilterBar","applyOnClose","showApplyButton","showClearButton","headerClickListener","headerClickHandler","qpElement","applyBtnClick","applyFilter","clearBtnClick","clearFilter","showQueryPanel","qpBlock","updateHeader","hideQueryPanel","headerTextElement","headerLinkElement","headerArrowBlock","headerArrowElement","textResize","headerIconElement","headerTextBlock","applyFilterCallback","HtmlContentWidget","EqHtmlGrid","pageNavigatorPlaceholder","buttonClick","pageNum","pageItemCssClass","Grid","useCustomLocaleSettings","beforeTableRendering","applyDisplayFormats","EasyGridWidget","hasCustomTotalsSettings","autoRefresh","gridOptions","addColumnClickHandler","columnMovedHandler","updateTotalsSettings","StatementPanel","statementText","ProcessWidget","ManageDrillDownWidget","clickHandler","openDialog","ddQuery","dialogService","dialogBody","renderColumnsBarBlock","opIdx","columnsBarSlot","queryPanelSlot","submitDialog","destroyDialog","ChartType","ResultFacetTab","dialogTitle","canDisplayFlag","downloadAllClickHandler","chunksToLoad","getChunksForLoading","recordsToLoad","loadedRecords","chunksToLoad_1","contentDiv","displayMessageDiv","showSettingsDialog","ds","renderDialogContent","submited","submitSettingsDialog","fieldsContainer","renderFormFields","form","cont","tabNameInput","canDisplay","showUnableDisplayMessage","hideUnableDisplayMessage","getType","cachedChunks","diffOffset","numbOfChunks","diff","onResize","TotalsDialog","renderFields","getSelectedSettings","inputs_1","isIE","fieldsClass","sCol","DataTableFacetTab","reinitGrid","gridResolver","DataGrid","dropSettings","AggrFunc","ChartWidget","chartType","Pie","supportedChartTypes","potentialLabelColumns","potentialDataColumns","labelColumn","dataColumns","showOnPaging","hideSettings","hasColumnsForChart","prepareChartData","getSupportedChartTypes","getChartTypeName","ct","Area","Bar","Candlestick","Combo","Donut","Gauge","Histogram","Line","updateSettings","updateChartColumns","colNum","colLabel","ids_1","initChart","hasChartTypes","getCurrentChartType","mainDiv","canDraw","chartTypeSelector","sopt","ctkey","settingsDiv","chartDiv","initSettingsDiv","chartSettingsBtn","toggleSettings","drawChart","addContentDiv","delay","drawCore","settingsHeader","labelDiv","labelColumnSelectorCaption","labelColumnSelector","dataDiv","dataColumnSelectorCaption","dataColumnSelector","getPotentialLabelColumns","getPotentialDataColumns","getLabelColumnIndex","getDataColumnIndex","ChartJsWidget","chartLabels","chartColumns","hasChartJs","Chart","config","generateConfig","chartContext","getChartCanvas","canvases","borderColor","dataColors","datasetName","displayLegend","fillValue","getChartType","datasets","fill","labels","legend","GoogleChartWidget","hasGoogleCharts","google","charts","googleDataView","visualization","DataView","convertToGoogleFormat","convertToGoogleType","convertToGoogleValue","googleTable","DataTable","addRows","setCell","chartOptions","chartArea","getChartAreaWidth","createChart","draw","setColumns","ColumnChart","BarChart","ComboChart","AreaChart","LineChart","PieChart","CandlestickChart","ChartFacetTab","chart","getCurrent","labelCol","dataCol","PivotTableFacetTab","pivotTable","defaultRenderer","rowEl","fontWeight","PivotTable","createAggrFuncSelectBuilder","aggrFunc","csb","aggrfunc","aggrfuncs_1","createColumnsSelectBuilder","allowedTypes","colName","getContextDataTable","_loop_2","colTypes","fieldTypes","horizClass","rowName","fieldName","totalsRow","totalsCol","Average","updatePivotData","rowIdx","fieldIdx","columnCol","columnRow","rowLabel","rowType","colValues","rowValues","colValue","rowValue","null_columns","new_rows","calcAggrFunc","totalByRow","new_rows_1","total_row","totalByCol","rows_1","Sum","average","Min","Max","Count","MAX_SAFE_INTEGER","fieldValue","MIN_SAFE_INTEGER","ExportDialog","defFormat","formats","ResultFacetsPanel","facets","activeFacetIndex","showExportButton","showRefreshButton","showMaximizeButton","showProcessIndicator","menuItems","renderProcessBlock","loadFacets","reloadFacets","createAddMenu","renderActiveFacet","updateTotalRecords","addMenu","recordsDiv","exportDiv","_processBlock","tabsDiv","tabsUl","facet","renderFacet","addClickHandler","manageDiv","bdb","exportHandler","refreshHandler","maximizeButton","maximizeHandler","facetTab","renderFacetTab","renderFacetBody","settingsClickHandler","closeClickHandler","selectClickHandler","refreshFacetTabs","removeFacet","createFacetTab","facetSlot","saveFacets","setActiveFacet","confirmed","createDefaultFacetIfNotExist","f","ExtraData","items_1","fd","ExportWidget","LocaleWidget","changeLocale","selectEl","locales","locales_1","optionEl","displayLocaleName","QueryNameWidget","mobClass","nameSlot","asteriskSlot","tooltipSlot","queryName","View","domRoots","defaultViewOptions","disableConfirmationOnQueryChange","queryFileExtensions","clearResultOnQueryChange","resultGrid","resultOptions","resetContext","renderSpinner","defaultErrorHandler","registerDialogServiceResolver","shadowRoots","initOptions","initWidgets","initDone","columnsPanel","entitiesPanel","resultPanel","filterBar","processBar","statementPanel","queryNameLabel","facetsPanel","resultCount","exportButton","slots","resultCountSpan","exportButtons","epElement","resolveElement","entitiesPanelWidget","createEntitiesPanelWidget","cpElement","columnsPanelWidget","createColumnsPanelWidget","cbElement","columnsBarWidget","createColumnsBarWidget","queryPanelWidget","createQueryPanelWidget","resultPanelSlot","resultGridWidget","gridPanel","createResultGridWidget","chartWidget","chartPanel","createChartWidget","qnElement","queryNameWidget","createQueryNameWidget","fbElement","filterBarWidget","createFilterBarWidget","sbElement","sortingBarWidget","createSortingBarWidget","pbElement","processWidget","createProcessWidget","stElement","statementPanelWidget","createStatementPanelWidget","clElement","createLocaleWidget","fpElement","resultFacetPanelWidget","createResultFacetsPanel","ewElement","exportWidget","createExportWidget","resultCountSlot","elementOrId","resolveElementsByClassName","elemList","displayRecordsCount","easyGrid","setDialogService","executeQuery","showResultSpinner","hideResultSpinner","toggleExportButtons","enableExportButtons","disableExportButtons","_spinnerDiv","slotElement","chartWidgetResolver","resultGridResolver","detach","localeWidget","statementWidget","AdvancedSearchView","disabledClass","dropdownContainerClass","dropdownButtonClass","dropdownContentClass","dropdownShowClass","_querySaveTemplate","queryListMenu","fetchDataButtonClickHandler","fetchDataButtonClick","clearQueryButtonClickHandler","clearQueryButtonClick","newQueryButtonClickHandler","newQueryButtonClick","loadQueryButtonClickHandler","loadQueryButtonClick","saveQueryButtonClickHandler","saveQueryButtonClick","copyQueryButtonClickHandler","copyQueryButtonClick","removeQueryButtonClickHandler","removeQueryButtonClick","storageButtonClickHandler","storageDropButtonClick","saveQueryToFileButtonClickHandler","saveQueryToFileButtonClick","loadQueryFromFileButtonClickHandler","loadQueryFromFileButtonClick","exportButtonClickHandler","queryChangedHandler","syncQueryOnChange","fetchDataOnChange","outsideClickHandler","currentContent","dropdowns","openDropdown","refreshQueryList","queryListPanel","checkIfQueryModified","exportClass","queryContentInputId","clearQueryButtonId","newQueryButtonId","loadQueryButtonId","saveQueryButtonId","copyQueryButtonId","removeQueryButtonId","storageButtonId","fetchDataButtonId","loadQueryFromFileButtonId","saveQueryToFileButtonId","queryListPanelId","queryContentInput","fetchDataButton","clearQueryButton","newQueryButton","loadQueryButton","saveQueryButton","copyQueryButton","removeQueryButton","storageButton","loadQueryFromFileButton","saveQueryToFileButton","elems","hideExportButtons","storageDropButton","loadQueryFromFileInput","accept","loadQueryFromFileInputSelect","createNewQuery","saveCurrentQuery","copyQuery","showSaveQueryDialog","showQueryChangedDialog","removeCurrentQuery","showNewQueryDialog","header_1","processEl_1","newQueryName","header_2","processEl_2","showRemoveQueryDialog","showSaveQueryToFileDialog","renderSaveToFileDialogBody","fileNameInput","formatSelector","header_3","processEl_3","showLoadQueryFromFileDialog","file","files","FormData","append","fillLoadQueryButtonMenu","AdvancedSearchViewJQuery","DataFilterView","applyQueryFilter","DataFilterViewJQuery","HtmlDataFilterView","reports","reportCache","useReportCache","_reportSaveTemplate","clearReportButtonClickHandler","clearReportButtonClick","newReportButtonClickHandler","newReportButtonClick","loadReportButtonClickHandler","loadReportButtonClick","saveReportButtonClickHandler","saveReportButtonClick","removeReportButtonClickHandler","removeReportButtonClick","updateReportButtonClickHandler","updateReportButtonClick","reload","defaultReportId","changeType","noSync","syncReport","renderReportList","reportId","clearReportButton","newReportButton","loadReportButton","saveReportButton","removeReportButton","updateReportButton","exportButtonsContainer","reportListSlot","newReport","insertIntoReportList","loadReport","reportToLoad","findReportById","reportLoaded","renderReportProps","reportContent","getReportContentFromCache","saveReportContentInCache","setActiveReport","saveCurrentReportAs","log","removeCurrentReport","report","reportId_1","removeFromReportList","reportIndex","currentReport","lastUpdated","rlItems","renderReportPanels","renderReportItemInList","showExportButtons","reportName","rid","reportsContainer","noReportPanel","indexOfReportById","clearErrors","errorHandler","findReportCacheItem","ReportViewJQuery","AltMenuAttribute","AltMenuConstantExpression","ButtonClose","ButtonNext","ButtonPrev","MenuEnable","MenuParameterization","MenuJoinCond","CmdClear","CmdDelete","CmdToggleEnable","CmdAddCondition","CmdAddCondGroup","ButtonSelectAll","ButtonDeselectAll","ButtonAddColumns","ButtonAddConditions","CmdClickToAddCondition","CmdDeleteRow","ErrIncorrectGroupTitleFormat","ErrNotNumber","ErrIncorrectInteger","ErrIncorrectNumberList","False","LinkTypeAll","LinkTypeAny","LinkTypeNone","LinkTypeNotAll","ConjAll","ConjAny","ConjNotAll","ConjNone","MsgApplySelection","MsgAs","MsgEmptyList","MsgEmptyListValue","MsgEmptyScalarValue","MsgSubQueryValue","MsgEmptyAttrValue","MsgEmptyOperator","MsgEmptyCustomSql","MsgCustomSql","MsgNoResult","MsgResultCount","MsgOf","ConditionGroupTitle","RootConditionGroupTitle","StrAddConditions","SubQueryDialogTitle","SubQueryColumnTitle","SubQueryEmptyColumn","SubQueryQueryPanelCaption","True","ButtonSorting","ButtonToAggr","ButtonToSimple","CmdAscending","CmdClickToAddColumn","CmdDeleteColumn","CmdDeleteSorting","CmdDescending","CmdGroupSort","CmdNotSorted","ColTypeAggrFunc","ColTypeCompound","ColTypeGroup","ColTypeSimple","HeaderExpression","HeaderSorting","HeaderTitle","SortHeaderColumn","SortHeaderSorting","StrAddColumns","CustomExpression","CmdMoveToStart","CmdMoveRight","CmdMoveLeft","CmdMoveToEnd","CmdMoveUp","CmdMoveDown","ButtonMenu","CmdToSimple","CmdMoveToFirst","CmdMoveToPrev","CmdMoveToNext","CmdMoveToLast","CmdHiddenColumn","RowButtonTitle","StrNoFilterDefined","StrNoFilterClickToAdd","HintHours","HintMinutes","RemoveQueryTitle","RemoveQueryContent","NewQueryTitle","NewQueryContent","NewQueryDefName","SaveQueryTitle","SaveQueryContent","SaveQueryDefName","QueryChangedTitle","QueryChangedContent","UpdateQuerySelector","FileNameLabel","SaveQueryToFileDlgTitle","NewReportDefName","NewReportDlgTitle","SaveReportDlgTitle","SaveReportDlgLabel","RemoveReportDlgTitle","RemoveReportContent","Facets","TotalRecordsLabel","AddMenuItems","Pivot","LoadDataDlgTitle","LoadDataDlgContent","RefreshBtnTitle","ExportBtnTitle","MaximizeBtnTitle","RestoreBtnTitle","RemoveFacetDlgTitle","RemoveFacetDlgContent","DefaultDlgTitle","DefaultFacetTitle","TabNameLabel","ErrQueryChanged","ErrNotEnoughData","FacetTitle","DlgTitle","DataColumnSelectorLabel","LabelColumnSelectorLabel","ChartTypeSelectorLabel","ColumnFieldSelectorLabel","RowFieldSelectorLabel","CellDataSelectorLabel","TotalsRowLabel","TotalsColLabel","TotalGridLabel","TotalsDlgLabel","GrandTotalsLabel","TotalsDlgTitle","ExportDlgTitle","ExportDlgFmtLabel","Element","msMatchesSelector","webkitMatchesSelector","lcv","__kt","ck","infoBytes","binary_string","urlatob","bytes","Uint8Array","charCodeAt","_bs","part2","ed","setCharAt","f36","encChar","majVer","chr","trialDiv","ConditionEx","readOnly","parameterized","inJoin","newCond","ColumnEx","QueryEx","lType","EqServerQueryStorage","DataModelEx","path","findPath","addPathToTree","pathAdded","newNode","node","curPath","curStep","nextStep","passedEntities","pathFound","curStep_1","checkPath","nextStep_1","endPoint","entityLinks_1","entity2","newPath","EqTotalsCalculator","levelPromises","processLevel","levelData","buildLevelData","valueColumns","valueColumns_1","valueCol","hideTrialWM","setLicenseKeyEndpoint","keyOrInitCallback","services","textAlign","opacity","font","transition","eq","lineHeight","korzh","trialOnly","createTrialWM"],"mappings":"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","file":"adhoc-reporting.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","/** Represents the common types of the data. */\r\nexport var DataType;\r\n(function (DataType) {\r\n    /** Unknown type value*/\r\n    DataType[DataType[\"Unknown\"] = 0] = \"Unknown\";\r\n    /** String value*/\r\n    DataType[DataType[\"String\"] = 1] = \"String\";\r\n    /** 8-bit integer value */\r\n    DataType[DataType[\"Byte\"] = 2] = \"Byte\";\r\n    /** 16-bit integer value */\r\n    DataType[DataType[\"Word\"] = 3] = \"Word\";\r\n    /** 32-bit integer value */\r\n    DataType[DataType[\"Int32\"] = 4] = \"Int32\";\r\n    /** 64-bit integer value */\r\n    DataType[DataType[\"Int64\"] = 5] = \"Int64\";\r\n    /** Boolean value */\r\n    DataType[DataType[\"Bool\"] = 6] = \"Bool\";\r\n    /** Floating-point numeric value */\r\n    DataType[DataType[\"Float\"] = 7] = \"Float\";\r\n    /** Money value */\r\n    DataType[DataType[\"Currency\"] = 8] = \"Currency\";\r\n    /** Binary-coded decimal value */\r\n    DataType[DataType[\"BCD\"] = 9] = \"BCD\";\r\n    /** Date value */\r\n    DataType[DataType[\"Date\"] = 10] = \"Date\";\r\n    /** Time value */\r\n    DataType[DataType[\"Time\"] = 11] = \"Time\";\r\n    /** Date and time value */\r\n    DataType[DataType[\"DateTime\"] = 12] = \"DateTime\";\r\n    /** Autoincrement 32-bit integer value */\r\n    DataType[DataType[\"Autoinc\"] = 13] = \"Autoinc\";\r\n    /** MEMO value (text with unlimited length) */\r\n    DataType[DataType[\"Memo\"] = 14] = \"Memo\";\r\n    /** BLOB value (any data with unlimited length) */\r\n    DataType[DataType[\"Blob\"] = 15] = \"Blob\";\r\n    /** Fixed character value */\r\n    DataType[DataType[\"FixedChar\"] = 16] = \"FixedChar\";\r\n    /** The unique identifier */\r\n    DataType[DataType[\"Guid\"] = 17] = \"Guid\";\r\n    /*-------- Spatial data types ----------*/\r\n    /** Any geometry data */\r\n    DataType[DataType[\"Geometry\"] = 18] = \"Geometry\";\r\n    /** Any data that represents some geography objects</summary> */\r\n    DataType[DataType[\"Geography\"] = 19] = \"Geography\";\r\n})(DataType || (DataType = {}));\r\n//# sourceMappingURL=data_type.js.map","export var EntityAttrKind;\r\n(function (EntityAttrKind) {\r\n    EntityAttrKind[EntityAttrKind[\"Data\"] = 0] = \"Data\";\r\n    EntityAttrKind[EntityAttrKind[\"Virtual\"] = 1] = \"Virtual\";\r\n    EntityAttrKind[EntityAttrKind[\"Lookup\"] = 2] = \"Lookup\";\r\n})(EntityAttrKind || (EntityAttrKind = {}));\r\n//# sourceMappingURL=entity_attr_kind.js.map","export var EditorTag = {\r\n    /** Unknown tag value */\r\n    Unknown: \"Unknown\",\r\n    /** Edit tag value */\r\n    Edit: \"EDIT\",\r\n    /** DateTime tag value  */\r\n    DateTime: \"DATETIME\",\r\n    /** List tag value */\r\n    List: \"LIST\",\r\n    /** CustomList tag value */\r\n    CustomList: \"CUSTOMLIST\"\r\n};\r\n//# sourceMappingURL=editor_tag.js.map","export var HttpMethod;\r\n(function (HttpMethod) {\r\n    HttpMethod[\"Trace\"] = \"TRACE\";\r\n    HttpMethod[\"Options\"] = \"OPTIONS\";\r\n    HttpMethod[\"Get\"] = \"GET\";\r\n    HttpMethod[\"Put\"] = \"PUT\";\r\n    HttpMethod[\"Post\"] = \"POST\";\r\n    HttpMethod[\"Delete\"] = \"DELETE\";\r\n})(HttpMethod || (HttpMethod = {}));\r\n//# sourceMappingURL=http_method.js.map","var HttpRequest = /** @class */ (function () {\r\n    function HttpRequest(xhr, descriptor) {\r\n        this.xhr = xhr;\r\n        this.method = descriptor.method;\r\n        this.url = descriptor.url;\r\n        this.headers = descriptor.headers;\r\n        this.queryParams = descriptor.queryParams;\r\n        this.data = descriptor.data;\r\n    }\r\n    HttpRequest.prototype.setHeader = function (name, value) {\r\n        this.headers[name] = value;\r\n    };\r\n    HttpRequest.prototype.setQueryParam = function (name, value) {\r\n        this.queryParams[name] = value;\r\n    };\r\n    HttpRequest.prototype.getXMLHttpRequest = function () {\r\n        return this.xhr;\r\n    };\r\n    HttpRequest.prototype.getResponseHeaders = function () {\r\n        if (this.xhr.readyState == this.xhr.HEADERS_RECEIVED) {\r\n            var headers = this.xhr.getAllResponseHeaders();\r\n            var arr = headers.trim().split(/[\\r\\n]+/);\r\n            // Create a map of header names to values\r\n            var headerMap = {};\r\n            for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\r\n                var line = arr_1[_i];\r\n                var parts = line.split(': ');\r\n                var header = parts.shift();\r\n                var value = parts.join(': ');\r\n                headerMap[header] = value;\r\n            }\r\n            return headerMap;\r\n        }\r\n        return {};\r\n    };\r\n    HttpRequest.prototype.open = function () {\r\n        var _this = this;\r\n        if (this.xhr.readyState !== this.xhr.UNSENT)\r\n            return;\r\n        var url = this.url;\r\n        if (this.queryParams && Object.keys(this.queryParams).length > 0) {\r\n            url += encodeURI('?' + Object.keys(this.queryParams)\r\n                .map(function (param) { return param + '=' + _this.queryParams[param]; })\r\n                .join('&'));\r\n        }\r\n        this.xhr.open(this.method, url, true);\r\n        this.xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n        for (var header in this.headers) {\r\n            this.xhr.setRequestHeader(header, this.headers[header]);\r\n        }\r\n    };\r\n    HttpRequest.prototype.abort = function () {\r\n        this.xhr.abort();\r\n    };\r\n    return HttpRequest;\r\n}());\r\nexport { HttpRequest };\r\n//# sourceMappingURL=http_request.js.map","import { DataType } from '../types/data_type';\r\nimport { utils } from '../utils/utils';\r\n/**\r\n * Contains internatialization functionality.\r\n */\r\nexport var i18n;\r\n(function (i18n) {\r\n    var englishUSLocaleSettings = {\r\n        shortDateFormat: 'MM/dd/yyyy',\r\n        longDateFormat: 'dd MMM, yyyy',\r\n        editDateFormat: 'MM/dd/yyyy',\r\n        shortTimeFormat: 'HH:mm',\r\n        editTimeFormat: 'HH:mm',\r\n        longTimeFormat: 'HH:mm:ss',\r\n        shortMonthNames: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n        longMonthNames: ['January', 'February', 'March', 'April', 'May', 'June',\r\n            'July', 'August', 'September', 'October', 'November', 'December'],\r\n        shortWeekDayNames: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\r\n        longWeekDayNames: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\r\n        decimalSeparator: '.',\r\n        currency: 'USD'\r\n    };\r\n    var defaultLocale = {\r\n        localeId: 'en-US',\r\n        englishName: 'English',\r\n        displayName: 'English',\r\n        texts: {\r\n            ButtonOK: 'OK',\r\n            ButtonCancel: 'Cancel'\r\n        },\r\n        settings: englishUSLocaleSettings\r\n    };\r\n    var allLocales = {\r\n        'en-US': defaultLocale\r\n    };\r\n    var currentLocale;\r\n    var mappers = [];\r\n    function mapInfo(info) {\r\n        for (var _i = 0, mappers_1 = mappers; _i < mappers_1.length; _i++) {\r\n            var mapper = mappers_1[_i];\r\n            mapper(info);\r\n        }\r\n    }\r\n    function addMapper(mapper) {\r\n        mappers.push(mapper);\r\n    }\r\n    i18n.addMapper = addMapper;\r\n    /**\r\n     * Gets added locales with their names.\r\n     * @returns  The locales.\r\n     */\r\n    function getLocales() {\r\n        var result = [];\r\n        for (var locale in allLocales) {\r\n            result.push({\r\n                locale: locale,\r\n                englishName: allLocales[locale].englishName,\r\n                displayName: allLocales[locale].displayName\r\n            });\r\n        }\r\n        return result.sort(function (a, b) {\r\n            if (a.englishName > b.englishName) {\r\n                return 1;\r\n            }\r\n            else if (a.englishName === b.englishName) {\r\n                return 0;\r\n            }\r\n            return -1;\r\n        });\r\n    }\r\n    i18n.getLocales = getLocales;\r\n    /**\r\n     * Gets the current locale ID.\r\n     * @returns The locale.\r\n     */\r\n    function getCurrentLocale() {\r\n        return currentLocale.localeId;\r\n    }\r\n    i18n.getCurrentLocale = getCurrentLocale;\r\n    /**\r\n    * Sets the curent locale.\r\n    * @deprecated Use setCurrentLocale instead\r\n    * @param l The locale.\r\n    */\r\n    function setLocale(l) {\r\n        console.warn(\"This method is deprecated. Use setCurrentLocale instead\");\r\n        setCurrentLocale(l);\r\n    }\r\n    i18n.setLocale = setLocale;\r\n    /**\r\n     * Sets the curent locale.\r\n     * @param localeId The locale.\r\n     */\r\n    function setCurrentLocale(localeId) {\r\n        var newLocale = allLocales[localeId];\r\n        if (newLocale) {\r\n            utils.assignDeep(currentLocale, newLocale);\r\n        }\r\n        else {\r\n            currentLocale.englishName = localeId;\r\n            currentLocale.displayName = localeId;\r\n            currentLocale.texts = utils.assignDeep({}, defaultLocale.texts);\r\n        }\r\n        currentLocale.localeId = localeId;\r\n    }\r\n    i18n.setCurrentLocale = setCurrentLocale;\r\n    /**\r\n     * Returns localized text by the key defined in parameter.\r\n     * Here we get the text of the resource string assigned to CmdClickToAddCondition key:\r\n     *\r\n     ```\r\n       const text = i18n.getText('CmdClickToAddCondition')\r\n     ```\r\n     * @param args The keys of the resource string.\r\n     * @returns Text of the resource defined by key or null if the key is not found\r\n     *\r\n     */\r\n    function getText() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var textsObj = currentLocale.texts;\r\n        var resText = '';\r\n        if (args && args.length) {\r\n            var argLength = args.length;\r\n            for (var i = 0; i < argLength; i++) {\r\n                resText = textsObj[args[i]];\r\n                if (typeof resText === 'object') {\r\n                    textsObj = resText;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return resText;\r\n    }\r\n    i18n.getText = getText;\r\n    function getLocaleSettings() {\r\n        return currentLocale.settings;\r\n    }\r\n    i18n.getLocaleSettings = getLocaleSettings;\r\n    function getOneLocaleSetting(key) {\r\n        return currentLocale.settings[key];\r\n    }\r\n    i18n.getOneLocaleSetting = getOneLocaleSetting;\r\n    function getShortMonthName(monthNum) {\r\n        var settings = getLocaleSettings();\r\n        if (monthNum > 0 && monthNum < 13) {\r\n            return settings.shortMonthNames[monthNum - 1];\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + monthNum;\r\n        }\r\n    }\r\n    i18n.getShortMonthName = getShortMonthName;\r\n    function getLongMonthName(monthNum) {\r\n        var settings = getLocaleSettings();\r\n        if (monthNum > 0 && monthNum < 13) {\r\n            return settings.longMonthNames[monthNum - 1];\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + monthNum;\r\n        }\r\n    }\r\n    i18n.getLongMonthName = getLongMonthName;\r\n    function getShortWeekDayName(dayNum) {\r\n        var settings = getLocaleSettings();\r\n        if (dayNum > 0 && dayNum < 8) {\r\n            return settings.shortWeekDayNames.length >= dayNum\r\n                ? settings.shortWeekDayNames[dayNum - 1]\r\n                : dayNum.toString();\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + dayNum;\r\n        }\r\n    }\r\n    i18n.getShortWeekDayName = getShortWeekDayName;\r\n    function getLongWeekDayName(dayNum) {\r\n        var settings = getLocaleSettings();\r\n        if (dayNum > 0 && dayNum < 8) {\r\n            return settings.longWeekDayNames.length >= dayNum\r\n                ? settings.longWeekDayNames[dayNum - 1]\r\n                : dayNum.toString();\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + dayNum;\r\n        }\r\n    }\r\n    i18n.getLongWeekDayName = getLongWeekDayName;\r\n    /**\r\n     * Updates the locale settings (date/time formats, separators, etc) for the specified locale.\r\n     * @param settingsToUpdate a LocaleSettings object\r\n     * @param locale The locale ID (like 'en', 'de', 'uk', etc).\r\n     * If not specified - the function will update the settings for the current locale\r\n     */\r\n    function updateLocaleSettings(settingsToUpdate) {\r\n        if (!currentLocale.settings) {\r\n            currentLocale.settings = utils.assignDeep({}, englishUSLocaleSettings);\r\n        }\r\n        currentLocale.settings = utils.assignDeep(currentLocale.settings, settingsToUpdate);\r\n    }\r\n    i18n.updateLocaleSettings = updateLocaleSettings;\r\n    /**\r\n     * Updates the texts for the current locale\r\n     * @param texts A plain JS object that contains textual resources\r\n     */\r\n    function updateLocaleTexts(texts) {\r\n        if (typeof texts !== 'object') {\r\n            console.error('Wrong parameter type in updateLocaleTexts function call.' +\r\n                'The first parameter (localeId) is not necessary. Use updateLocaleTexts(texts) instead');\r\n            return;\r\n        }\r\n        mapInfo({ localeId: currentLocale.localeId, texts: texts });\r\n        utils.assignDeep(currentLocale.texts, texts);\r\n    }\r\n    i18n.updateLocaleTexts = updateLocaleTexts;\r\n    function updateDefaultTexts(texts) {\r\n        for (var localeId in allLocales) {\r\n            var locale = allLocales[localeId];\r\n            locale.texts = utils.assignDeep({}, texts, locale.texts);\r\n        }\r\n        currentLocale.texts = utils.assignDeep({}, texts, currentLocale.texts);\r\n    }\r\n    i18n.updateDefaultTexts = updateDefaultTexts;\r\n    /**\r\n     * Updates the information for the specified locale.\r\n     * @param localeId The locale ID (like 'en', 'de', 'uk', etc).\r\n     * If the locale does exist yet - it will be added\r\n     * @param localeInfo  a LocaleInfo object that contains the locale settings and textual resources\r\n     */\r\n    function updateLocaleInfo(localeId, localeData) {\r\n        mapInfo(localeData);\r\n        var localeInfoToUpdate = currentLocale;\r\n        if (localeId) {\r\n            if (!localeData.localeId) {\r\n                localeData.localeId = localeId;\r\n            }\r\n            localeInfoToUpdate = allLocales[localeId];\r\n            if (!localeInfoToUpdate) {\r\n                localeInfoToUpdate = utils.assignDeep({}, defaultLocale);\r\n                allLocales[localeId] = localeInfoToUpdate;\r\n            }\r\n        }\r\n        utils.assignDeep(localeInfoToUpdate, localeData);\r\n    }\r\n    i18n.updateLocaleInfo = updateLocaleInfo;\r\n    /**\r\n     * Adds the locale.\r\n     * @param localeId The locale ID (like 'en', 'de', 'uk', etc).\r\n     * If the locale does exist yet - it will be created\r\n     * @param localeInfo - a LocaleInfo object that contains the locale settings and textual resources\r\n     */\r\n    function addLocale(localeId, localeInfo) {\r\n        updateLocaleInfo(localeId, localeInfo);\r\n    }\r\n    i18n.addLocale = addLocale;\r\n    /**\r\n     * Overwrites some locale settings (date/time formats) with the formats used in browser's current language\r\n     */\r\n    function determineSettingsByLocale(localeId) {\r\n        var now = new Date(2020, 5, 7, 19, 34, 56, 88);\r\n        var dateOptions = { year: 'numeric', month: 'numeric', day: 'numeric' };\r\n        var timeOptions = { hour: 'numeric', minute: 'numeric', second: 'numeric' };\r\n        var dateStr = now.toLocaleDateString(localeId, dateOptions);\r\n        var timeStr = now.toLocaleTimeString(localeId, timeOptions);\r\n        var dateFormat = dateStr\r\n            .replace('07', 'dd')\r\n            .replace('7', 'd')\r\n            .replace('06', 'MM')\r\n            .replace('6', 'M')\r\n            .replace('2020', 'yyyy')\r\n            .replace('20', 'yy');\r\n        var timeFormat = timeStr\r\n            .replace('19', 'HH')\r\n            .replace('07', 'hh')\r\n            .replace('7', 'h')\r\n            .replace('34', 'mm')\r\n            .replace('56', 'ss')\r\n            .replace('PM', 'tt');\r\n        if (!currentLocale.settings) {\r\n            currentLocale.settings = {};\r\n        }\r\n        var localeSettings = {\r\n            shortDateFormat: dateFormat,\r\n            editDateFormat: dateFormat,\r\n            shortTimeFormat: timeFormat\r\n        };\r\n        updateLocaleSettings(localeSettings);\r\n    }\r\n    function loadBrowserLocaleSettings() {\r\n        var lang = typeof navigator === 'object' ? navigator.language : undefined;\r\n        determineSettingsByLocale(lang);\r\n    }\r\n    function resetLocales() {\r\n        if (!currentLocale) {\r\n            currentLocale = utils.assignDeep({}, defaultLocale);\r\n            loadBrowserLocaleSettings();\r\n        }\r\n    }\r\n    i18n.resetLocales = resetLocales;\r\n    function dateTimeToStr(dateTime, dataType, format) {\r\n        if (format) {\r\n            if (format == \"d\") {\r\n                format = buildShortDateTimeFormat(DataType.Date);\r\n            }\r\n            else if (format == \"D\") {\r\n                format = buildLongDateTimeFormat(DataType.Date);\r\n            }\r\n            else if (format == \"f\") {\r\n                format = buildShortDateTimeFormat(DataType.DateTime);\r\n            }\r\n            else if (format == \"F\") {\r\n                format = buildLongDateTimeFormat(DataType.DateTime);\r\n            }\r\n        }\r\n        else {\r\n            format = buildShortDateTimeFormat(dataType);\r\n        }\r\n        return utils.dateTimeToStr(dateTime, format);\r\n    }\r\n    i18n.dateTimeToStr = dateTimeToStr;\r\n    function buildShortDateTimeFormat(dataType) {\r\n        var localeSettings = getLocaleSettings();\r\n        var format;\r\n        switch (dataType) {\r\n            case DataType.Date:\r\n                format = localeSettings.shortDateFormat;\r\n                break;\r\n            case DataType.Time:\r\n                format = localeSettings.shortTimeFormat;\r\n                break;\r\n            default:\r\n                format = localeSettings.shortDateFormat + ' ' + localeSettings.shortTimeFormat;\r\n                break;\r\n        }\r\n        return format;\r\n    }\r\n    function buildLongDateTimeFormat(dataType) {\r\n        var localeSettings = getLocaleSettings();\r\n        var format;\r\n        switch (dataType) {\r\n            case DataType.Date:\r\n                format = localeSettings.longDateFormat;\r\n                break;\r\n            case DataType.Time:\r\n                format = localeSettings.longTimeFormat;\r\n                break;\r\n            default:\r\n                format = localeSettings.longDateFormat + ' ' + localeSettings.longTimeFormat;\r\n                break;\r\n        }\r\n        return format;\r\n    }\r\n    function numberToStr(number, format) {\r\n        if (format) {\r\n            var locale = getCurrentLocale();\r\n            return number.toLocaleString(locale, getNumberFromatOptions(format));\r\n        }\r\n        var localeSettings = getLocaleSettings();\r\n        return utils.numberToStr(number, localeSettings.decimalSeparator);\r\n    }\r\n    i18n.numberToStr = numberToStr;\r\n    function getNumberFromatOptions(format) {\r\n        var localeSettings = getLocaleSettings();\r\n        var type = format[0].toUpperCase();\r\n        var digits = (format.length > 1)\r\n            ? Number.parseInt(format.slice(1))\r\n            : type == 'D' ? 1 : 2;\r\n        switch (type) {\r\n            case 'D':\r\n                return {\r\n                    style: 'decimal',\r\n                    useGrouping: false,\r\n                    minimumIntegerDigits: digits\r\n                };\r\n            case 'C':\r\n                return {\r\n                    style: 'currency',\r\n                    currency: localeSettings.currency,\r\n                    minimumFractionDigits: digits\r\n                };\r\n            default:\r\n                return {\r\n                    style: 'decimal',\r\n                    minimumFractionDigits: digits\r\n                };\r\n        }\r\n    }\r\n})(i18n || (i18n = {}));\r\n//# sourceMappingURL=i18n.js.map","import * as strf from './string_utils';\r\nimport { DataType } from '../types/data_type';\r\nimport { i18n } from '../i18n/i18n';\r\nexport var utils;\r\n(function (utils) {\r\n    function getAllDataTypes() {\r\n        return Object.values(DataType);\r\n    }\r\n    utils.getAllDataTypes = getAllDataTypes;\r\n    function getDateDataTypes() {\r\n        return [DataType.Time, DataType.Date, DataType.DateTime];\r\n    }\r\n    utils.getDateDataTypes = getDateDataTypes;\r\n    function getStringDataTypes() {\r\n        return [DataType.String, DataType.Memo];\r\n    }\r\n    utils.getStringDataTypes = getStringDataTypes;\r\n    var _numericTypes = [DataType.Byte, DataType.Word, DataType.Int32,\r\n        DataType.Int64, DataType.Float, DataType.Currency];\r\n    var _intTypes = [DataType.Byte, DataType.Word, DataType.Int32, DataType.Int64];\r\n    //-------------- object functions -------------------\r\n    /**\r\n     * Copy the content of all objests passed in `args` parameters into `target`\r\n     * and returns the result\r\n     * NB: This function copies only the first level properties.\r\n     * For a deep copy please use `assignDeep`\r\n     * @param target - the target object\r\n     * @param args  - an array of the source objects\r\n     */\r\n    function assign(target) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        for (var i = 0; i < args.length; i++) {\r\n            var source = args[i];\r\n            if (source) {\r\n                for (var key in source) {\r\n                    if (source.hasOwnProperty(key)) {\r\n                        target[key] = source[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n    utils.assign = assign;\r\n    /**\r\n     * Copy the content of all objests passed in `args` parameters into `target`\r\n     * and returns the result\r\n     * NB: This function make a deep copy -\r\n     * so `assignDeep` will be called recursively for all object properties\r\n     * on the first level.\r\n     * @param target - the target object\r\n     * @param sources  - an array of the source objects\r\n     */\r\n    function assignDeep(target) {\r\n        var sources = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            sources[_i - 1] = arguments[_i];\r\n        }\r\n        return assignDeepCore(new WeakMap(), target, sources);\r\n    }\r\n    utils.assignDeep = assignDeep;\r\n    function assignDeepCore(hashSet, target, sources) {\r\n        if (!target) {\r\n            target = {};\r\n        }\r\n        for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\r\n            var source = sources_1[_i];\r\n            if (source) {\r\n                for (var key in source) {\r\n                    if (source.hasOwnProperty(key)) {\r\n                        var sourceVal = source[key];\r\n                        if (sourceVal !== null && typeof sourceVal === 'object') {\r\n                            if (hashSet.has(sourceVal)) {\r\n                                target[key] = hashSet.get(sourceVal);\r\n                            }\r\n                            else {\r\n                                if (Array.isArray(sourceVal)) {\r\n                                    target[key] = createArrayFrom(sourceVal);\r\n                                    hashSet.set(sourceVal, target[key]);\r\n                                }\r\n                                else {\r\n                                    if (typeof target[key] == 'undefined') {\r\n                                        target[key] = Object.create(Object.getPrototypeOf(sourceVal));\r\n                                    }\r\n                                    hashSet.set(sourceVal, target[key]);\r\n                                    assignDeepCore(hashSet, target[key], [sourceVal]);\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            target[key] = sourceVal;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n    function getIfDefined(value, defaultValue) {\r\n        return (typeof value !== 'undefined') ? value : defaultValue;\r\n    }\r\n    utils.getIfDefined = getIfDefined;\r\n    function IsDefinedAndNotNull(value) {\r\n        return typeof value !== 'undefined' && value !== null;\r\n    }\r\n    utils.IsDefinedAndNotNull = IsDefinedAndNotNull;\r\n    function copyArrayTo(collection1, collection2) {\r\n        var len1 = collection1.length;\r\n        var len2 = collection2.length;\r\n        for (var i = 0; i < len1 && i < len2; i++) {\r\n            collection2[i] = collection1[i];\r\n        }\r\n    }\r\n    utils.copyArrayTo = copyArrayTo;\r\n    function createArrayFrom(collection) {\r\n        var result = [];\r\n        for (var _i = 0, collection_1 = collection; _i < collection_1.length; _i++) {\r\n            var item = collection_1[_i];\r\n            result.push(item);\r\n        }\r\n        return result;\r\n    }\r\n    utils.createArrayFrom = createArrayFrom;\r\n    /**\r\n     * Searches an array of the objects which implement ItemWithId by ID\r\n     * Returs the found object or null.\r\n     * @param array\r\n     * @param id\r\n     */\r\n    function findItemById(array, id) {\r\n        var arrLength = array.length;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            if (array[idx].id === id)\r\n                return array[idx];\r\n        }\r\n        return null;\r\n    }\r\n    utils.findItemById = findItemById;\r\n    function findItemIndexById(array, id) {\r\n        var arrLength = array.length;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            if (array[idx].id === id)\r\n                return idx;\r\n        }\r\n        return -1;\r\n    }\r\n    utils.findItemIndexById = findItemIndexById;\r\n    /**\r\n     * Searches an array of the objects which implement ItemWithId by ID\r\n     * Returs the index of the found element, or -1 if nothing was found.\r\n     * @param array\r\n     * @param id\r\n     */\r\n    function indexOfArrayItem(arr, item) {\r\n        if (arr.indexOf) {\r\n            return arr.indexOf(item);\r\n        }\r\n        else {\r\n            var len = arr.length;\r\n            for (var i = 0; i < len; i++) {\r\n                if (item == arr[i]) {\r\n                    return i;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n    utils.indexOfArrayItem = indexOfArrayItem;\r\n    /**\r\n     * Moves an item in some array to a new position\r\n     * @param array\r\n     * @param index1\r\n     * @param index2\r\n     */\r\n    function moveArrayItem(array, index1, index2) {\r\n        if (index1 >= array.length) {\r\n            throw 'Index out of bounds: ' + index1;\r\n        }\r\n        if (index2 >= array.length) {\r\n            index2 = array.length - 1;\r\n        }\r\n        var item = array.splice(index1, 1)[0];\r\n        array.splice(index2, 0, item);\r\n    }\r\n    utils.moveArrayItem = moveArrayItem;\r\n    /**\r\n     * Searches for a particular item in the array are removes that item if found.\r\n     * @param arr\r\n     * @param value\r\n     */\r\n    function removeArrayItem(arr, value) {\r\n        var index = arr.indexOf(value);\r\n        if (index != -1) {\r\n            return arr.splice(index, 1)[0];\r\n        }\r\n    }\r\n    utils.removeArrayItem = removeArrayItem;\r\n    function insertArrayItem(arr, index, value) {\r\n        arr.splice(index, 0, value);\r\n    }\r\n    utils.insertArrayItem = insertArrayItem;\r\n    function fillArray(arr, value, start, end) {\r\n        if (start === void 0) { start = 0; }\r\n        var len = arr.length >>> 0;\r\n        var relativeStart = start >> 0;\r\n        var k = relativeStart < 0 ?\r\n            Math.max(len + relativeStart, 0) :\r\n            Math.min(relativeStart, len);\r\n        var relativeEnd = end === undefined ?\r\n            len : end >> 0;\r\n        var final = relativeEnd < 0 ?\r\n            Math.max(len + relativeEnd, 0) :\r\n            Math.min(relativeEnd, len);\r\n        while (k < final) {\r\n            arr[k] = value;\r\n            k++;\r\n        }\r\n        return arr;\r\n    }\r\n    utils.fillArray = fillArray;\r\n    //------------ DOM utils ------------\r\n    /**\r\n     * Calculates the shift on which we need to move our element horizontally\r\n     * to find current window\r\n     * @param absLeft\r\n     * @param width\r\n     */\r\n    function shiftToFitWindow(absLeft, width) {\r\n        var body = document.getElementsByTagName('body')[0];\r\n        var winWidth = window.innerWidth || document.documentElement.clientWidth || body.clientWidth;\r\n        var absRight = absLeft + width;\r\n        var shift = 0;\r\n        if (absRight > winWidth) {\r\n            shift = winWidth - absRight - 10;\r\n            if (absLeft + shift < 0) {\r\n                shift = 10 - absLeft;\r\n            }\r\n        }\r\n        return shift;\r\n    }\r\n    utils.shiftToFitWindow = shiftToFitWindow;\r\n    /**\r\n     * Returns `true` if the value passed in the parameter is an object\r\n     * @param val\r\n     */\r\n    function isObject(val) {\r\n        if (val === null) {\r\n            return false;\r\n        }\r\n        return ((typeof val === 'function') || (typeof val === 'object'));\r\n    }\r\n    utils.isObject = isObject;\r\n    /**\r\n     * Returns `true` if the `DataType` value passed in the parameter\r\n     * represents some numeric type\r\n     * @param dtype\r\n     */\r\n    function isNumericType(dtype) {\r\n        var index = _numericTypes.indexOf(dtype);\r\n        return (index >= 0);\r\n    }\r\n    utils.isNumericType = isNumericType;\r\n    /**\r\n     * Returns `true` if the `DataType` value passed in the parameter\r\n     * represents some numeric type\r\n     * @param dtype\r\n     */\r\n    function isIntType(dtype) {\r\n        var index = _intTypes.indexOf(dtype);\r\n        return (index >= 0);\r\n    }\r\n    utils.isIntType = isIntType;\r\n    /**\r\n     * Returns `true` if the value passed in the parameter is an a numeric value\r\n     * @param val\r\n     */\r\n    function isNumeric(val) {\r\n        return !isNaN(parseFloat(val)) && isFinite(val);\r\n    }\r\n    utils.isNumeric = isNumeric;\r\n    /**\r\n     * Returns `true` if two data types  passed in parameters\r\n     * are compatible - so it's safe to copy the values between\r\n     * two expressions with these two types\r\n     * @param type1\r\n     * @param type2\r\n     */\r\n    function areCompatibleDataTypes(type1, type2) {\r\n        return typeof type1 == \"undefined\" || typeof type2 == \"undefined\" || type1 == DataType.Unknown || type2 == DataType.Unknown\r\n            || (type1 == type2) || (type1 == DataType.Date && type2 == DataType.DateTime)\r\n            || (type1 == DataType.DateTime && type2 == DataType.Date);\r\n    }\r\n    utils.areCompatibleDataTypes = areCompatibleDataTypes;\r\n    /**\r\n     * Returns `true` if the property with named `propName`\r\n     * in the object `obj` has some value\r\n     * @param obj\r\n     * @param propName\r\n     */\r\n    function isPropSet(obj, propName) {\r\n        return obj[propName] || obj[propName.toLowerCase()] || obj[propName.toUpperCase()];\r\n    }\r\n    utils.isPropSet = isPropSet;\r\n    //-------------- ID generator -----------\r\n    var prefixIdLen = 4;\r\n    var symbols = \"0123456789abcdefghijklmnopqrstuvwxyz\";\r\n    var magicTicks = 636712160627685350;\r\n    /**\r\n     * Generates an unique ID\r\n     */\r\n    function generateId(prefix) {\r\n        if (!prefix) {\r\n            prefix = 'easy';\r\n        }\r\n        var prfx = (prefix.length > prefixIdLen) ? squeezeMoniker(prefix, prefixIdLen) : prefix;\r\n        if (prfx && prfx.length > 0) {\r\n            prfx += \"-\";\r\n        }\r\n        //adding 2 random symbols\r\n        var randValue = strf.repeatString(\"\", 2);\r\n        ;\r\n        var maxSymbolIndex = symbols.length - 1;\r\n        randValue = replaceAtString(randValue, 0, symbols[getRandomInt(0, maxSymbolIndex)]);\r\n        randValue = replaceAtString(randValue, 1, symbols[getRandomInt(0, maxSymbolIndex)]);\r\n        //generating main ID part (64-base representation of the current value of the time ticks)\r\n        var ticksNum64 = intToNum36(getNowTicks() - magicTicks);\r\n        return prfx + randValue + ticksNum64;\r\n    }\r\n    utils.generateId = generateId;\r\n    function intToNum36(value) {\r\n        var targetBase = 36;\r\n        var i = 14;\r\n        var buffer = strf.repeatString(\"\", i);\r\n        var rest = value;\r\n        do {\r\n            buffer = replaceAtString(buffer, i--, symbols[rest % targetBase]);\r\n            rest = Math.floor(rest /= targetBase);\r\n        } while (rest > 0);\r\n        return strf.reverseString(buffer.trim());\r\n    }\r\n    function squeezeMoniker(str, maxlen) {\r\n        var parts = str.split('-');\r\n        var pml = 1;\r\n        var ptt = maxlen;\r\n        if (parts.length < maxlen) {\r\n            pml = maxlen / parts.length;\r\n            ptt = parts.length;\r\n        }\r\n        var result = \"\";\r\n        for (var i = 0; i < ptt; i++) {\r\n            result += squeeze(parts[i], pml);\r\n        }\r\n        return result;\r\n    }\r\n    function squeeze(str, maxlen) {\r\n        var len = str.length;\r\n        if (len > maxlen) {\r\n            var step = len / maxlen;\r\n            var result = \"\";\r\n            result += str[0];\r\n            var nextIndex = step;\r\n            var ch = void 0;\r\n            for (var i = 1; i < len; i++) {\r\n                ch = str[i];\r\n                if (i + 1 > nextIndex) {\r\n                    result += ch;\r\n                    nextIndex += step;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            return str;\r\n        }\r\n    }\r\n    function replaceAtString(str, index, value) {\r\n        return str.substr(0, index) + value + str.substr(index + value.length);\r\n    }\r\n    function getRandomInt(min, max) {\r\n        return Math.floor(Math.random() * (max - min)) + min;\r\n    }\r\n    function getNowTicks() {\r\n        return (621355968e9 + (new Date()).getTime() * 1e4);\r\n    }\r\n    function safeParseInt(str) {\r\n        var isnum = /^\\d+$/.test(str);\r\n        if (!isnum)\r\n            throw \"Is not a valid number\";\r\n        return parseInt(str);\r\n    }\r\n    function getDaysInMonth(month, year) {\r\n        return new Date(year, month + 1, 0).getDate();\r\n    }\r\n    // ------------- date/time functions -------------------\r\n    // TO DO: improve to process all datetime cases\r\n    function strToDateTime(value, format) {\r\n        if (!value || value.length == 0)\r\n            return new Date();\r\n        var normalized = value.replace(/[^a-zA-Z0-9_]/g, '-');\r\n        var normalizedFormat = format.replace(/[^a-zA-Z0-9_]/g, '-');\r\n        var formatItems = normalizedFormat.split('-');\r\n        var dateItems = normalized.split('-');\r\n        var monthIndex = formatItems.indexOf(\"MM\");\r\n        var dayIndex = formatItems.indexOf(\"dd\");\r\n        var yearIndex = formatItems.indexOf(\"yyyy\");\r\n        var hourIndex = formatItems.indexOf(\"HH\");\r\n        var minutesIndex = formatItems.indexOf(\"mm\");\r\n        var secondsIndex = formatItems.indexOf(\"ss\");\r\n        var today = new Date();\r\n        try {\r\n            var year = yearIndex > -1 && yearIndex < dateItems.length ? safeParseInt(dateItems[yearIndex]) : today.getFullYear();\r\n            var month = monthIndex > -1 && monthIndex < dateItems.length ? safeParseInt(dateItems[monthIndex]) - 1 : today.getMonth() - 1;\r\n            if (month > 11)\r\n                throw '';\r\n            var day = dayIndex > -1 && dayIndex < dateItems.length ? safeParseInt(dateItems[dayIndex]) : today.getDate();\r\n            if (day > getDaysInMonth(month, year))\r\n                throw '';\r\n            var hour = hourIndex > -1 && hourIndex < dateItems.length ? safeParseInt(dateItems[hourIndex]) : 0;\r\n            if (hour > 23)\r\n                throw '';\r\n            var minute = minutesIndex > -1 && minutesIndex < dateItems.length ? safeParseInt(dateItems[minutesIndex]) : 0;\r\n            if (minute > 59)\r\n                throw '';\r\n            var second = secondsIndex > -1 && secondsIndex < dateItems.length ? safeParseInt(dateItems[secondsIndex]) : 0;\r\n            if (second > 59)\r\n                throw '';\r\n            return new Date(year, month, day, hour, minute, second);\r\n        }\r\n        catch (_a) {\r\n            throw \"Is not a valid date time.\";\r\n        }\r\n    }\r\n    utils.strToDateTime = strToDateTime;\r\n    var DT_FORMAT_RGEX = /\\[([^\\]]+)]|y{4}|M{1,4}|d{1,2}|H{1,2}|h{1,2}|m{2}|s{2}|t{2}/g;\r\n    /**\r\n     * Returns string representation of the date/time value according to the custom format (second parameter)\r\n     * The format is compatible with the one used in .NET: https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings\r\n     * @param date\r\n     * @param format\r\n     */\r\n    function dateTimeToStr(date, format) {\r\n        var year = date.getFullYear();\r\n        var month = date.getMonth() + 1;\r\n        var day = date.getDate();\r\n        var hour = date.getHours();\r\n        var minute = date.getMinutes();\r\n        var second = date.getSeconds();\r\n        var hour12 = hour % 12 || 12; //the remainder of the division by 12. Or 12 if it's 0\r\n        var isPm = hour > 11;\r\n        var matches = {\r\n            yyyy: year.toString(),\r\n            MMMM: i18n.getLongMonthName(month),\r\n            MMM: i18n.getShortMonthName(month),\r\n            MM: (month < 10) ? '0' + month : month.toString(),\r\n            M: month.toString(),\r\n            dd: (day < 10) ? '0' + day : day.toString(),\r\n            d: day.toString(),\r\n            HH: (hour < 10) ? '0' + hour : hour.toString(),\r\n            H: hour.toString(),\r\n            hh: (hour12 < 10) ? '0' + hour12 : hour12.toString(),\r\n            h: hour12.toString(),\r\n            tt: isPm ? 'PM' : 'AM',\r\n            mm: (minute < 10) ? '0' + minute : minute.toString(),\r\n            ss: (second < 10) ? '0' + second : second.toString()\r\n        };\r\n        return format.replace(DT_FORMAT_RGEX, function (match, $1) {\r\n            return $1 || matches[match];\r\n        });\r\n    }\r\n    utils.dateTimeToStr = dateTimeToStr;\r\n    /**\r\n    * Converts a numeric value to the string taking into the account the decimal separator\r\n    * @param value - the number to convert\r\n    * @param decimalSeparator - the symbol that represents decimal separator. If not specified the function gets the one from the current locale settings.\r\n    */\r\n    function numberToStr(number, decimalSeparator) {\r\n        decimalSeparator = decimalSeparator || i18n.getLocaleSettings().decimalSeparator;\r\n        return number.toString().replace('.', decimalSeparator);\r\n    }\r\n    utils.numberToStr = numberToStr;\r\n})(utils || (utils = {}));\r\n//# sourceMappingURL=utils.js.map","export function repeatString(str, times) {\r\n    var result = \"\";\r\n    for (var i = 0; i < times; i++) {\r\n        result += str;\r\n    }\r\n    return result;\r\n}\r\nexport function reverseString(str) {\r\n    return str.split(\"\").reverse().join(\"\");\r\n}\r\nexport function strEndsWith(str, symbol) {\r\n    return str && str.lastIndexOf(symbol) == (str.length - symbol.length);\r\n}\r\n/**\r\n * Adds two paths and returns the result\r\n * Correctly processes leading and trailing slashes\r\n * @param path1\r\n * @param path2\r\n */\r\nexport function combinePath(path1, path2) {\r\n    var result = path1;\r\n    if (result != null && result.length > 0) {\r\n        if (result.charAt(result.length - 1) != '/')\r\n            result += \"/\";\r\n        result += path2;\r\n    }\r\n    else {\r\n        result = path2;\r\n    }\r\n    return result;\r\n}\r\n//# sourceMappingURL=string_utils.js.map","var HttpActionResult = /** @class */ (function () {\r\n    function HttpActionResult(request, promise) {\r\n        this.request = request;\r\n        this.promise = promise;\r\n    }\r\n    HttpActionResult.prototype.getPromise = function () {\r\n        return this.promise;\r\n    };\r\n    HttpActionResult.prototype.getRequest = function () {\r\n        return this.request;\r\n    };\r\n    HttpActionResult.prototype.then = function (onfulfilled, onrejected) {\r\n        return this.promise.then(onfulfilled, onrejected);\r\n    };\r\n    HttpActionResult.prototype.catch = function (onrejected) {\r\n        return this.promise.catch(onrejected);\r\n    };\r\n    HttpActionResult.prototype.finally = function (onfinally) {\r\n        return this.promise.finally(onfinally);\r\n    };\r\n    return HttpActionResult;\r\n}());\r\nexport { HttpActionResult };\r\n//# sourceMappingURL=http_action_result.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { utils } from '../utils/utils';\r\nimport { HttpActionResult } from './http_action_result';\r\nimport { HttpMethod } from './http_method';\r\nimport { HttpRequest } from './http_request';\r\nvar HttpResponseError = /** @class */ (function (_super) {\r\n    __extends(HttpResponseError, _super);\r\n    function HttpResponseError(status, message) {\r\n        var _this = _super.call(this, message) || this;\r\n        _this.status = status;\r\n        return _this;\r\n    }\r\n    return HttpResponseError;\r\n}(Error));\r\nexport { HttpResponseError };\r\nvar HttpClient = /** @class */ (function () {\r\n    function HttpClient() {\r\n        this.defaultHeaders = {};\r\n        this.customPayload = undefined;\r\n    }\r\n    HttpClient.prototype.get = function (url, options) {\r\n        return this.send(HttpMethod.Get, url, null, options);\r\n    };\r\n    HttpClient.prototype.post = function (url, data, options) {\r\n        return this.send(HttpMethod.Post, url, data, options);\r\n    };\r\n    HttpClient.prototype.put = function (url, data, options) {\r\n        return this.send(HttpMethod.Put, url, data, options);\r\n    };\r\n    HttpClient.prototype.delete = function (url, data, options) {\r\n        return this.send(HttpMethod.Delete, url, data, options);\r\n    };\r\n    HttpClient.prototype.send = function (method, url, data, options) {\r\n        options = options || {};\r\n        var dataType = options.dataType || 'json';\r\n        var contentType = options.contentType || (dataType !== 'form-data')\r\n            ? 'application/json'\r\n            : null;\r\n        if (data && dataType != 'form-data' && this.customPayload) {\r\n            data.data = utils.assignDeep(data.data || {}, this.customPayload);\r\n        }\r\n        var XHR = ('onload' in new XMLHttpRequest())\r\n            ? XMLHttpRequest\r\n            : window[\"XDomainRequest\"]; //IE support\r\n        var xhr = new XHR();\r\n        var desc = {\r\n            method: method,\r\n            url: url,\r\n            headers: __assign({}, this.defaultHeaders, options.headers || {}),\r\n            queryParams: options.queryParams || {},\r\n            data: data\r\n        };\r\n        if (contentType)\r\n            desc.headers['Content-Type'] = contentType;\r\n        var request = new HttpRequest(xhr, desc);\r\n        if (this.beforeEachRequest) {\r\n            console.warn(\"HttpClient: 'beforeEachRequest' is deprecated and will be removed in future updates.\\n            Use 'onRequest' instead\");\r\n            this.beforeEachRequest(request);\r\n        }\r\n        if (this.onRequest) {\r\n            this.onRequest(request);\r\n        }\r\n        var dataToSend = (request.data && typeof request.data !== 'string'\r\n            && dataType == 'json')\r\n            ? JSON.stringify(request.data)\r\n            : request.data;\r\n        request.open();\r\n        return new HttpActionResult(request, new Promise(function (resolve, reject) {\r\n            if (options.responseType)\r\n                xhr.responseType = options.responseType;\r\n            xhr.onreadystatechange = function () {\r\n                if (xhr.readyState != 4) {\r\n                    return;\r\n                }\r\n                var responseContentType = xhr.getResponseHeader('Content-Type') || '';\r\n                var responseObj = (xhr.responseType === 'arraybuffer' || xhr.responseType === 'blob')\r\n                    ? xhr.response\r\n                    : (responseContentType.indexOf('application/json') == 0)\r\n                        ? JSON.parse(xhr.responseText)\r\n                        : xhr.responseText;\r\n                var status = xhr.status;\r\n                if (status >= 300 || status < 200) {\r\n                    var message = responseObj.message ||\r\n                        (status == 404\r\n                            ? \"No such endpoint: \" + url\r\n                            : responseObj);\r\n                    reject(new HttpResponseError(status, message));\r\n                    return;\r\n                }\r\n                resolve(responseObj);\r\n            };\r\n            xhr.send(dataToSend);\r\n        }));\r\n    };\r\n    return HttpClient;\r\n}());\r\nexport { HttpClient };\r\n//# sourceMappingURL=http_client.js.map","import { DataType } from '../types/data_type';\r\nimport { utils } from '../utils/utils';\r\nexport var ColumnAlignment;\r\n(function (ColumnAlignment) {\r\n    ColumnAlignment[ColumnAlignment[\"None\"] = 0] = \"None\";\r\n    ColumnAlignment[ColumnAlignment[\"Left\"] = 1] = \"Left\";\r\n    ColumnAlignment[ColumnAlignment[\"Center\"] = 2] = \"Center\";\r\n    ColumnAlignment[ColumnAlignment[\"Right\"] = 3] = \"Right\";\r\n})(ColumnAlignment || (ColumnAlignment = {}));\r\nvar DataColumn = /** @class */ (function () {\r\n    function DataColumn(desc) {\r\n        if (!desc)\r\n            throw Error(\"Options are required\");\r\n        if (!desc.id)\r\n            throw Error(\"Field Id is required\");\r\n        if (!desc.label)\r\n            throw Error(\"Label is required\");\r\n        this.id = desc.id;\r\n        this.type = utils.getIfDefined(desc.type, DataType.String);\r\n        this.label = desc.label;\r\n        this.originAttrId = desc.originAttrId;\r\n        this.isAggr = desc.isAggr || false;\r\n        this.displayFormat = desc.dfmt;\r\n        this.style = desc.style || {};\r\n    }\r\n    return DataColumn;\r\n}());\r\nexport { DataColumn };\r\nvar DataColumnList = /** @class */ (function () {\r\n    function DataColumnList() {\r\n        this.items = [];\r\n        this.mapper = {};\r\n        this._dateColumnIdx = [];\r\n    }\r\n    Object.defineProperty(DataColumnList.prototype, \"count\", {\r\n        get: function () {\r\n            return this.items.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DataColumnList.prototype.add = function (colOrDesc) {\r\n        var col;\r\n        if (colOrDesc instanceof DataColumn) {\r\n            col = colOrDesc;\r\n        }\r\n        else {\r\n            col = new DataColumn(colOrDesc);\r\n        }\r\n        var index = this.items.length;\r\n        this.items.push(col);\r\n        this.mapper[col.id] = index;\r\n        if ([DataType.Date, DataType.DateTime, DataType.Time].indexOf(col.type) >= 0) {\r\n            this._dateColumnIdx.push(index);\r\n        }\r\n        return index;\r\n    };\r\n    DataColumnList.prototype.updateDateColumnIdx = function () {\r\n        this._dateColumnIdx = this.getItems()\r\n            .filter(function (col) { return [DataType.Date, DataType.DateTime, DataType.Time].indexOf(col.type) >= 0; })\r\n            .map(function (col, index) { return index; });\r\n    };\r\n    DataColumnList.prototype.put = function (index, col) {\r\n        //!!!!!!!!!check on \"out of index\"\r\n        this.items[index] = col;\r\n        this.updateDateColumnIdx();\r\n    };\r\n    DataColumnList.prototype.move = function (col, newIndex) {\r\n        var oldIndex = this.items.indexOf(col);\r\n        if (oldIndex >= 0 && oldIndex != newIndex) {\r\n            utils.moveArrayItem(this.items, oldIndex, newIndex);\r\n            this.updateDateColumnIdx();\r\n        }\r\n    };\r\n    DataColumnList.prototype.get = function (index) {\r\n        //!!!!!!!!!check on \"out of index\"\r\n        return this.items[index];\r\n    };\r\n    DataColumnList.prototype.getIndex = function (id) {\r\n        return this.mapper[id];\r\n    };\r\n    DataColumnList.prototype.getItems = function () {\r\n        return this.items;\r\n    };\r\n    DataColumnList.prototype.getDateColumnIndexes = function () {\r\n        return this._dateColumnIdx;\r\n    };\r\n    DataColumnList.prototype.removeAt = function (index) {\r\n        var col = this.get(index);\r\n        this.items.splice(index, 1);\r\n        var removeDate = this._dateColumnIdx.indexOf(index);\r\n        if (removeDate >= 0) {\r\n            this._dateColumnIdx.splice(removeDate, 1);\r\n        }\r\n        delete this.mapper[col.id];\r\n    };\r\n    DataColumnList.prototype.clear = function () {\r\n        this.items = [];\r\n        this._dateColumnIdx = [];\r\n        this.mapper = {};\r\n    };\r\n    return DataColumnList;\r\n}());\r\nexport { DataColumnList };\r\n//# sourceMappingURL=data_column.js.map","import { DataType } from '../types/data_type';\r\nimport { EntityAttrKind } from '../types/entity_attr_kind';\r\nimport { utils } from '../utils/utils';\r\n/**\r\n * Represents one entity.\r\n */\r\nvar MetaEntity = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function MetaEntity(parent) {\r\n        this.name = \"\";\r\n        this.caption = \"\";\r\n        this.description = \"\";\r\n        this.parent = parent;\r\n        this.attributes = new Array();\r\n        this.subEntities = new Array();\r\n    }\r\n    /**\r\n    * Loads entity from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param dto The JSON representation object.\r\n    */\r\n    MetaEntity.prototype.loadFromData = function (model, dto) {\r\n        if (dto) {\r\n            this.id = dto.id;\r\n            this.name = dto.name;\r\n            this.captionPlural = dto.namePlur;\r\n            this.caption = dto.name;\r\n            this.description = dto.desc;\r\n            this.subEntities = new Array();\r\n            if (dto.ents) {\r\n                for (var i = 0; i < dto.ents.length; i++) {\r\n                    var newEntity = model.createEntity(this);\r\n                    newEntity.loadFromData(model, dto.ents[i]);\r\n                    this.subEntities.push(newEntity);\r\n                }\r\n            }\r\n            this.attributes = new Array();\r\n            if (dto.attrs) {\r\n                for (var i = 0; i < dto.attrs.length; i++) {\r\n                    var newAttr = model.createEntityAttr(this);\r\n                    newAttr.loadFromData(model, dto.attrs[i]);\r\n                    this.attributes.push(newAttr);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MetaEntity.prototype.scan = function (processAttribute, processEntity) {\r\n        var opts = { stop: false };\r\n        var internalProcessEntity = function (entity) {\r\n            if (processEntity)\r\n                processEntity(entity, opts);\r\n            if (entity.attributes) {\r\n                var attrCount = entity.attributes.length;\r\n                for (var i = 0; (i < attrCount) && !opts.stop; i++) {\r\n                    var attr = entity.attributes[i];\r\n                    if (processAttribute) {\r\n                        processAttribute(attr, opts);\r\n                    }\r\n                    if (opts.stop)\r\n                        return;\r\n                }\r\n            }\r\n            if (entity.subEntities) {\r\n                var subEntityCount = entity.subEntities.length;\r\n                for (var i = 0; (i < subEntityCount) && !opts.stop; i++) {\r\n                    internalProcessEntity(entity.subEntities[i]);\r\n                }\r\n            }\r\n        };\r\n        internalProcessEntity(this);\r\n    };\r\n    return MetaEntity;\r\n}());\r\nexport { MetaEntity };\r\nvar MetaEntityAttr = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function MetaEntityAttr(entity) {\r\n        this.id = \"\";\r\n        this.caption = \"{Unrecognized attribute}\";\r\n        this.dataType = DataType.String;\r\n        this.size = 0;\r\n        this.isPrimaryKey = false;\r\n        this.isForeignKey = false;\r\n        this.isNullable = true;\r\n        this.showOnView = true;\r\n        this.isEditable = true;\r\n        this.showOnCreate = true;\r\n        this.showOnEdit = true;\r\n        this.showInLookup = false;\r\n        this.lookupAttr = \"\";\r\n        this.expr = \"\";\r\n        this.entity = entity;\r\n        this.kind = EntityAttrKind.Data;\r\n    }\r\n    /**\r\n     * Loads entity attribute from JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param dto The JSON representation object.\r\n     */\r\n    MetaEntityAttr.prototype.loadFromData = function (model, dto) {\r\n        if (dto) {\r\n            this.id = dto.id;\r\n            this.description = dto.desc;\r\n            this.caption = dto.cptn;\r\n            this.dataType = dto.dtype;\r\n            this.isPrimaryKey = dto.ipk;\r\n            this.isForeignKey = dto.ifk;\r\n            this.size = dto.size;\r\n            this.lookupAttr = dto.lattr;\r\n            this.lookupEntity = dto.lent;\r\n            this.dataAttr = dto.dattr;\r\n            this.lookupDataAttr = dto.ldattr;\r\n            this.isNullable = utils.getIfDefined(dto.nul, this.isNullable);\r\n            this.isEditable = utils.getIfDefined(dto.ied, this.isEditable);\r\n            this.showOnView = utils.getIfDefined(dto.ivis || dto.sov, this.showOnView);\r\n            this.showOnCreate = utils.getIfDefined(dto.soc, this.showOnCreate);\r\n            this.showOnEdit = utils.getIfDefined(dto.soe, this.showOnEdit);\r\n            this.showInLookup = utils.getIfDefined(dto.sil, this.showInLookup);\r\n            this.kind = dto.kind;\r\n            this.displayFormat = dto.dfmt;\r\n            if (dto.udata)\r\n                this.userData = dto.udata;\r\n            if (dto.edtr) {\r\n                this.defaultEditor = model.getEditorById(dto.edtr) || model.createValueEditor();\r\n            }\r\n        }\r\n    };\r\n    return MetaEntityAttr;\r\n}());\r\nexport { MetaEntityAttr };\r\n//# sourceMappingURL=meta_entity.js.map","import { EditorTag } from '../types/editor_tag';\r\nimport { DataType } from '../types/data_type';\r\n/**\r\n * Represents a value editor.\r\n */\r\nvar ValueEditor = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function ValueEditor() {\r\n        this.id = \"\";\r\n        this.tag = EditorTag.Unknown;\r\n        this.resType = DataType.Unknown;\r\n        this.defValue = \"\";\r\n    }\r\n    /**\r\n     * Loads value editor from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    ValueEditor.prototype.loadFromData = function (data) {\r\n        if (data) {\r\n            this.id = data.id;\r\n            this.tag = data.tag;\r\n            this.defValue = data.defval;\r\n            this.resType = data.rtype;\r\n            if (data.subType) {\r\n                this.resType = data.subType;\r\n            }\r\n            if (data.name) {\r\n                this.name = data.name;\r\n            }\r\n            if (data.values) {\r\n                this.values = data.values;\r\n            }\r\n        }\r\n    };\r\n    ValueEditor.prototype.getValueText = function (value) {\r\n        var result = \"\";\r\n        if (!this.values)\r\n            return result;\r\n        if (Array.isArray(value)) {\r\n            for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\r\n                var item = _a[_i];\r\n                if (value.indexOf(item.id) >= 0) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var _b = 0, _c = this.values; _b < _c.length; _b++) {\r\n                var item = _c[_b];\r\n                if (item.id === value) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        if (result) {\r\n            result = result.substring(0, result.length - 1);\r\n        }\r\n        return result;\r\n    };\r\n    return ValueEditor;\r\n}());\r\nexport { ValueEditor };\r\n//# sourceMappingURL=value_editor.js.map","import { i18n } from '../i18n/i18n';\r\nimport { utils } from '../utils/utils';\r\nimport { EditorTag } from '../types/editor_tag';\r\nimport { DataType } from '../types/data_type';\r\nimport { MetaEntity, MetaEntityAttr } from './meta_entity';\r\nimport { ValueEditor } from './value_editor';\r\n/**\r\n * Represents a data model\r\n */\r\nvar MetaData = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function MetaData() {\r\n        this.mainEntity = null;\r\n        this.id = '__none';\r\n        this.name = 'Empty model';\r\n        this.rootEntity = this.createEntity();\r\n    }\r\n    /**\r\n     * Gets the main entity of model\r\n     * @return The main entity.\r\n     */\r\n    MetaData.prototype.getMainEntity = function () {\r\n        return this.mainEntity;\r\n    };\r\n    MetaData.prototype.createEntity = function (parent) {\r\n        return new MetaEntity(parent);\r\n    };\r\n    MetaData.prototype.createEntityAttr = function (parent) {\r\n        return new MetaEntityAttr(parent);\r\n    };\r\n    MetaData.prototype.createValueEditor = function () {\r\n        return new ValueEditor();\r\n    };\r\n    /**\r\n     * Loads data model from JSON.\r\n     * @param stringJson The JSON string.\r\n     */\r\n    MetaData.prototype.loadFromJSON = function (stringJson) {\r\n        var model = JSON.parse(stringJson);\r\n        this.loadFromData(model);\r\n    };\r\n    /**\r\n     * Loads data model from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    MetaData.prototype.loadFromData = function (data) {\r\n        this.id = data.id;\r\n        this.name = data.name;\r\n        this.version = data.vers;\r\n        //Editors\r\n        this.editors = new Array();\r\n        if (data.editors) {\r\n            for (var i = 0; i < data.editors.length; i++) {\r\n                var newEditor = this.createValueEditor();\r\n                newEditor.loadFromData(data.editors[i]);\r\n                this.editors.push(newEditor);\r\n            }\r\n        }\r\n        //rootEntity\r\n        this.rootEntity.loadFromData(this, data.entroot);\r\n    };\r\n    /**\r\n     * Sets data to data model.\r\n     * @param model Its JSON representation object or JSON string.\r\n     */\r\n    MetaData.prototype.setData = function (model) {\r\n        if (typeof model === 'string') {\r\n            this.loadFromJSON(model);\r\n        }\r\n        else {\r\n            this.loadFromData(model);\r\n        }\r\n    };\r\n    /**\r\n     * Checks wether the data model is empty.\r\n     * @returns `true` if the data model is empty, otherwise `false`.\r\n     */\r\n    MetaData.prototype.isEmpty = function () {\r\n        return this.rootEntity.subEntities.length === 0 && this.rootEntity.attributes.length === 0;\r\n    };\r\n    /**\r\n     * Gets ID of the data model.\r\n     * @returns The ID.\r\n     */\r\n    MetaData.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    /**\r\n     * Gets name of the data model.\r\n     * @returns The name.\r\n     */\r\n    MetaData.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    /**\r\n     * Gets root entity of the data model.\r\n     * @returns The root entity.\r\n     */\r\n    MetaData.prototype.getRootEntity = function () {\r\n        return this.rootEntity;\r\n    };\r\n    /**\r\n     * Finds editor by its ID.\r\n     * @param editorId The editor ID.\r\n     * @returns The value editor or `null`.\r\n     */\r\n    MetaData.prototype.getEditorById = function (editorId) {\r\n        for (var _i = 0, _a = this.editors; _i < _a.length; _i++) {\r\n            var editor = _a[_i];\r\n            if (editor.id === editorId) {\r\n                return editor;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified model (it's root entity and all its sub-entities).\r\n     * @param attrId The attribute ID.\r\n     * @returns The attribute or `null`.\r\n     */\r\n    MetaData.prototype.getAttributeById = function (attrId) {\r\n        var attr = this.getEntityAttrById(this.getRootEntity(), attrId);\r\n        if (!attr) {\r\n            return null;\r\n        }\r\n        return attr;\r\n    };\r\n    /**\r\n     * Checks wether attribute contains such property.\r\n     * @param attrId The attribute ID.\r\n     * @param propName The property name.\r\n     * @returns `true` if the attribute contains the property, otherwise `false`.\r\n     */\r\n    MetaData.prototype.checkAttrProperty = function (attrId, propName) {\r\n        var attribute = this.getAttributeById(attrId);\r\n        if (attribute) {\r\n            if (typeof attribute[propName] === 'undefined') {\r\n                throw 'No such property: ' + propName;\r\n            }\r\n            if (attribute[propName]) {\r\n                return true;\r\n            }\r\n            else if (attribute.lookupAttr) {\r\n                attrId = attribute.lookupAttr;\r\n                attribute = this.getAttributeById(attrId);\r\n                return attribute && attribute[propName];\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        else\r\n            return false;\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified entity and all its sub-entities.\r\n     * @param entity\r\n     * @param attrId\r\n     * @returns The attribute or `null`.\r\n     */\r\n    MetaData.prototype.getEntityAttrById = function (entity, attrId) {\r\n        var idx;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (idx = 0; idx < attrCount; idx++) {\r\n                if (entity.attributes[idx].id == attrId) {\r\n                    return entity.attributes[idx];\r\n                }\r\n            }\r\n        }\r\n        var res;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (idx = 0; idx < subEntityCount; idx++) {\r\n                res = this.getEntityAttrById(entity.subEntities[idx], attrId);\r\n                if (res)\r\n                    return res;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    MetaData.prototype.listByEntityWithFilter = function (entity, filterFunc) {\r\n        var result = new Array();\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    caption = i18n.getText('Entities', ent.name);\r\n                    if (!caption) {\r\n                        caption = ent.caption;\r\n                    }\r\n                    var newEnt = utils.assign(this.createEntity(), { id: ent.name, text: caption, items: [], isEntity: true });\r\n                    newEnt.items = this.listByEntityWithFilter(ent, filterFunc);\r\n                    if (newEnt.items.length > 0)\r\n                        result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    caption = i18n.getText('Attributes', attr.id);\r\n                    if (!caption)\r\n                        caption = attr.caption;\r\n                    var newEnt = utils.assign(this.createEntity(), { id: attr.id, text: caption, dataType: attr.dataType });\r\n                    result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    MetaData.prototype.listByEntity = function (entity, opts, filterFunc) {\r\n        opts = opts || {};\r\n        var resultEntities = [];\r\n        var resultAttributes = [];\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    caption = i18n.getText('Entities', ent.name) || ent.caption;\r\n                    var newEnt = utils.assign(this.createEntity(), {\r\n                        id: ent.name,\r\n                        text: caption,\r\n                        items: [],\r\n                        isEntity: true,\r\n                        description: ent.description\r\n                    });\r\n                    var newOpts = utils.assign({}, opts);\r\n                    newOpts.includeRootData = false;\r\n                    newEnt.items = this.listByEntity(ent, newOpts, filterFunc);\r\n                    if (newEnt.items.length > 0) {\r\n                        resultEntities.push(newEnt);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    caption = i18n.getText('Attributes', attr.id) || attr.caption;\r\n                    resultAttributes.push(utils.assign(this.createEntityAttr(entity), {\r\n                        id: attr.id, text: caption,\r\n                        dataType: attr.dataType, lookupAttr: attr.lookupAttr,\r\n                        description: attr.description\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n        var sortCheck = function (a, b) {\r\n            if (a.text.toLowerCase() == b.text.toLowerCase()) {\r\n                return 0;\r\n            }\r\n            if (a.text.toLowerCase() > b.text.toLowerCase()) {\r\n                return 1;\r\n            }\r\n            return -1;\r\n        };\r\n        if (opts.sortEntities) {\r\n            resultEntities.sort(sortCheck);\r\n            resultAttributes.sort(sortCheck);\r\n        }\r\n        var result;\r\n        if (!opts.attrPlacement || opts.attrPlacement == 0) {\r\n            result = resultEntities.concat(resultAttributes);\r\n        }\r\n        else {\r\n            result = resultAttributes.concat(resultEntities);\r\n        }\r\n        if (opts.attrPlacement == 2) {\r\n            result.sort(sortCheck);\r\n        }\r\n        if (opts.includeRootData) {\r\n            caption = i18n.getText('Entities', entity.name);\r\n            if (!caption)\r\n                caption = entity.caption;\r\n            return { id: entity.name, text: caption, items: result };\r\n        }\r\n        else {\r\n            return result;\r\n        }\r\n    };\r\n    /**\r\n     * Clears data model.\r\n     */\r\n    MetaData.prototype.clear = function () {\r\n        this.rootEntity = this.createEntity();\r\n        this.editors = [];\r\n        this.version = '';\r\n    };\r\n    /**\r\n     * Add default value editors.\r\n     */\r\n    MetaData.prototype.addDefaultValueEditors = function () {\r\n        var ve;\r\n        ve = this.addOrUpdateValueEditor('_DTE', EditorTag.Edit, DataType.String);\r\n        ve.defValue = '';\r\n        this.addOrUpdateValueEditor('_DPDE', EditorTag.DateTime, DataType.DateTime);\r\n        this.addOrUpdateValueEditor('_DPTE', EditorTag.DateTime, DataType.DateTime);\r\n    };\r\n    /**\r\n    * Add or update a value editor.\r\n    * @param id The id.\r\n    * @param tag The tag.\r\n    * @param resType The result type.\r\n    * @returns The value editor.\r\n    */\r\n    MetaData.prototype.addOrUpdateValueEditor = function (id, tag, resType) {\r\n        var ve = utils.findItemById(this.editors, id);\r\n        if (!ve) {\r\n            ve = this.createValueEditor();\r\n            ve.id = id;\r\n            this.editors.push(ve);\r\n        }\r\n        ve.tag = tag;\r\n        ve.resType = resType;\r\n        return ve;\r\n    };\r\n    /**\r\n     * Gets entities tree.\r\n     * @param opts The options.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to options and the filter function\r\n     */\r\n    MetaData.prototype.getEntitiesTree = function (opts, filterFunc) {\r\n        return this.listByEntity(this.getRootEntity(), opts, filterFunc);\r\n    };\r\n    /**\r\n     * Gets entities tree due to filter.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to the filter function\r\n     */\r\n    MetaData.prototype.getEntitiesTreeWithFilter = function (filterFunc) {\r\n        return this.listByEntityWithFilter(this.getRootEntity(), filterFunc);\r\n    };\r\n    /**\r\n     * Finds full entity path by attribute\r\n     * @param attrId The attribute id.\r\n     * @param sep The separator.\r\n     * @returns The path.\r\n     */\r\n    MetaData.prototype.getFullEntityPathByAttr = function (attrId, sep) {\r\n        sep = sep || ' ';\r\n        return this.getEntityPathByAttr(this.getRootEntity(), attrId, sep, true);\r\n    };\r\n    /**\r\n    * Finds entity path by attribute\r\n    * @param entity The entity.\r\n    * @param attrId The attribute id.\r\n    * @param sep The separator.\r\n    * @param root The root option.\r\n    * @returns The path.\r\n    */\r\n    MetaData.prototype.getEntityPathByAttr = function (entity, attrId, sep, root) {\r\n        if (!entity)\r\n            return '';\r\n        sep = sep || ' ';\r\n        var entityCaption = '';\r\n        if (entity.caption && !root) {\r\n            var entityText = i18n.getText('Entities', entity.caption);\r\n            entityCaption = entityText ? entityText : entity.caption;\r\n        }\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var i = 0; i < attrCount; i++) {\r\n                if (entity.attributes[i].id == attrId) {\r\n                    return entityCaption;\r\n                }\r\n            }\r\n        }\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var i = 0; i < subEntityCount; i++) {\r\n                var ent = entity.subEntities[i];\r\n                var res = this.getEntityPathByAttr(ent, attrId, sep, false);\r\n                if (res !== '') {\r\n                    if (entityCaption !== '')\r\n                        res = entityCaption + sep + res;\r\n                    return res;\r\n                }\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n    /**\r\n     * Gets the attribute text.\r\n     * @param attr The attribute.\r\n     * @param format The format.\r\n     * @returns Formatted text.\r\n     */\r\n    MetaData.prototype.getAttributeText = function (attr, format) {\r\n        var attrText = i18n.getText('Attributes', attr.id);\r\n        if (!attrText) {\r\n            attrText = attr.caption;\r\n        }\r\n        if (!format) {\r\n            return attrText;\r\n        }\r\n        var result = '';\r\n        var entityPath = this.getFullEntityPathByAttr(attr.id, ' ');\r\n        if (entityPath) {\r\n            result = format.replace(new RegExp('{attr}', 'g'), attrText);\r\n            result = result.replace(new RegExp('{entity}', 'g'), entityPath);\r\n        }\r\n        else {\r\n            result = attrText;\r\n        }\r\n        return result.trim();\r\n    };\r\n    /**\r\n     * Scans model's entity tree and calls the callback functions for each attribute and entity.\r\n     * @param processAttribute The callback function which is called for each attribute in model's entity tree.\r\n     * The processed attribute is passed in the first function parameter.\r\n     * @param processEntity The callback function which is called for each entity in tree.\r\n     * The processed entity is passed in the first function parameter.\r\n     */\r\n    MetaData.prototype.runThroughEntities = function (processAttribute, processEntity) {\r\n        this.getRootEntity().scan(processAttribute, processEntity);\r\n    };\r\n    /**\r\n     * Finds first attribute by filter.\r\n     * @param filterFunc The filter function. Takes EntityAttr object in parameter and returns boolean\r\n     */\r\n    MetaData.prototype.getFirstAttributeByFilter = function (filterFunc) {\r\n        var res = null;\r\n        this.runThroughEntities(function (attr, opts) {\r\n            if (filterFunc(attr)) {\r\n                opts.stop = true;\r\n                res = attr;\r\n            }\r\n        }, null);\r\n        return res;\r\n    };\r\n    return MetaData;\r\n}());\r\nexport { MetaData };\r\n//# sourceMappingURL=meta_data.js.map","var DataRow = /** @class */ (function () {\r\n    function DataRow(columns, values) {\r\n        this.columns = columns;\r\n        this.values = values;\r\n    }\r\n    DataRow.prototype.toArray = function () {\r\n        return Array.from(this.values);\r\n    };\r\n    DataRow.prototype.size = function () {\r\n        return this.values.length;\r\n    };\r\n    DataRow.prototype.getValue = function (colIdOrIndex) {\r\n        var index;\r\n        if (typeof colIdOrIndex === \"string\") {\r\n            index = this.columns.getIndex(colIdOrIndex);\r\n            if (index === undefined) {\r\n                throw new RangeError(\"No column with id '\" + colIdOrIndex + \"'\");\r\n            }\r\n        }\r\n        else {\r\n            index = colIdOrIndex;\r\n        }\r\n        if (index >= this.values.length)\r\n            throw new RangeError(\"Out of range: \" + index);\r\n        return this.values[index];\r\n    };\r\n    DataRow.prototype.setValue = function (colIdOrIndex, value) {\r\n        var index;\r\n        if (typeof colIdOrIndex === \"string\") {\r\n            index = this.columns.getIndex(colIdOrIndex);\r\n            if (index === undefined) {\r\n                throw new RangeError(\"No column with id '\" + colIdOrIndex + \"'\");\r\n            }\r\n        }\r\n        else {\r\n            index = colIdOrIndex;\r\n        }\r\n        if (index >= this.values.length)\r\n            throw new RangeError(\"Out of range: \" + index);\r\n        this.values[index] = value;\r\n    };\r\n    return DataRow;\r\n}());\r\nexport { DataRow };\r\n//# sourceMappingURL=data_row.js.map","import { DataColumnList } from \"./data_column\";\r\nimport { DataRow } from \"./data_row\";\r\nvar EasyDataTable = /** @class */ (function () {\r\n    function EasyDataTable(options) {\r\n        this._chunkSize = 1000;\r\n        // object keeps number keys sorted\r\n        this.chunkMap = {};\r\n        this.total = 0;\r\n        this.loader = null;\r\n        this.needTotal = true;\r\n        options = options || {};\r\n        this._chunkSize = options.chunkSize || this._chunkSize;\r\n        this.loader = options.loader;\r\n        this._columns = new DataColumnList();\r\n        if (options.columns) {\r\n            for (var _i = 0, _a = options.columns; _i < _a.length; _i++) {\r\n                var colDesc = _a[_i];\r\n                this._columns.add(colDesc);\r\n            }\r\n        }\r\n        if (options.rows) {\r\n            for (var _b = 0, _c = options.rows; _b < _c.length; _b++) {\r\n                var rowData = _c[_b];\r\n                var row = this.createRow(rowData);\r\n                this.addRow(row);\r\n            }\r\n        }\r\n    }\r\n    Object.defineProperty(EasyDataTable.prototype, \"columns\", {\r\n        get: function () {\r\n            return this._columns;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EasyDataTable.prototype, \"chunkSize\", {\r\n        get: function () {\r\n            return this._chunkSize;\r\n        },\r\n        set: function (value) {\r\n            this._chunkSize = value;\r\n            this.total = 0;\r\n            this.needTotal = true;\r\n            this.chunkMap = {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EasyDataTable.prototype.getRows = function (params) {\r\n        var _this = this;\r\n        var fromIndex = 0, count = this._chunkSize;\r\n        if (params) {\r\n            if ('page' in params) {\r\n                fromIndex = params.pageSize * (params.page - 1);\r\n                count = params.pageSize;\r\n            }\r\n            else {\r\n                fromIndex = params.offset;\r\n                count = params.limit;\r\n            }\r\n        }\r\n        if (fromIndex >= this.total) {\r\n            return Promise.resolve([]);\r\n        }\r\n        var endIndex = fromIndex + count;\r\n        if (endIndex >= this.total) {\r\n            endIndex = this.total;\r\n        }\r\n        var lbChunk = Math.trunc(fromIndex / this._chunkSize);\r\n        var upChunk = Math.trunc(endIndex / this._chunkSize);\r\n        var allChunksCached = true;\r\n        for (var i = lbChunk; i <= upChunk; i++) {\r\n            if (!this.chunkMap[i]) {\r\n                allChunksCached = false;\r\n                break;\r\n            }\r\n        }\r\n        if (allChunksCached) {\r\n            var resultArr = [];\r\n            for (var i = lbChunk; i <= upChunk; i++) {\r\n                resultArr = resultArr.concat(this.chunkMap[i].rows);\r\n            }\r\n            return Promise.resolve(resultArr.slice(fromIndex - this.chunkMap[lbChunk].offset, endIndex - this.chunkMap[lbChunk].offset));\r\n        }\r\n        //if loader is not defined\r\n        if (!this.loader) {\r\n            throw \"Loader is not defined. Can't get the rows from \" + fromIndex + \" to \" + endIndex;\r\n        }\r\n        // we need total only fo first request\r\n        var needTotal = this.needTotal;\r\n        if (this.needTotal) {\r\n            this.needTotal = false;\r\n        }\r\n        return this.loader.loadChunk({\r\n            offset: lbChunk * this._chunkSize,\r\n            limit: this._chunkSize * (upChunk - lbChunk + 1),\r\n            needTotal: needTotal\r\n        })\r\n            .then(function (result) {\r\n            var chunks = result.table.getCachedChunks();\r\n            if (needTotal) {\r\n                _this.total = result.total;\r\n            }\r\n            var index = lbChunk;\r\n            for (var _i = 0, chunks_1 = chunks; _i < chunks_1.length; _i++) {\r\n                var chunk = chunks_1[_i];\r\n                _this.chunkMap[index] = {\r\n                    offset: index * _this._chunkSize,\r\n                    rows: chunk.rows\r\n                };\r\n                index++;\r\n            }\r\n            var resultArr = [];\r\n            for (var i = lbChunk; i <= upChunk; i++) {\r\n                resultArr = resultArr.concat(_this.chunkMap[i].rows);\r\n            }\r\n            return resultArr.slice(fromIndex - _this.chunkMap[lbChunk].offset, endIndex - _this.chunkMap[lbChunk].offset);\r\n        });\r\n    };\r\n    EasyDataTable.prototype.getRow = function (index) {\r\n        return this.getRows({ offset: index, limit: 1 })\r\n            .then(function (rows) { return rows.length > 0 ? rows[0] : null; });\r\n    };\r\n    EasyDataTable.prototype.getTotal = function () {\r\n        return this.total;\r\n    };\r\n    EasyDataTable.prototype.setTotal = function (total) {\r\n        this.total = total;\r\n        this.needTotal = false;\r\n        this.chunkMap = {};\r\n    };\r\n    EasyDataTable.prototype.getCachedCount = function () {\r\n        return this.getCachedRows().length;\r\n    };\r\n    EasyDataTable.prototype.clear = function () {\r\n        this.columns.clear();\r\n        this.chunkMap = {};\r\n        this.total = 0;\r\n        this.needTotal = true;\r\n    };\r\n    EasyDataTable.prototype.createRow = function (dataOrRow) {\r\n        var _this = this;\r\n        var dateIdx = this._columns.getDateColumnIndexes();\r\n        var values = new Array(this._columns.count);\r\n        var getValue = dataOrRow instanceof DataRow\r\n            ? function (colId) { return dataOrRow.getValue(colId); }\r\n            : function (colId) { return dataOrRow[colId]; };\r\n        if (dataOrRow) {\r\n            this.columns.getItems().forEach(function (column) {\r\n                var value = getValue(column.id);\r\n                var index = _this.columns.getIndex(column.id);\r\n                values[index] = (dateIdx.indexOf(index) >= 0)\r\n                    ? (value ? new Date(value) : value)\r\n                    : value;\r\n            });\r\n        }\r\n        return new DataRow(this._columns, values);\r\n    };\r\n    EasyDataTable.prototype.addRow = function (rowOrValue) {\r\n        var newRow;\r\n        if (Array.isArray(rowOrValue)) {\r\n            var dateIdx = this._columns.getDateColumnIndexes();\r\n            if (dateIdx.length > 0) {\r\n                for (var _i = 0, dateIdx_1 = dateIdx; _i < dateIdx_1.length; _i++) {\r\n                    var idx = dateIdx_1[_i];\r\n                    if (rowOrValue[idx]) {\r\n                        rowOrValue[idx] = new Date(rowOrValue[idx]);\r\n                    }\r\n                }\r\n            }\r\n            newRow = new DataRow(this._columns, rowOrValue);\r\n        }\r\n        else {\r\n            newRow = this.createRow(rowOrValue);\r\n        }\r\n        var lastChunk = this.getLastChunk();\r\n        if (!lastChunk || lastChunk.rows.length >= this._chunkSize) {\r\n            lastChunk = this.createChunk();\r\n        }\r\n        lastChunk.rows.push(newRow);\r\n        var cachedTotal = this.getCachedCount();\r\n        if (cachedTotal > this.total) {\r\n            this.total = cachedTotal;\r\n        }\r\n        return newRow;\r\n    };\r\n    EasyDataTable.prototype.createChunk = function (index) {\r\n        if (typeof index == 'undefined') {\r\n            index = this.getLastChunkIndex() + 1;\r\n        }\r\n        var chunk = { offset: index * this._chunkSize, rows: [] };\r\n        this.chunkMap[index] = chunk;\r\n        return chunk;\r\n    };\r\n    EasyDataTable.prototype.getLastChunkIndex = function () {\r\n        var keys = Object.keys(this.chunkMap);\r\n        return keys.length > 0\r\n            ? parseInt(keys[keys.length - 1])\r\n            : -1;\r\n    };\r\n    EasyDataTable.prototype.getLastChunk = function () {\r\n        var index = this.getLastChunkIndex();\r\n        return index > -1\r\n            ? this.chunkMap[index]\r\n            : null;\r\n    };\r\n    EasyDataTable.prototype.getCachedRows = function () {\r\n        return this.getCachedChunks()\r\n            .reduce(function (acc, v) { return acc.concat(v.rows); }, []);\r\n    };\r\n    EasyDataTable.prototype.getCachedChunks = function () {\r\n        return Object.values(this.chunkMap);\r\n    };\r\n    return EasyDataTable;\r\n}());\r\nexport { EasyDataTable };\r\n//# sourceMappingURL=easy_data_table.js.map","/**\r\n * EasyData representation of GUID.\r\n */\r\nvar EasyGuid = /** @class */ (function () {\r\n    function EasyGuid() {\r\n    }\r\n    /**\r\n     * Generates new GUID.\r\n     * @returns The string representation of GUID.\r\n     */\r\n    EasyGuid.newGuid = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    return EasyGuid;\r\n}());\r\nexport { EasyGuid };\r\n//# sourceMappingURL=easy_guid.js.map","import { EasyGuid } from '../utils/easy_guid';\r\n/**\r\n * The representation of event emitter.\r\n */\r\nvar EventEmitter = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param source The source.\r\n     */\r\n    function EventEmitter(source) {\r\n        this.silentMode = 0;\r\n        this.events = new Array();\r\n        this.source = source;\r\n    }\r\n    /**\r\n     * Subscries to the event.\r\n     * @param eventType The event type.\r\n     * @param callback The callback.\r\n     * @returns The subscribtion ID.\r\n     */\r\n    EventEmitter.prototype.subscribe = function (eventType, callback) {\r\n        var event = this.getEventRecByType(eventType);\r\n        var eventCallback = {\r\n            id: EasyGuid.newGuid(),\r\n            callback: callback\r\n        };\r\n        if (event) {\r\n            event.eventCallbacks.push(eventCallback);\r\n        }\r\n        else {\r\n            event = {\r\n                type: eventType,\r\n                eventCallbacks: new Array(eventCallback)\r\n            };\r\n            this.events.push(event);\r\n        }\r\n        return eventCallback.id;\r\n    };\r\n    /**\r\n     * Unsubsribes from the event.\r\n     * @param eventType The event type.\r\n     * @param callbackId The subscribtion ID.\r\n     */\r\n    EventEmitter.prototype.unsubscribe = function (eventType, callbackId) {\r\n        var event = this.getEventRecByType(eventType);\r\n        if (event) {\r\n            var index = -1;\r\n            for (index = 0; index < event.eventCallbacks.length; index++) {\r\n                if (event.eventCallbacks[index].id === callbackId) {\r\n                    break;\r\n                }\r\n            }\r\n            if (index >= 0) {\r\n                event.eventCallbacks.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Fires the event.\r\n     * @param eventType The event type.\r\n     * @param data The event data.\r\n     * @param postpone  The postpone.\r\n     * @param force To fire force. If value is `true`, ignores silent mode.\r\n     */\r\n    EventEmitter.prototype.fire = function (eventType, data, postpone, force) {\r\n        if (postpone === void 0) { postpone = 0; }\r\n        if (force === void 0) { force = false; }\r\n        if (this.silentMode && !force) {\r\n            return;\r\n        }\r\n        var eventRec = this.getEventRecByType(eventType);\r\n        if (eventRec) {\r\n            var eqevent_1 = {\r\n                type: eventType,\r\n                source: this.source,\r\n                data: data\r\n            };\r\n            var emitAllFunc = function () {\r\n                for (var _i = 0, _a = eventRec.eventCallbacks; _i < _a.length; _i++) {\r\n                    var callback = _a[_i];\r\n                    callback.callback(eqevent_1);\r\n                }\r\n            };\r\n            if (postpone > 0) {\r\n                setTimeout(emitAllFunc, postpone);\r\n            }\r\n            else {\r\n                emitAllFunc();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Enters to silent mode.\r\n     */\r\n    EventEmitter.prototype.enterSilentMode = function () {\r\n        this.silentMode++;\r\n    };\r\n    /**\r\n     * Exits from silent mode.\r\n     */\r\n    EventEmitter.prototype.exitSilentMode = function () {\r\n        if (this.silentMode) {\r\n            this.silentMode--;\r\n        }\r\n    };\r\n    /**\r\n     * Checks if emitter is in silent mode.\r\n     * @return `true`, if silent mode is enable.\r\n     */\r\n    EventEmitter.prototype.isSilent = function () {\r\n        return this.silentMode > 0;\r\n    };\r\n    EventEmitter.prototype.getEventRecByType = function (eventType) {\r\n        for (var _i = 0, _a = this.events; _i < _a.length; _i++) {\r\n            var event_1 = _a[_i];\r\n            if (event_1.type == eventType) {\r\n                return event_1;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return EventEmitter;\r\n}());\r\nexport { EventEmitter };\r\n//# sourceMappingURL=event_emitter.js.map","import { i18n } from './i18n';\r\ni18n.resetLocales();\r\n//# sourceMappingURL=load_default_locale_settings.js.map","//types\r\nexport * from './types/data_type';\r\nexport * from './types/entity_attr_kind';\r\nexport * from './types/editor_tag';\r\n//http\r\nexport * from './http/http_method';\r\nexport * from './http/http_request';\r\nexport * from './http/http_client';\r\n//meta data\r\nexport * from './meta/meta_data';\r\nexport * from './meta/meta_entity';\r\nexport * from './meta/value_editor';\r\nexport * from './data/data_column';\r\nexport * from './data/data_row';\r\nexport * from './data/easy_data_table';\r\n//event\r\nexport * from './event/event_emitter';\r\n//i18n\r\nexport * from './i18n/i18n';\r\n//utils\r\nexport * from './utils/easy_guid';\r\nexport * from './utils/string_utils';\r\nexport * from './utils/utils';\r\nimport './i18n/load_default_locale_settings';\r\nif (typeof Object.values !== 'function') {\r\n    Object.values = function (obj) {\r\n        return Object.keys(obj).map(function (key) { return obj[key]; });\r\n    };\r\n}\r\nif (typeof Math.trunc !== 'function') {\r\n    Math.trunc = function (x) {\r\n        if (isNaN(x)) {\r\n            return NaN;\r\n        }\r\n        if (x > 0) {\r\n            return Math.floor(x);\r\n        }\r\n        return Math.ceil(x);\r\n    };\r\n}\r\n//# sourceMappingURL=public_api.js.map","import { browserUtils } from './browser_utils';\r\n/**\r\n * Wraps all the elements inside \"parent\" by \"wrapper\" element\r\n * @param parent The element to add wrapper to.\r\n * @param wrapper The element that will wrap child elements.\r\n */\r\nexport function wrapInner(parent, wrapper) {\r\n    parent.appendChild(wrapper);\r\n    while (parent.firstChild !== wrapper) {\r\n        wrapper.appendChild(parent.firstChild);\r\n    }\r\n}\r\n/**\r\n * Creates ands adds a new [[HTMLElement]] to \"parent\"\r\n * @param parent The element to add new element to.\r\n * @param tag Html tag of the new element.\r\n * @param options The options. In particular, options.cssClass sets the new element class.\r\n * @returns New element.\r\n */\r\nexport function addElement(parent, tag, options) {\r\n    var element = document.createElement(tag);\r\n    var opts = options || {};\r\n    if (opts.cssClass) {\r\n        element.className = opts.cssClass;\r\n    }\r\n    parent.appendChild(element);\r\n    return element;\r\n}\r\n/**\r\n * Adds css class to the html element.\r\n * @param element The element to add css class to.\r\n * @param className The name of the css class to be added.\r\n */\r\nexport function addCssClass(element, className) {\r\n    element.className = (element.className)\r\n        ? element.className + ' ' + className\r\n        : className;\r\n}\r\n/**\r\n * Hides the html element.\r\n * @param element The element to be hidden.\r\n */\r\nexport function hideElement(element) {\r\n    element.style.display = 'none';\r\n}\r\n/**\r\n * Shows the html element.\r\n * @param element The element to be shown.\r\n * @param display The value of \"display\" style to be set. Default value is \"block\".\r\n */\r\nexport function showElement(element, display) {\r\n    if (!display) {\r\n        display = '';\r\n    }\r\n    element.style.display = display;\r\n}\r\n/**\r\n * Hides the \"first\" element and shows the \"second\".\r\n * @param first The element to be hidden.\r\n * @param second The element to be shown.\r\n * @param options The options. The following options are applied:\r\n * - display - the value of \"display\" style to be set. Default value is \"block\"\r\n * - duration - the duration of fading in and out\r\n * - complete - the callback to be called when toggle is complete\r\n */\r\nexport function toggleVisibility(first, second, options) {\r\n    if (!options) {\r\n        options = {};\r\n    }\r\n    if (!options.display) {\r\n        options.display = '';\r\n    }\r\n    if (!options.duration) {\r\n        options.duration = 200;\r\n    }\r\n    //TODO: later we need to make it fading in and out\r\n    hideElement(first);\r\n    showElement(second, options.display);\r\n    if (options.complete) {\r\n        options.complete();\r\n    }\r\n}\r\n/**\r\n * Checks if element is visible\r\n * @param element The element to check.\r\n * @returns `true` if visible, otherwise - `false`.\r\n */\r\nexport function isVisible(element) {\r\n    return element.style.display != 'none'\r\n        && element.offsetWidth != 0\r\n        && element.offsetHeight != 0;\r\n}\r\nexport function createBrowserEvent(eventName) {\r\n    var event;\r\n    if (typeof (Event) === 'function') {\r\n        event = new Event(eventName);\r\n    }\r\n    else {\r\n        event = document.createEvent('Event');\r\n        event.initEvent(eventName, true, true);\r\n    }\r\n    return event;\r\n}\r\nexport function getViewportSize() {\r\n    var width = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n    var height = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\r\n    return {\r\n        width: width,\r\n        height: height\r\n    };\r\n}\r\nexport function getDocSize() {\r\n    if (browserUtils.IsIE())\r\n        return getWinSize();\r\n    var width = Math.max(document.documentElement.clientWidth, document.body.clientWidth || 0);\r\n    var height = Math.max(document.documentElement.clientHeight, document.body.clientHeight || 0);\r\n    return {\r\n        width: width,\r\n        height: height\r\n    };\r\n}\r\nexport function getScrollPos() {\r\n    var body = document.body;\r\n    var docElem = document.documentElement;\r\n    return {\r\n        top: window.pageYOffset || docElem.scrollTop || body.scrollTop,\r\n        left: window.pageXOffset || docElem.scrollLeft || body.scrollLeft\r\n    };\r\n}\r\nexport function getElementAbsolutePos(element) {\r\n    var res = { x: 0, y: 0 };\r\n    if (element !== null) {\r\n        var position = offset(element);\r\n        res = { x: position.left, y: position.top };\r\n    }\r\n    return res;\r\n}\r\nfunction offset(element) {\r\n    var defaultBoundingClientRect = { top: 0, right: 0, bottom: 0, left: 0, width: 0, height: 0 };\r\n    var box;\r\n    try {\r\n        box = element.getBoundingClientRect();\r\n    }\r\n    catch (_a) {\r\n        box = defaultBoundingClientRect;\r\n    }\r\n    var body = document.body;\r\n    var docElem = document.documentElement;\r\n    var scollPos = getScrollPos();\r\n    var scrollTop = scollPos.top;\r\n    var scrollLeft = scollPos.left;\r\n    var clientTop = docElem.clientTop || body.clientTop || 0;\r\n    var clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n    var top = box.top + scrollTop - clientTop;\r\n    var left = box.left + scrollLeft - clientLeft;\r\n    return { top: Math.round(top), left: Math.round(left) };\r\n}\r\nexport function getWinSize() {\r\n    return {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n    };\r\n}\r\nexport function slideDown(target, duration, callback) {\r\n    target.style.removeProperty('display');\r\n    var display = window.getComputedStyle(target).display;\r\n    if (display === 'none')\r\n        display = 'block';\r\n    target.style.display = display;\r\n    var height = target.offsetHeight;\r\n    target.style.overflow = 'hidden';\r\n    target.style.height = 0 + 'px';\r\n    target.style.paddingTop = 0 + 'px';\r\n    target.style.paddingBottom = 0 + 'px';\r\n    target.style.marginTop = 0 + 'px';\r\n    target.style.marginBottom = 0 + 'px';\r\n    target.offsetHeight;\r\n    target.style.boxSizing = 'border-box';\r\n    target.style.transitionProperty = \"height, margin, padding\";\r\n    target.style.transitionDuration = duration + 'ms';\r\n    target.style.height = height + 'px';\r\n    target.style.removeProperty('padding-top');\r\n    target.style.removeProperty('padding-bottom');\r\n    target.style.removeProperty('margin-top');\r\n    target.style.removeProperty('margin-bottom');\r\n    window.setTimeout(function () {\r\n        target.style.removeProperty('height');\r\n        target.style.removeProperty('overflow');\r\n        target.style.removeProperty('transition-duration');\r\n        target.style.removeProperty('transition-property');\r\n        target.style.removeProperty('box-sizing');\r\n        if (callback) {\r\n            callback();\r\n        }\r\n    }, duration);\r\n}\r\nexport function slideUp(target, duration, callback) {\r\n    target.style.transitionProperty = 'height, margin, padding';\r\n    target.style.transitionDuration = duration + 'ms';\r\n    target.style.boxSizing = 'border-box';\r\n    target.style.height = target.offsetHeight + 'px';\r\n    target.offsetHeight;\r\n    target.style.overflow = 'hidden';\r\n    target.style.height = 0 + 'px';\r\n    target.style.paddingTop = 0 + 'px';\r\n    target.style.paddingBottom = 0 + 'px';\r\n    target.style.marginTop = 0 + 'px';\r\n    target.style.marginBottom = 0 + 'px';\r\n    window.setTimeout(function () {\r\n        target.style.display = 'none';\r\n        target.style.removeProperty('height');\r\n        target.style.removeProperty('padding-top');\r\n        target.style.removeProperty('padding-bottom');\r\n        target.style.removeProperty('margin-top');\r\n        target.style.removeProperty('margin-bottom');\r\n        target.style.removeProperty('overflow');\r\n        target.style.removeProperty('transition-duration');\r\n        target.style.removeProperty('transition-property');\r\n        target.style.removeProperty('box-sizing');\r\n        if (callback) {\r\n            callback();\r\n        }\r\n    }, duration);\r\n}\r\nexport var eqCssPrefix = 'eqjs';\r\nexport var eqCssMobile = 'eqjs-mobile';\r\n//# sourceMappingURL=ui-utils.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { mask } from './mask';\r\nvar DomElementBuilder = /** @class */ (function () {\r\n    function DomElementBuilder(tag, parent) {\r\n        if (typeof tag === \"string\") {\r\n            this.element = document.createElement(tag);\r\n        }\r\n        else {\r\n            this.element = tag;\r\n        }\r\n        if (parent && this.element.parentElement !== parent) {\r\n            parent.appendChild(this.element);\r\n        }\r\n    }\r\n    DomElementBuilder.prototype.addChild = function (tag, childBuilder) {\r\n        var builder = domel(tag, this.element);\r\n        if (childBuilder) {\r\n            childBuilder(builder);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.addChildElement = function (element) {\r\n        if (element) {\r\n            this.element.appendChild(element);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.attr = function (attrId, attrValue) {\r\n        this.element.setAttribute(attrId, attrValue);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.id = function (value) {\r\n        return this.attr(\"id\", value);\r\n    };\r\n    DomElementBuilder.prototype.title = function (value) {\r\n        return this.attr('title', value);\r\n    };\r\n    DomElementBuilder.prototype.data = function (dataId, dataValue) {\r\n        if (dataValue === void 0) { dataValue = null; }\r\n        if (dataValue === null) {\r\n            this.element.removeAttribute('data-' + dataId);\r\n            return this;\r\n        }\r\n        else {\r\n            return this.attr('data-' + dataId, dataValue);\r\n        }\r\n    };\r\n    DomElementBuilder.prototype.show = function () {\r\n        return this.removeStyle('display');\r\n    };\r\n    DomElementBuilder.prototype.hide = function (toHide) {\r\n        if (toHide === void 0) { toHide = true; }\r\n        return (toHide) ? this.setStyle('display', 'none') : this;\r\n    };\r\n    DomElementBuilder.prototype.visible = function (isVisible) {\r\n        if (isVisible === void 0) { isVisible = true; }\r\n        return isVisible ? this.setStyle('visibility', 'visible') : this.setStyle('visibility', 'hidden');\r\n    };\r\n    DomElementBuilder.prototype.isVisible = function () {\r\n        return !!(this.element.offsetWidth || this.element.offsetHeight || this.element.getClientRects().length);\r\n    };\r\n    DomElementBuilder.prototype.addClass = function (className) {\r\n        var classNames = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            classNames[_i - 1] = arguments[_i];\r\n        }\r\n        if (className) {\r\n            var fullList = className.trim().split(\" \").concat(classNames);\r\n            for (var i = 0; i < fullList.length; i++)\r\n                this.element.classList.add(fullList[i]);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.removeClass = function (className) {\r\n        var classNames = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            classNames[_i - 1] = arguments[_i];\r\n        }\r\n        if (className) {\r\n            var fullList = className.trim().split(\" \").concat(classNames);\r\n            for (var i = 0; i < fullList.length; i++)\r\n                this.element.classList.remove(fullList[i]);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.toggleClass = function (className, force) {\r\n        if (force === void 0) { force = undefined; }\r\n        if (className) {\r\n            this.element.classList.toggle(className, force);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.on = function (eventType, listener) {\r\n        var eventTypes = eventType.split(' ');\r\n        for (var i = 0; i < eventTypes.length; i++) {\r\n            this.element.addEventListener(eventTypes[i], listener);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.off = function (eventType, listener) {\r\n        var eventTypes = eventType.split(' ');\r\n        for (var i = 0; i < eventTypes.length; i++) {\r\n            this.element.removeEventListener(eventTypes[i], listener);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.setStyle = function (styleId, styleValue) {\r\n        this.element.style.setProperty(styleId, styleValue);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.removeStyle = function (styleId) {\r\n        this.element.style.removeProperty(styleId);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.text = function (text) {\r\n        this.element.innerText = text;\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.html = function (html) {\r\n        this.element.innerHTML = html;\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.clear = function () {\r\n        var oldElem = this.element;\r\n        this.element = document.createElement(this.element.tagName);\r\n        oldElem.replaceWith(this.element);\r\n    };\r\n    DomElementBuilder.prototype.addText = function (text) {\r\n        var textEl = document.createTextNode(text);\r\n        this.element.appendChild(textEl);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.addHtml = function (html) {\r\n        this.element.innerHTML += html;\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.toDOM = function () {\r\n        return this.element;\r\n    };\r\n    DomElementBuilder.prototype.appendTo = function (parent) {\r\n        if (parent) {\r\n            parent.appendChild(this.element);\r\n        }\r\n        return this;\r\n    };\r\n    return DomElementBuilder;\r\n}());\r\nexport { DomElementBuilder };\r\nvar DomInputElementBuilder = /** @class */ (function (_super) {\r\n    __extends(DomInputElementBuilder, _super);\r\n    function DomInputElementBuilder(element, parent) {\r\n        var _this = this;\r\n        if (element) {\r\n            _this = _super.call(this, element, parent) || this;\r\n        }\r\n        else {\r\n            _this = _super.call(this, \"input\", parent) || this;\r\n        }\r\n        return _this;\r\n    }\r\n    DomInputElementBuilder.prototype.name = function (value) {\r\n        this.element.name = value;\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.type = function (value) {\r\n        this.element.type = value;\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.size = function (value) {\r\n        this.element.size = value;\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.value = function (value) {\r\n        if (value instanceof Date) {\r\n            this.element.valueAsDate = value;\r\n        }\r\n        else if (typeof value === \"number\") {\r\n            this.element.valueAsNumber = value;\r\n        }\r\n        else {\r\n            this.element.value = value;\r\n        }\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.mask = function (maskPattern) {\r\n        mask(this.element, maskPattern);\r\n        return this;\r\n    };\r\n    return DomInputElementBuilder;\r\n}(DomElementBuilder));\r\nexport { DomInputElementBuilder };\r\nvar DomSelectElementBuilder = /** @class */ (function (_super) {\r\n    __extends(DomSelectElementBuilder, _super);\r\n    function DomSelectElementBuilder(element, parent) {\r\n        var _this = this;\r\n        if (element) {\r\n            _this = _super.call(this, element, parent) || this;\r\n        }\r\n        else {\r\n            _this = _super.call(this, \"select\", parent) || this;\r\n        }\r\n        return _this;\r\n    }\r\n    DomSelectElementBuilder.prototype.addOption = function (value) {\r\n        var option = document.createElement('option');\r\n        if (typeof value === \"string\") {\r\n            option.value = value;\r\n            option.innerHTML = value;\r\n        }\r\n        else {\r\n            option.value = value.value;\r\n            option.innerHTML = value.title || value.value;\r\n            option.selected = value.selected || false;\r\n        }\r\n        this.element.appendChild(option);\r\n        return this;\r\n    };\r\n    return DomSelectElementBuilder;\r\n}(DomElementBuilder));\r\nexport { DomSelectElementBuilder };\r\nexport function domel(tag, parent) {\r\n    if (tag === \"div\" || tag instanceof HTMLDivElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    if (tag === \"span\" || tag instanceof HTMLSpanElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"a\" || tag instanceof HTMLAnchorElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"button\" || tag instanceof HTMLButtonElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"img\" || tag instanceof HTMLImageElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"input\" || tag instanceof HTMLInputElement) {\r\n        return new DomInputElementBuilder(tag instanceof HTMLInputElement ? tag : null, parent);\r\n    }\r\n    else if (tag === \"select\" || tag instanceof HTMLSelectElement) {\r\n        return new DomSelectElementBuilder(tag instanceof HTMLSelectElement ? tag : null, parent);\r\n    }\r\n    return new DomElementBuilder(tag, parent);\r\n}\r\n//# sourceMappingURL=dom_elem_builder.js.map","export function mask(input, maskPattern) {\r\n    var d = { 9: '[0-9]', a: '[a-z]' };\r\n    var mask = maskPattern.split('');\r\n    var keyDownHandler = function (e) {\r\n        // backspace key or delete key\r\n        if (e.keyCode === 8 || e.keyCode === 46) {\r\n            e.preventDefault();\r\n            var mskd = [];\r\n            var startSelection = input.selectionStart;\r\n            if (startSelection == 0)\r\n                return;\r\n            var selection = startSelection;\r\n            var onlyLodash = true;\r\n            for (var index = mask.length - 1; index >= 0; index--) {\r\n                var el = mask[index];\r\n                if (d[el]) {\r\n                    var t = new RegExp(d[el], 'i').test(input.value.charAt(index));\r\n                    if (t && index != startSelection - 1) {\r\n                        onlyLodash = false;\r\n                    }\r\n                    if (index === startSelection - 1)\r\n                        selection--;\r\n                    mskd.push(t && index != startSelection - 1\r\n                        ? input.value.charAt(index)\r\n                        : '_');\r\n                }\r\n                else {\r\n                    if (index === selection - 1)\r\n                        selection--;\r\n                    if (startSelection - 1 === index)\r\n                        startSelection--;\r\n                    mskd.push(el);\r\n                }\r\n            }\r\n            input.value = !onlyLodash ? mskd.reverse().join('') : '';\r\n            input.selectionStart = input.selectionEnd = selection < 0 ? 0 : selection;\r\n            var event_1 = document.createEvent('Event');\r\n            event_1.initEvent('input', true, true);\r\n            input.dispatchEvent(event_1);\r\n        }\r\n    };\r\n    var keyPressHandler = function (e) {\r\n        var char = String.fromCharCode(e.charCode);\r\n        if (char) {\r\n            e.preventDefault();\r\n            var mskd_1 = [];\r\n            var selectionStart_1 = input.selectionStart;\r\n            var selection_1 = selectionStart_1;\r\n            mask.forEach(function (el, index) {\r\n                if (d[el]) {\r\n                    var ch = (index != selectionStart_1)\r\n                        ? input.value.charAt(index)\r\n                        : char;\r\n                    var t = new RegExp(d[el], 'i').test(ch);\r\n                    mskd_1.push(t ? ch : '_');\r\n                    if (t && selectionStart_1 === index)\r\n                        selection_1++;\r\n                }\r\n                else {\r\n                    mskd_1.push(el);\r\n                    if (selection_1 === index)\r\n                        selection_1++;\r\n                    if (selectionStart_1 === index)\r\n                        selectionStart_1++;\r\n                }\r\n            });\r\n            input.value = mskd_1.join('');\r\n            input.selectionStart = input.selectionEnd = selection_1;\r\n            var event_2 = document.createEvent('Event');\r\n            event_2.initEvent('input', true, true);\r\n            input.dispatchEvent(event_2);\r\n        }\r\n    };\r\n    var inputHandler = function (e) {\r\n        if (e.type === 'focus' && input.value !== '')\r\n            return;\r\n        var mskd = [];\r\n        var startSelection = input.selectionStart;\r\n        mask.forEach(function (el, index) {\r\n            if (d[el]) {\r\n                var t = new RegExp(d[el], 'i').test(input.value.charAt(index));\r\n                mskd.push(t ? input.value.charAt(index) : '_');\r\n            }\r\n            else {\r\n                mskd.push(el);\r\n            }\r\n        });\r\n        input.value = mskd.join('');\r\n        input.selectionStart = input.selectionEnd = startSelection;\r\n    };\r\n    input.addEventListener('keydown', keyDownHandler);\r\n    input.addEventListener('keypress', keyPressHandler);\r\n    input.addEventListener('input', inputHandler);\r\n    input.addEventListener('focus', inputHandler);\r\n}\r\n//# sourceMappingURL=mask.js.map","import { utils } from '@easydata/core';\r\nimport { getElementAbsolutePos } from './ui-utils';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nvar touchEventIsDefined = typeof TouchEvent !== 'undefined';\r\nexport var DropEffect;\r\n(function (DropEffect) {\r\n    DropEffect[\"None\"] = \"none\";\r\n    DropEffect[\"Allow\"] = \"allow\";\r\n    DropEffect[\"Forbid\"] = \"forbid\";\r\n})(DropEffect || (DropEffect = {}));\r\nvar EqDragEvent = /** @class */ (function () {\r\n    function EqDragEvent(item, dragImage, sourceEvent) {\r\n        this.dropEffect = DropEffect.Allow;\r\n        this.pageX = 0;\r\n        this.pageY = 0;\r\n        this.item = item;\r\n        this.dragImage = dragImage;\r\n        this.data = item.data;\r\n        this.sourceEvent = sourceEvent;\r\n        if (sourceEvent && sourceEvent instanceof MouseEvent) {\r\n            this.pageX = sourceEvent.pageX,\r\n                this.pageY = sourceEvent.pageY;\r\n        }\r\n        if (sourceEvent && touchEventIsDefined && sourceEvent instanceof TouchEvent\r\n            && sourceEvent.touches[0]) {\r\n            this.pageX = sourceEvent.touches[0].pageX,\r\n                this.pageY = sourceEvent.touches[0].pageY;\r\n        }\r\n    }\r\n    return EqDragEvent;\r\n}());\r\nexport { EqDragEvent };\r\nvar Position = /** @class */ (function () {\r\n    function Position(ev) {\r\n        if (ev && ev instanceof MouseEvent) {\r\n            this.x = ev.pageX,\r\n                this.y = ev.pageY;\r\n        }\r\n        if (ev && touchEventIsDefined && ev instanceof TouchEvent && ev.touches[0]) {\r\n            this.x = ev.touches[0].pageX,\r\n                this.y = ev.touches[0].pageY;\r\n        }\r\n    }\r\n    return Position;\r\n}());\r\nvar DragManager = /** @class */ (function () {\r\n    function DragManager() {\r\n        this.delta = 5;\r\n        this.draggableItem = null;\r\n        this.dragImage = null;\r\n        this.finishedSuccessfully = false;\r\n        this.mouseDownPosition = null;\r\n        this.containerDescriptors = [];\r\n        this.containerDescriptorIndex = -1;\r\n        this.dropEffect = DropEffect.None;\r\n        this.classPrefix = 'eqjs-drop';\r\n        this.DRAG_DISABLED_ATTR = 'drag-disabled';\r\n    }\r\n    DragManager.prototype.registerDraggableItem = function (descriptor) {\r\n        var _this = this;\r\n        var element = descriptor.element;\r\n        if (!element) {\r\n            throw Error(\"Element in draggle item is null or undefined\");\r\n        }\r\n        element.ondragstart = function () {\r\n            return false;\r\n        };\r\n        var detectDragging = function (ev) {\r\n            if (element.hasAttribute(_this.DRAG_DISABLED_ATTR)) {\r\n                return;\r\n            }\r\n            ev.preventDefault();\r\n            if (ev instanceof MouseEvent) {\r\n                ev.stopPropagation();\r\n            }\r\n            var cursorPosition = new Position(ev);\r\n            if (Math.abs(cursorPosition.x - _this.mouseDownPosition.x) > _this.delta\r\n                || Math.abs(cursorPosition.y - _this.mouseDownPosition.y) > _this.delta) {\r\n                startDragging(ev);\r\n            }\r\n        };\r\n        var mouseMoveEventListener = function (ev) {\r\n            _this.mouseMoveDragListener(ev);\r\n        };\r\n        var startDragging = function (ev) {\r\n            ev.preventDefault();\r\n            ev.stopPropagation();\r\n            element.removeEventListener('mousemove', detectDragging);\r\n            element.removeEventListener('touchmove', detectDragging);\r\n            _this.finishedSuccessfully = false;\r\n            if (descriptor.beforeDragStart)\r\n                descriptor.beforeDragStart();\r\n            _this.dragImage = domel('div')\r\n                .setStyle('position', 'absolute')\r\n                .setStyle('z-index', '65530')\r\n                .toDOM();\r\n            document.body.appendChild(_this.dragImage);\r\n            _this.dragImage.appendChild(element.cloneNode(true));\r\n            if (descriptor.renderer) {\r\n                descriptor.renderer(_this.dragImage);\r\n            }\r\n            _this.dropEffect = DropEffect.None;\r\n            _this.updateCusror(_this.dropEffect);\r\n            _this.updateImageClass(_this.dropEffect);\r\n            _this.draggableItem = {\r\n                element: element,\r\n                scope: descriptor.scope,\r\n                data: descriptor.data\r\n            };\r\n            _this.updateDragItemPosition(ev);\r\n            var event = new EqDragEvent(_this.draggableItem, _this.dragImage, ev);\r\n            event.dropEffect = _this.dropEffect;\r\n            if (descriptor.onDragStart) {\r\n                descriptor.onDragStart(event);\r\n            }\r\n            if (_this.dropEffect !== event.dropEffect) {\r\n                _this.dropEffect = event.dropEffect;\r\n                _this.updateImageClass(_this.dropEffect);\r\n            }\r\n            document.addEventListener('mousemove', mouseMoveEventListener, true);\r\n            document.addEventListener('touchmove', mouseMoveEventListener, true);\r\n        };\r\n        var mouseDownListener = function (ev) {\r\n            if (touchEventIsDefined && ev instanceof TouchEvent) {\r\n                ev.preventDefault();\r\n            }\r\n            _this.mouseDownPosition = new Position(ev);\r\n            element.addEventListener('mousemove', detectDragging);\r\n            element.addEventListener('touchmove', detectDragging);\r\n            document.addEventListener('mouseup', mouseUpListener);\r\n            document.addEventListener('touchend', mouseUpListener);\r\n        };\r\n        element.addEventListener('mousedown', mouseDownListener);\r\n        element.addEventListener('touchstart', mouseDownListener);\r\n        var mouseUpListener = function (ev) {\r\n            _this.mouseDownPosition = null;\r\n            element.removeEventListener('mousemove', detectDragging);\r\n            element.removeEventListener('touchmove', detectDragging);\r\n            document.removeEventListener('mousemove', mouseMoveEventListener, true);\r\n            document.removeEventListener('touchmove', mouseMoveEventListener, true);\r\n            if (_this.draggableItem) {\r\n                endDraggind(ev);\r\n            }\r\n        };\r\n        var endDraggind = function (ev) {\r\n            try {\r\n                if (_this.containerDescriptorIndex >= 0) {\r\n                    var dropContDesc = _this.containerDescriptors[_this.containerDescriptorIndex];\r\n                    var container = {\r\n                        element: dropContDesc.element,\r\n                        scopes: dropContDesc.scopes,\r\n                        data: dropContDesc.data\r\n                    };\r\n                    var event_1 = new EqDragEvent(_this.draggableItem, _this.dragImage, ev);\r\n                    try {\r\n                        if (container.scopes.indexOf(_this.draggableItem.scope) >= 0\r\n                            && _this.dropEffect === DropEffect.Allow) {\r\n                            _this.finishedSuccessfully = true;\r\n                            if (dropContDesc.onDrop) {\r\n                                dropContDesc.onDrop(container, event_1);\r\n                            }\r\n                        }\r\n                    }\r\n                    finally {\r\n                        if (dropContDesc.onDragLeave) {\r\n                            dropContDesc.onDragLeave(container, event_1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            finally {\r\n                try {\r\n                    var event_2 = new EqDragEvent(_this.draggableItem, _this.dragImage, ev);\r\n                    event_2.data.finishedSuccessfully = _this.finishedSuccessfully;\r\n                    if (descriptor.onDragEnd) {\r\n                        descriptor.onDragEnd(event_2);\r\n                    }\r\n                }\r\n                finally {\r\n                    _this.draggableItem = null;\r\n                    if (_this.dragImage && _this.dragImage.parentElement) {\r\n                        _this.dragImage.parentElement.removeChild(_this.dragImage);\r\n                    }\r\n                    _this.dragImage = null;\r\n                    _this.finishedSuccessfully = false;\r\n                    document.removeEventListener('mouseup', mouseUpListener);\r\n                    document.removeEventListener('touchend', mouseUpListener);\r\n                }\r\n            }\r\n        };\r\n    };\r\n    DragManager.prototype.registerDropContainer = function (descriptor) {\r\n        var element = descriptor.element;\r\n        if (!element) {\r\n            throw Error(\"Element in drop container is null or undefined\");\r\n        }\r\n        this.containerDescriptors.push(descriptor);\r\n    };\r\n    DragManager.prototype.removeDropContainer = function (descriptorOrSlot) {\r\n        var descs = this.containerDescriptors\r\n            .filter(function (desc) { return desc === descriptorOrSlot\r\n            || desc.element == descriptorOrSlot; });\r\n        if (descs) {\r\n            for (var _i = 0, descs_1 = descs; _i < descs_1.length; _i++) {\r\n                var desc = descs_1[_i];\r\n                utils.removeArrayItem(this.containerDescriptors, desc);\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.mouseMoveDragListener = function (ev) {\r\n        if (ev instanceof MouseEvent) {\r\n            ev.preventDefault();\r\n        }\r\n        ev.stopPropagation();\r\n        this.updateDragItemPosition(ev);\r\n        if (this.containerDescriptorIndex == -1) {\r\n            for (var i = 0; i < this.containerDescriptors.length; i++) {\r\n                var descriptor = this.containerDescriptors[i];\r\n                if (this.detectDragEnterEvent(descriptor.element, ev)) {\r\n                    this.containerDescriptorIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n            if (this.containerDescriptorIndex >= 0) {\r\n                this.dragEnterEvent(ev);\r\n            }\r\n        }\r\n        else {\r\n            var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n            if (this.detectDragLeaveEvent(descriptor.element, ev)) {\r\n                this.dragLeaveEvent(ev);\r\n                this.containerDescriptorIndex = -1;\r\n            }\r\n        }\r\n        if (this.containerDescriptorIndex >= 0) {\r\n            var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n            var container = {\r\n                element: descriptor.element,\r\n                scopes: descriptor.scopes,\r\n                data: descriptor.data\r\n            };\r\n            if (container.scopes.indexOf(this.draggableItem.scope) >= 0) {\r\n                var event_3 = new EqDragEvent(this.draggableItem, this.dragImage, ev);\r\n                event_3.dropEffect = this.dropEffect;\r\n                if (descriptor.onDragOver) {\r\n                    descriptor.onDragOver(container, event_3);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.updateCusror = function (dropEffect) {\r\n        switch (dropEffect) {\r\n            case DropEffect.Allow:\r\n                this.setCursorStyle(this.dragImage, 'grabbing');\r\n                break;\r\n            case DropEffect.Forbid:\r\n                this.setCursorStyle(this.dragImage, 'no-drop');\r\n                break;\r\n            default:\r\n                this.setCursorStyle(this.dragImage, 'grabbing');\r\n                break;\r\n        }\r\n    };\r\n    DragManager.prototype.updateImageClass = function (dropEffect) {\r\n        this.dragImage.classList.remove(this.classPrefix + \"-allow\");\r\n        this.dragImage.classList.remove(this.classPrefix + \"-forbid\");\r\n        this.dragImage.classList.remove(this.classPrefix + \"-none\");\r\n        switch (dropEffect) {\r\n            case DropEffect.Allow:\r\n                this.dragImage.classList.add(this.classPrefix + \"-allow\");\r\n                break;\r\n            case DropEffect.None:\r\n                this.dragImage.classList.add(this.classPrefix + \"-none\");\r\n                break;\r\n            case DropEffect.Forbid:\r\n                this.dragImage.classList.add(this.classPrefix + \"-forbid\");\r\n                break;\r\n            default:\r\n                this.dragImage.classList.add(this.classPrefix + \"-none\");\r\n                break;\r\n        }\r\n    };\r\n    DragManager.prototype.setCursorStyle = function (element, cursor) {\r\n        if (element) {\r\n            element.style.cursor = cursor;\r\n            for (var i = 0; i < element.children.length; i++) {\r\n                this.setCursorStyle(element.children[i], cursor);\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.updateDragItemPosition = function (ev) {\r\n        if (this.dragImage) {\r\n            var pos = new Position(ev);\r\n            this.dragImage.style.top = (pos.y - this.dragImage.offsetHeight / 2) + 'px';\r\n            this.dragImage.style.left = (pos.x - this.dragImage.offsetWidth / 2) + 'px';\r\n        }\r\n    };\r\n    DragManager.prototype.dragEnterEvent = function (ev) {\r\n        var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n        var container = {\r\n            element: descriptor.element,\r\n            scopes: descriptor.scopes,\r\n            data: descriptor.data\r\n        };\r\n        if (container.scopes.indexOf(this.draggableItem.scope) >= 0) {\r\n            var event_4 = new EqDragEvent(this.draggableItem, this.dragImage, ev);\r\n            event_4.dropEffect = DropEffect.Allow;\r\n            if (descriptor.onDragEnter) {\r\n                descriptor.onDragEnter(container, event_4);\r\n            }\r\n            this.dropEffect = event_4.dropEffect;\r\n            this.updateCusror(this.dropEffect);\r\n            this.updateImageClass(this.dropEffect);\r\n        }\r\n        else {\r\n            if (this.dropEffect !== DropEffect.Forbid) {\r\n                this.dropEffect = DropEffect.None;\r\n                this.updateCusror(this.dropEffect);\r\n                this.updateImageClass(this.dropEffect);\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.dragLeaveEvent = function (ev) {\r\n        var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n        var container = {\r\n            element: descriptor.element,\r\n            scopes: descriptor.scopes,\r\n            data: descriptor.data\r\n        };\r\n        if (container.scopes.indexOf(this.draggableItem.scope) >= 0) {\r\n            var event_5 = new EqDragEvent(this.draggableItem, this.dragImage, ev);\r\n            event_5.dropEffect = DropEffect.None;\r\n            if (descriptor.onDragLeave) {\r\n                descriptor.onDragLeave(container, event_5);\r\n            }\r\n            this.dropEffect = event_5.dropEffect;\r\n            this.updateCusror(this.dropEffect);\r\n            this.updateImageClass(this.dropEffect);\r\n        }\r\n    };\r\n    DragManager.prototype.detectDragEnterEvent = function (container, ev) {\r\n        var containerPos = getElementAbsolutePos(container);\r\n        var pos = new Position(ev);\r\n        if (pos.y < containerPos.y || pos.y > containerPos.y + container.offsetHeight) {\r\n            return false;\r\n        }\r\n        if (pos.x < containerPos.x || pos.x > containerPos.x + container.offsetWidth) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    DragManager.prototype.detectDragLeaveEvent = function (container, ev) {\r\n        var containerPos = getElementAbsolutePos(container);\r\n        var pos = new Position(ev);\r\n        if (pos.y > containerPos.y && pos.y < containerPos.y + container.offsetHeight\r\n            && pos.x > containerPos.x && pos.x < containerPos.x + container.offsetWidth) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    return DragManager;\r\n}());\r\nexport { DragManager };\r\n//global variable\r\nexport var eqDragManager = new DragManager();\r\n//# sourceMappingURL=drag_manager.js.map","import { i18n, DataType } from '@easydata/core';\r\nimport { GridColumnAlign } from './easy_grid_columns';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nvar cssPrefix = \"keg\";\r\nvar DFMT_REGEX = /{0:(.*?)}/g;\r\nexport var CellRendererType;\r\n(function (CellRendererType) {\r\n    CellRendererType[CellRendererType[\"STRING\"] = 1] = \"STRING\";\r\n    CellRendererType[CellRendererType[\"NUMBER\"] = 2] = \"NUMBER\";\r\n    CellRendererType[CellRendererType[\"DATETIME\"] = 3] = \"DATETIME\";\r\n    CellRendererType[CellRendererType[\"BOOL\"] = 4] = \"BOOL\";\r\n})(CellRendererType || (CellRendererType = {}));\r\nvar StringCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    var text = value ? value.toString().replace(/\\n/g, '\\u21B5 ') : '';\r\n    domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addHtml(text)\r\n        .title(value || '');\r\n};\r\nvar NumberCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    var strValue = (value || '').toString();\r\n    if (typeof value == 'number') {\r\n        if (column.dataColumn && column.dataColumn.displayFormat\r\n            && DFMT_REGEX.test(column.dataColumn.displayFormat)) {\r\n            strValue = column.dataColumn.displayFormat.replace(DFMT_REGEX, function (_, $1) {\r\n                return i18n.numberToStr(value, $1);\r\n            });\r\n        }\r\n        else {\r\n            strValue = value.toLocaleString();\r\n        }\r\n    }\r\n    var builder = domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addHtml(strValue)\r\n        .title(strValue);\r\n    if (column.align == GridColumnAlign.NONE) {\r\n        builder.addClass(cssPrefix + \"-cell-value-align-right\");\r\n    }\r\n};\r\nvar DateTimeCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    var isDate = Object.prototype.toString.call(value) === '[object Date]';\r\n    var strValue = (value || '').toString();\r\n    if (isDate) {\r\n        if (column.dataColumn && column.dataColumn.displayFormat\r\n            && DFMT_REGEX.test(column.dataColumn.displayFormat)) {\r\n            strValue = column.dataColumn.displayFormat.replace(DFMT_REGEX, function (_, $1) {\r\n                return i18n.dateTimeToStr(value, column.type, $1);\r\n            });\r\n        }\r\n        else {\r\n            var locale = i18n.getCurrentLocale();\r\n            var timeOptions = { hour: 'numeric', minute: 'numeric', second: 'numeric' };\r\n            switch (column.type) {\r\n                case DataType.Date:\r\n                    strValue = value.toLocaleDateString(locale);\r\n                    break;\r\n                case DataType.Time:\r\n                    strValue = value.toLocaleTimeString(locale, timeOptions);\r\n                    break;\r\n                case DataType.DateTime:\r\n                    strValue = value.toLocaleDateString(locale) + \" \" + value.toLocaleTimeString(locale, timeOptions);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    var builder = domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addHtml(strValue)\r\n        .title(strValue);\r\n    if (column.align == GridColumnAlign.NONE) {\r\n        builder.addClass(cssPrefix + \"-cell-value-align-right\");\r\n    }\r\n};\r\nvar BoolCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addClass(cssPrefix + \"-cell-value-bool\")\r\n        .addClass(cssPrefix + \"-\" + (value ? 'cell-value-true' : 'cell-value-false'));\r\n};\r\nvar GridCellRendererStore = /** @class */ (function () {\r\n    function GridCellRendererStore(options) {\r\n        this.renderers = {};\r\n        this.defaultRenderers = {};\r\n        this.registerRenderer('StringDefault', StringCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.STRING, StringCellRendererDefault);\r\n        this.registerRenderer('NumberDefault', NumberCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.NUMBER, NumberCellRendererDefault);\r\n        this.registerRenderer('DateTimeDefault', DateTimeCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.DATETIME, DateTimeCellRendererDefault);\r\n        this.registerRenderer('BoolDefault', BoolCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.BOOL, BoolCellRendererDefault);\r\n    }\r\n    GridCellRendererStore.prototype.getDefaultRenderer = function (columnType) {\r\n        var cellType = this.getCellType(columnType);\r\n        return this.defaultRenderers[CellRendererType[cellType]];\r\n    };\r\n    GridCellRendererStore.prototype.getDefaultRendererByType = function (rendererType) {\r\n        return this.defaultRenderers[CellRendererType[rendererType]];\r\n    };\r\n    GridCellRendererStore.prototype.setDefaultRenderer = function (cellType, renderer) {\r\n        if (renderer) {\r\n            this.defaultRenderers[CellRendererType[cellType]] = renderer;\r\n        }\r\n    };\r\n    GridCellRendererStore.prototype.getRenderer = function (name) {\r\n        return this.renderers[name];\r\n    };\r\n    GridCellRendererStore.prototype.registerRenderer = function (name, renderer) {\r\n        this.renderers[name] = renderer;\r\n    };\r\n    GridCellRendererStore.prototype.getCellType = function (dataType) {\r\n        switch (dataType) {\r\n            case DataType.Autoinc:\r\n            case DataType.Byte:\r\n            case DataType.Word:\r\n            case DataType.Currency:\r\n            case DataType.Float:\r\n            case DataType.Int32:\r\n            case DataType.Int64:\r\n                return CellRendererType.NUMBER;\r\n            case DataType.Date:\r\n            case DataType.DateTime:\r\n            case DataType.Time:\r\n                return CellRendererType.DATETIME;\r\n            case DataType.Bool:\r\n                return CellRendererType.BOOL;\r\n            default:\r\n                return CellRendererType.STRING;\r\n        }\r\n    };\r\n    return GridCellRendererStore;\r\n}());\r\nexport { GridCellRendererStore };\r\n//# sourceMappingURL=easy_grid_cell_renderer.js.map","import { utils, ColumnAlignment } from '@easydata/core';\r\nimport { CellRendererType } from \"./easy_grid_cell_renderer\";\r\nvar DEFAULT_WIDTH = 150;\r\nvar DEFAULT_WIDTH_NUMBER = 120;\r\nvar DEFAULT_WIDTH_DATE = 200;\r\nvar DEFAULT_WIDTH_BOOL = 80;\r\nvar DEFAULT_WIDTH_STRING = 250;\r\nvar MIN_WIDTH_STRING = 100;\r\nvar MAX_WIDTH_STRING = 500;\r\nvar ROW_NUM_WIDTH = 60;\r\nexport var GridColumnAlign;\r\n(function (GridColumnAlign) {\r\n    GridColumnAlign[GridColumnAlign[\"NONE\"] = 1] = \"NONE\";\r\n    GridColumnAlign[GridColumnAlign[\"LEFT\"] = 2] = \"LEFT\";\r\n    GridColumnAlign[GridColumnAlign[\"CENTER\"] = 3] = \"CENTER\";\r\n    GridColumnAlign[GridColumnAlign[\"RIGHT\"] = 4] = \"RIGHT\";\r\n})(GridColumnAlign || (GridColumnAlign = {}));\r\nfunction MapAlignment(alignment) {\r\n    switch (alignment) {\r\n        case ColumnAlignment.Left:\r\n            return GridColumnAlign.LEFT;\r\n        case ColumnAlignment.Center:\r\n            return GridColumnAlign.CENTER;\r\n        case ColumnAlignment.Right:\r\n            return GridColumnAlign.RIGHT;\r\n        default:\r\n            return GridColumnAlign.NONE;\r\n    }\r\n}\r\nvar GridColumn = /** @class */ (function () {\r\n    function GridColumn(column, grid, isRowNum) {\r\n        if (isRowNum === void 0) { isRowNum = false; }\r\n        this._label = null;\r\n        //public left: number;\r\n        this.align = GridColumnAlign.NONE;\r\n        this.isVisible = true;\r\n        this.isRowNum = false;\r\n        this.dataColumn = column;\r\n        this.grid = grid;\r\n        if (column) {\r\n            if (column.style.alignment) {\r\n                this.align = MapAlignment(column.style.alignment);\r\n            }\r\n            var coltype = column.type;\r\n            var cellType = this.grid.cellRendererStore.getCellType(coltype);\r\n            switch (cellType) {\r\n                case CellRendererType.NUMBER:\r\n                    this.width = DEFAULT_WIDTH_NUMBER;\r\n                    break;\r\n                case CellRendererType.DATETIME:\r\n                    this.width = DEFAULT_WIDTH_DATE;\r\n                    break;\r\n                case CellRendererType.BOOL:\r\n                    this.width = DEFAULT_WIDTH_BOOL;\r\n                    break;\r\n                default:\r\n                    this.width = DEFAULT_WIDTH_STRING;\r\n            }\r\n            this.cellRenderer = this.grid.cellRendererStore.getDefaultRenderer(column.type);\r\n        }\r\n        else if (isRowNum) {\r\n            this.isRowNum = true;\r\n            this.width = ROW_NUM_WIDTH;\r\n            this._label = '';\r\n            this.cellRenderer = this.grid.cellRendererStore.getDefaultRendererByType(CellRendererType.NUMBER);\r\n        }\r\n        if (grid && grid.options && grid.options.onGetCellRenderer) {\r\n            this.cellRenderer = grid.options.onGetCellRenderer(this, this.cellRenderer) || this.cellRenderer;\r\n        }\r\n    }\r\n    Object.defineProperty(GridColumn.prototype, \"label\", {\r\n        get: function () {\r\n            return this._label ? this._label : this.isRowNum ? '' : this.dataColumn.label;\r\n        },\r\n        set: function (value) {\r\n            this._label = this.label;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(GridColumn.prototype, \"type\", {\r\n        get: function () {\r\n            return this.dataColumn ? this.dataColumn.type : null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return GridColumn;\r\n}());\r\nexport { GridColumn };\r\nvar GridColumnList = /** @class */ (function () {\r\n    function GridColumnList(columnList, grid) {\r\n        this.items = [];\r\n        this.grid = grid;\r\n        this.sync(columnList);\r\n    }\r\n    GridColumnList.prototype.sync = function (columnList, hasRowNumCol) {\r\n        if (hasRowNumCol === void 0) { hasRowNumCol = true; }\r\n        this.clear();\r\n        if (hasRowNumCol) {\r\n            var rowNumCol = new GridColumn(null, this.grid, true);\r\n            this.add(rowNumCol);\r\n        }\r\n        if (columnList) {\r\n            for (var _i = 0, _a = columnList.getItems(); _i < _a.length; _i++) {\r\n                var column = _a[_i];\r\n                var col = new GridColumn(column, this.grid);\r\n                if (this.grid.options.onSyncGridColumn) {\r\n                    this.grid.options.onSyncGridColumn(col);\r\n                }\r\n                this.add(col);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(GridColumnList.prototype, \"count\", {\r\n        get: function () {\r\n            return this.items.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GridColumnList.prototype.add = function (col) {\r\n        var index = this.items.length;\r\n        this.items.push(col);\r\n        return index;\r\n    };\r\n    GridColumnList.prototype.put = function (index, col) {\r\n        if (index >= 0 && index < this.items.length) {\r\n            this.items[index] = col;\r\n        }\r\n    };\r\n    GridColumnList.prototype.move = function (col, newIndex) {\r\n        var oldIndex = this.items.indexOf(col);\r\n        if (oldIndex >= 0 && oldIndex != newIndex)\r\n            utils.moveArrayItem(this.items, oldIndex, newIndex);\r\n    };\r\n    GridColumnList.prototype.get = function (index) {\r\n        if (index >= 0 && index < this.items.length) {\r\n            return this.items[index];\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    //    public getIndex(name: string) : number {\r\n    //        return this.mapper[name];\r\n    //    }\r\n    GridColumnList.prototype.getItems = function () {\r\n        return this.items;\r\n    };\r\n    GridColumnList.prototype.removeAt = function (index) {\r\n        var col = this.get(index);\r\n        this.items.splice(index, 1);\r\n        //delete this.mapper[col.name];\r\n    };\r\n    GridColumnList.prototype.clear = function () {\r\n        this.items = [];\r\n        //this.mapper = {};\r\n    };\r\n    return GridColumnList;\r\n}());\r\nexport { GridColumnList };\r\n//# sourceMappingURL=easy_grid_columns.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { EventEmitter, DataRow, utils, i18n } from '@easydata/core';\r\nimport { eqDragManager, DropEffect } from '../utils/drag_manager';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { getElementAbsolutePos, eqCssPrefix } from '../utils/ui-utils';\r\nimport { GridColumnList, GridColumnAlign } from './easy_grid_columns';\r\nimport { GridCellRendererStore } from './easy_grid_cell_renderer';\r\nvar DEFAULT_ROW_HEIGHT = 36;\r\nvar DEFAULT_ROW_COUNT = 15;\r\nvar EasyGrid = /** @class */ (function () {\r\n    function EasyGrid(options) {\r\n        this.cssPrefix = \"keg\";\r\n        this.pagination = { page: 1, pageSize: 30, total: 0 };\r\n        this.paginationOptions = {\r\n            maxButtonCount: 10,\r\n            useBootstrap: false //true\r\n        };\r\n        this.defaultDataGridOptions = {\r\n            slot: null,\r\n            dataTable: null,\r\n            fixHeightOnFirstRender: false,\r\n            syncGridColumns: true,\r\n            useRowNumeration: true,\r\n            allowDragDrop: false,\r\n            totals: {\r\n                calcGrandTotals: false,\r\n                calculator: null\r\n            },\r\n            paging: {\r\n                enabled: true,\r\n                pageSize: 30\r\n            },\r\n            addColumns: false,\r\n            viewportRowsCount: null,\r\n            showActiveRow: true\r\n        };\r\n        this.rowsOnPagePromise = null;\r\n        this.containerInitialHeight = 0;\r\n        this.firstRender = true;\r\n        this.prevRowTotals = null;\r\n        this.landingIndex = -1;\r\n        this.landingSlot = domel('div')\r\n            .addClass(this.cssPrefix + \"-col-landing-slot\")\r\n            .addChildElement(domel('div')\r\n            .toDOM())\r\n            .toDOM();\r\n        this._activeRowIndex = -1;\r\n        if (options && options.paging) {\r\n            options.paging = utils.assign(this.defaultDataGridOptions.paging, options.paging);\r\n        }\r\n        this.options = __assign({}, this.defaultDataGridOptions, options);\r\n        if (!this.options.slot)\r\n            throw Error('\"slot\" parameter is required to initialize EasyDataGrid');\r\n        if (!this.options.dataTable)\r\n            throw Error('\"dataTable\" parameter is required to initialize EasyDataGrid');\r\n        this.dataTable = options.dataTable;\r\n        this.eventEmitter = new EventEmitter(this);\r\n        this.cellRendererStore = new GridCellRendererStore(options);\r\n        this.columns = new GridColumnList(this.dataTable.columns, this);\r\n        this.setSlot(this.options.slot);\r\n        this.init(this.options);\r\n    }\r\n    EasyGrid.prototype.setSlot = function (slot) {\r\n        if (typeof slot === 'string') {\r\n            if (slot.length) {\r\n                if (slot[0] === '#') {\r\n                    this.slot = document.getElementById(slot.substring(1));\r\n                }\r\n                else if (slot[0] === '.') {\r\n                    var result = document.getElementsByClassName(slot.substring(1));\r\n                    if (result.length)\r\n                        this.slot = result[0];\r\n                }\r\n                else {\r\n                    throw Error('Unrecognized slot parameter ' +\r\n                        '(Must be id, class or HTMLElement): ' + slot);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.slot = slot;\r\n        }\r\n    };\r\n    EasyGrid.prototype.init = function (options) {\r\n        var _this = this;\r\n        if (options.onInit) {\r\n            this.addEventListener('init', options.onInit);\r\n        }\r\n        if (options.onRowClick) {\r\n            this.addEventListener('rowClick', options.onRowClick);\r\n        }\r\n        if (options.onRowDbClick) {\r\n            this.addEventListener('rowDbClick', options.onRowDbClick);\r\n        }\r\n        if (options.onAddColumnClick) {\r\n            this.addEventListener('addColumnClick', options.onAddColumnClick);\r\n        }\r\n        if (options.onColumnChanged) {\r\n            this.addEventListener('columnChanged', options.onColumnChanged);\r\n        }\r\n        if (options.onColumnDeleted) {\r\n            this.addEventListener('columnDeleted', options.onColumnDeleted);\r\n        }\r\n        if (options.onColumnMoved) {\r\n            this.addEventListener('columnMoved', options.onColumnMoved);\r\n        }\r\n        if (options.onPageChanged) {\r\n            this.addEventListener('pageChanged', options.onPageChanged);\r\n        }\r\n        if (options.onActiveRowChanged) {\r\n            this.addEventListener('activeRowChanged', options.onActiveRowChanged);\r\n        }\r\n        this.addEventListener('pageChanged', function (ev) { return _this.activeRowIndex = -1; });\r\n        utils.assignDeep(this.paginationOptions, options.pagination);\r\n        this.pagination.pageSize = this.options.paging.pageSize\r\n            || this.pagination.pageSize;\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"gridColumnMove\"],\r\n                onDragEnter: function (_, ev) {\r\n                    _this.slot.classList.add(eqCssPrefix + \"-drophover\");\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragOver: function (_, ev) {\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragLeave: function (_, ev) {\r\n                    ev.dropEffect = DropEffect.Forbid;\r\n                    _this.slot.classList.remove(eqCssPrefix + \"-drophover\");\r\n                    _this.hideLandingSlot();\r\n                },\r\n                onDrop: function (_, ev) {\r\n                    _this.dataTable.columns.move(ev.data.column, _this.landingIndex);\r\n                    _this.refresh();\r\n                    _this.fireEvent({\r\n                        type: 'columnMoved',\r\n                        columnId: ev.data.column.id,\r\n                        newIndex: _this.landingIndex\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        this.refresh();\r\n        this.fireEvent('init');\r\n    };\r\n    EasyGrid.prototype.fireEvent = function (event) {\r\n        if (typeof event === \"string\") {\r\n            this.eventEmitter.fire(event);\r\n        }\r\n        else {\r\n            this.eventEmitter.fire(event.type, event);\r\n        }\r\n    };\r\n    EasyGrid.prototype.setData = function (data) {\r\n        this.dataTable = data;\r\n        this.clear();\r\n        this.refresh();\r\n    };\r\n    EasyGrid.prototype.getData = function () {\r\n        return this.dataTable;\r\n    };\r\n    EasyGrid.prototype.getColumns = function () {\r\n        return this.columns;\r\n    };\r\n    EasyGrid.prototype.destroy = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    EasyGrid.prototype.refresh = function () {\r\n        this.clearDOM();\r\n        this.render();\r\n    };\r\n    EasyGrid.prototype.clearDOM = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    EasyGrid.prototype.clear = function () {\r\n        this.pagination.page = 1;\r\n        this.clearDOM();\r\n    };\r\n    EasyGrid.prototype.render = function () {\r\n        var _this = this;\r\n        if (!this.hasData() && !this.options.addColumns)\r\n            return;\r\n        this.containerInitialHeight = this.slot.clientHeight;\r\n        this.rootDiv = document.createElement('div');\r\n        this.rootDiv.style.width = '100%';\r\n        this.rootDiv.classList.add(this.cssPrefix + \"-root\");\r\n        this.columns.sync(this.dataTable.columns, this.options.useRowNumeration);\r\n        this.renderHeader();\r\n        this.rootDiv.appendChild(this.headerDiv);\r\n        this.renderBody();\r\n        this.rootDiv.appendChild(this.bodyDiv);\r\n        this.renderFooter();\r\n        this.rootDiv.appendChild(this.footerDiv);\r\n        var gridContainer = document.createElement('div');\r\n        gridContainer.classList.add(this.cssPrefix + \"-container\");\r\n        gridContainer.appendChild(this.rootDiv);\r\n        this.slot.appendChild(gridContainer);\r\n        if (this.rowsOnPagePromise) {\r\n            this.rowsOnPagePromise\r\n                .then(function () { return _this.updateHeight(); })\r\n                .then(function () {\r\n                _this.firstRender = false;\r\n                _this.rowsOnPagePromise = null;\r\n            });\r\n        }\r\n        else {\r\n            setTimeout(function () {\r\n                _this.updateHeight();\r\n                _this.firstRender = false;\r\n            }, 100);\r\n        }\r\n    };\r\n    EasyGrid.prototype.updateHeight = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            if (_this.options.viewportRowsCount) {\r\n                var firstRow = _this.bodyCellContainerDiv.firstElementChild;\r\n                var rowHeight = firstRow ? firstRow.offsetHeight : DEFAULT_ROW_HEIGHT;\r\n                var rowCount = _this.options.viewportRowsCount; // || DEFAULT_ROW_COUNT;\r\n                var bodyHeight_1 = rowHeight * rowCount;\r\n                domel(_this.bodyDiv)\r\n                    .setStyle('height', bodyHeight_1 + \"px\");\r\n                setTimeout(function () {\r\n                    var sbHeight = _this.bodyViewportDiv.offsetHeight - _this.bodyViewportDiv.clientHeight;\r\n                    bodyHeight_1 = bodyHeight_1 + sbHeight;\r\n                    domel(_this.bodyDiv)\r\n                        .setStyle('height', bodyHeight_1 + \"px\");\r\n                    resolve();\r\n                }, 100);\r\n                return;\r\n            }\r\n            else if (_this.containerInitialHeight > 0) {\r\n                var bodyHeight = _this.containerInitialHeight - _this.headerDiv.offsetHeight - _this.footerDiv.offsetHeight;\r\n                domel(_this.bodyDiv)\r\n                    .setStyle('height', bodyHeight + \"px\");\r\n            }\r\n            resolve();\r\n        })\r\n            .then(function () {\r\n            if (_this.options.fixHeightOnFirstRender && _this.firstRender) {\r\n                _this.slot.style.height = _this.slot.offsetHeight + \"px\";\r\n            }\r\n        });\r\n    };\r\n    EasyGrid.prototype.renderHeader = function () {\r\n        var _this = this;\r\n        this.headerDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-header\")\r\n            .toDOM();\r\n        this.headerViewportDiv = domel('div', this.headerDiv)\r\n            .addClass(this.cssPrefix + \"-header-viewport\")\r\n            .toDOM();\r\n        this.headerCellContainerDiv = domel('div', this.headerViewportDiv)\r\n            .addClass(this.cssPrefix + \"-header-cell-container\")\r\n            .toDOM();\r\n        this.headerRowDiv = domel('div', this.headerCellContainerDiv)\r\n            .addClass(this.cssPrefix + \"-header-row\")\r\n            .toDOM();\r\n        this.columns.getItems().forEach(function (column, index) {\r\n            if (!column.isVisible) {\r\n                return;\r\n            }\r\n            var hd = _this.renderColumnHeader(column, index);\r\n            _this.headerRowDiv.appendChild(hd);\r\n            if (column.isRowNum) {\r\n                domel(hd)\r\n                    .addChildElement(_this.renderAddColumnButton());\r\n            }\r\n        });\r\n        var containerWidth = this.columns.getItems().map(function (column) { return column.width; }).reduce(function (sum, current) { return sum + current; });\r\n        domel(this.headerCellContainerDiv)\r\n            .setStyle('width', containerWidth + \"px\");\r\n    };\r\n    EasyGrid.prototype.hasData = function () {\r\n        return this.dataTable.columns.count > 0;\r\n    };\r\n    EasyGrid.prototype.renderColumnHeader = function (column, index) {\r\n        var _this = this;\r\n        var colBuilder = domel('div')\r\n            .addClass(this.cssPrefix + \"-header-cell\")\r\n            .data('col-idx', \"\" + (index + 1))\r\n            .setStyle('width', column.width + \"px\");\r\n        if (column.dataColumn) {\r\n            colBuilder\r\n                .data('col-id', \"\" + column.dataColumn.id);\r\n        }\r\n        var colDiv = colBuilder.toDOM();\r\n        domel('div', colDiv)\r\n            .addClass(this.cssPrefix + \"-header-cell-resize\");\r\n        if (!column.isRowNum) {\r\n            domel('div', colDiv)\r\n                .addClass(this.cssPrefix + \"-header-cell-label\")\r\n                .text(column.label);\r\n        }\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDraggableItem({\r\n                element: colDiv,\r\n                scope: \"gridColumnMove\",\r\n                data: { column: column },\r\n                renderer: function (dragImage) {\r\n                    dragImage.innerHTML = '';\r\n                    var attrLabel = document.createElement('div');\r\n                    attrLabel.innerText = column.label;\r\n                    dragImage.classList.add(_this.cssPrefix + \"-sortable-helper\");\r\n                    dragImage.appendChild(attrLabel);\r\n                },\r\n                onDragStart: function (ev) {\r\n                    ev.dropEffect = DropEffect.Allow;\r\n                }\r\n            });\r\n        }\r\n        return colDiv;\r\n    };\r\n    EasyGrid.prototype.renderBody = function () {\r\n        var _this = this;\r\n        this.bodyDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-body\")\r\n            .toDOM();\r\n        this.bodyViewportDiv = domel('div', this.bodyDiv)\r\n            .addClass(this.cssPrefix + \"-body-viewport\")\r\n            .attr('tabIndex', '0')\r\n            .toDOM();\r\n        this.bodyCellContainerDiv = domel('div', this.bodyViewportDiv)\r\n            .addClass(this.cssPrefix + \"-cell-container\")\r\n            .toDOM();\r\n        if (this.dataTable) {\r\n            this.showProgress();\r\n            this.rowsOnPagePromise = this.getRowsToRender()\r\n                .then(function (rows) {\r\n                _this.hideProgress();\r\n                //prevent double rendering (bad solution, we have to figure out how to avoid this behavior properly)\r\n                _this.bodyCellContainerDiv.innerHTML = '';\r\n                _this.prevRowTotals = null;\r\n                if (rows.length) {\r\n                    var calcTotals_1 = _this.calcTotals();\r\n                    var keyCols_1 = _this.getTotalsKeyCols();\r\n                    rows.forEach(function (row, index) {\r\n                        if (calcTotals_1)\r\n                            _this.updateTotalsState(keyCols_1, row);\r\n                        var tr = _this.renderRow(row, index);\r\n                        _this.bodyCellContainerDiv.appendChild(tr);\r\n                    });\r\n                    if (calcTotals_1 && _this.isLastPage()) {\r\n                        var row = new DataRow(_this.dataTable.columns, new Array(_this.dataTable.columns.count));\r\n                        _this.updateTotalsState(keyCols_1, row, true);\r\n                    }\r\n                }\r\n                var containerWidth = _this.columns.getItems()\r\n                    .map(function (column) { return column.width; }).reduce(function (sum, current) { return sum + current; });\r\n                domel(_this.bodyCellContainerDiv)\r\n                    .setStyle('width', containerWidth + \"px\");\r\n                return rows.length;\r\n            })\r\n                .catch(function (error) { console.error(error); return 0; });\r\n        }\r\n        this.bodyViewportDiv.addEventListener('scroll', function (ev) {\r\n            domel(_this.headerViewportDiv)\r\n                .setStyle('margin-left', \"-\" + _this.bodyViewportDiv.scrollLeft + \"px\");\r\n        });\r\n        this.bodyViewportDiv.addEventListener('keydown', this.onVieportKeydown.bind(this));\r\n    };\r\n    EasyGrid.prototype.isLastPage = function () {\r\n        return this.pagination.page * this.pagination.pageSize >= this.pagination.total;\r\n    };\r\n    EasyGrid.prototype.calcTotals = function () {\r\n        return this.options.totals && (this.options.totals.calcGrandTotals\r\n            || this.calcSubTotalsCols())\r\n            && this.dataTable.columns.getItems()\r\n                .filter(function (col) { return col.isAggr; }).length > 0;\r\n    };\r\n    EasyGrid.prototype.calcSubTotalsCols = function () {\r\n        return this.options.totals.cols && Object.values(this.options.totals.cols)\r\n            .map(function (val) { return val.calcSubTotals; })\r\n            .reduce(function (prev, value) {\r\n            return prev || value;\r\n        }, false);\r\n    };\r\n    EasyGrid.prototype.getTotalsKeyCols = function () {\r\n        var keyCols = this.dataTable.columns.getItems()\r\n            .filter(function (col) { return !col.isAggr; });\r\n        keyCols.pop();\r\n        return keyCols;\r\n    };\r\n    EasyGrid.prototype.updateTotalsState = function (keyCols, newRow, isLast) {\r\n        if (isLast === void 0) { isLast = false; }\r\n        if (this.prevRowTotals && this.calcSubTotalsCols()) {\r\n            var changeLevel = -1;\r\n            for (var i = 0; i < keyCols.length; i++) {\r\n                var col = keyCols[i];\r\n                if (this.prevRowTotals.getValue(col.id) !== newRow.getValue(col.id)) {\r\n                    changeLevel = i;\r\n                    break;\r\n                }\r\n            }\r\n            if (changeLevel != -1) {\r\n                var totalsOpts = this.options.totals;\r\n                for (var i = keyCols.length; i > changeLevel; i--) {\r\n                    var col = keyCols[i - 1];\r\n                    var totalColOpts = totalsOpts.cols ? totalsOpts.cols[col.id] : null;\r\n                    if (!totalColOpts || !totalColOpts.calcSubTotals)\r\n                        continue;\r\n                    var row = new DataRow(this.dataTable.columns, this.prevRowTotals.toArray());\r\n                    var tr = this.renderTotalsRow(i, row);\r\n                    this.bodyCellContainerDiv.appendChild(tr);\r\n                }\r\n            }\r\n        }\r\n        if (isLast && this.options.totals.calcGrandTotals) {\r\n            var tr = this.renderTotalsRow(0, newRow);\r\n            this.bodyCellContainerDiv.appendChild(tr);\r\n        }\r\n        this.prevRowTotals = newRow;\r\n    };\r\n    EasyGrid.prototype.renderTotalsRow = function (level, row) {\r\n        var _this = this;\r\n        var rowBuilder = domel('div')\r\n            .addClass(this.cssPrefix + \"-row\")\r\n            .addClass(this.cssPrefix + \"-row-totals\")\r\n            .addClass(this.cssPrefix + \"-totals-lv\" + level)\r\n            .data('totals-level', \"\" + level)\r\n            .attr('tabindex', '-1');\r\n        var rowElement = rowBuilder.toDOM();\r\n        this.columns.getItems().forEach(function (column, index) {\r\n            if (!column.isVisible) {\r\n                return;\r\n            }\r\n            var colIndex = column.isRowNum ? -1 : _this.dataTable.columns.getIndex(column.dataColumn.id);\r\n            var val = (colIndex == level || level == 0 && colIndex == 0) ? _this.getTotalsTitle(level) : '';\r\n            if (colIndex == _this.dataTable.columns.count - 1) {\r\n                val = 'Calculating...';\r\n            }\r\n            rowElement.appendChild(_this.renderCell(column, colIndex, val, rowElement));\r\n        });\r\n        var totals = this.options.totals.calculator.getTotals();\r\n        totals.fillTotals(level, row)\r\n            .then(function () {\r\n            rowElement.innerHTML = '';\r\n            _this.columns.getItems().forEach(function (column, index) {\r\n                if (!column.isVisible) {\r\n                    return;\r\n                }\r\n                var colIndex = column.isRowNum ? -1 : _this.dataTable.columns.getIndex(column.dataColumn.id);\r\n                var val = (colIndex == level || level == 0 && colIndex == 0) ? _this.getTotalsTitle(level) : '';\r\n                if (!column.isRowNum && column.dataColumn.isAggr) {\r\n                    val = row.getValue(colIndex);\r\n                }\r\n                rowElement.appendChild(_this.renderCell(column, colIndex, val, rowElement));\r\n            });\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n        return rowElement;\r\n    };\r\n    EasyGrid.prototype.getTotalsTitle = function (level) {\r\n        return (level) ? 'Sub totals: ' : 'Grand totals: ';\r\n    };\r\n    EasyGrid.prototype.onVieportKeydown = function (ev) {\r\n        if (this.options.showActiveRow) {\r\n            var rowCount = this.bodyCellContainerDiv.querySelectorAll(\".\" + this.cssPrefix + \"-row\").length;\r\n            var newValue = void 0;\r\n            switch (ev.key) {\r\n                case 'ArrowLeft':\r\n                    break;\r\n                case 'ArrowRight':\r\n                    break;\r\n                case 'ArrowUp':\r\n                    ev.preventDefault();\r\n                    newValue = this.activeRowIndex < 0 || this.activeRowIndex >= rowCount ? rowCount - 1 : this.activeRowIndex - 1;\r\n                    this.activeRowIndex = newValue >= 0 ? newValue : 0;\r\n                    break;\r\n                case 'ArrowDown':\r\n                    ev.preventDefault();\r\n                    newValue = this.activeRowIndex < 0 || this.activeRowIndex >= rowCount ? 0 : this.activeRowIndex + 1;\r\n                    this.activeRowIndex = newValue < rowCount ? newValue : rowCount - 1;\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.ensureRowVisibility = function (rowOrIndex) {\r\n        var row = typeof rowOrIndex === 'number'\r\n            ? this.getDataRow(rowOrIndex)\r\n            : rowOrIndex;\r\n        if (row) {\r\n            var rowRect = row.getBoundingClientRect();\r\n            var viewportRect = this.bodyViewportDiv.getBoundingClientRect();\r\n            var rowTop = rowRect.top - viewportRect.top;\r\n            var rowBottom = rowRect.bottom - viewportRect.top;\r\n            var viewportHeight = this.bodyViewportDiv.clientHeight;\r\n            var windowHeight = window.innerHeight || document.documentElement.clientHeight;\r\n            if (rowTop > 0 &&\r\n                rowBottom <= viewportHeight &&\r\n                rowRect.top > 0 &&\r\n                rowRect.bottom < windowHeight) {\r\n                return;\r\n            }\r\n            if (rowTop < 0) {\r\n                this.bodyViewportDiv.scrollTop = this.bodyViewportDiv.scrollTop + rowTop;\r\n            }\r\n            else if (rowBottom > viewportHeight) {\r\n                this.bodyViewportDiv.scrollTop = this.bodyViewportDiv.scrollTop + rowBottom - viewportHeight;\r\n            }\r\n            rowRect = row.getBoundingClientRect();\r\n            if (rowRect.top < 0) {\r\n                document.documentElement.scrollTop = document.documentElement.scrollTop + rowRect.top;\r\n            }\r\n            else if (rowRect.bottom > windowHeight) {\r\n                document.documentElement.scrollTop = document.documentElement.scrollTop + rowRect.bottom - windowHeight;\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.getRowsToRender = function () {\r\n        if (this.options.paging.enabled === false) {\r\n            return Promise.resolve(this.dataTable.getCachedRows());\r\n        }\r\n        return this.dataTable.getRows({\r\n            page: this.pagination.page,\r\n            pageSize: this.pagination.pageSize\r\n        })\r\n            .catch(function (error) {\r\n            console.error(error);\r\n            return [];\r\n        });\r\n        ;\r\n    };\r\n    EasyGrid.prototype.renderFooter = function () {\r\n        this.footerDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-footer\")\r\n            .toDOM();\r\n        this.footerPaginateDiv = this.renderPageNavigator();\r\n        this.footerDiv.appendChild(this.footerPaginateDiv);\r\n        var pageInfoBlock = this.renderPageInfoBlock();\r\n        this.footerDiv.appendChild(pageInfoBlock);\r\n    };\r\n    EasyGrid.prototype.renderPageInfoBlock = function () {\r\n        var _this = this;\r\n        var pageInfoDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-page-info\")\r\n            .toDOM();\r\n        if (this.rowsOnPagePromise) {\r\n            this.rowsOnPagePromise.then(function (count) {\r\n                var fistPageRecordNum = count ? (_this.pagination.page - 1) * _this.pagination.pageSize + 1 : 0;\r\n                var lastPageRecordNum = count ? fistPageRecordNum + count - 1 : 0;\r\n                var total = _this.dataTable.getTotal();\r\n                pageInfoDiv.innerHTML = i18n.getText('GridPageInfo')\r\n                    .replace('{FirstPageRecordNum}', \"<span>\" + fistPageRecordNum.toString() + \"</span>\")\r\n                    .replace('{LastPageRecordNum}', \"<span>\" + lastPageRecordNum.toString() + \"</span>\")\r\n                    .replace('{Total}', \"<span>\" + total.toString() + \"</span>\");\r\n            });\r\n        }\r\n        return pageInfoDiv;\r\n    };\r\n    EasyGrid.prototype.showProgress = function () {\r\n    };\r\n    EasyGrid.prototype.hideProgress = function () {\r\n    };\r\n    EasyGrid.prototype.getLocalIndexByGlobal = function (index) {\r\n        if (this.pagination) {\r\n            return index % this.pagination.pageSize;\r\n        }\r\n        else {\r\n            return index;\r\n        }\r\n    };\r\n    EasyGrid.prototype.getGlobalIndexByLocal = function (index) {\r\n        if (this.pagination) {\r\n            return (this.pagination.page - 1) * this.pagination.pageSize + index;\r\n        }\r\n        else {\r\n            return index;\r\n        }\r\n    };\r\n    EasyGrid.prototype.renderRow = function (row, index) {\r\n        var _this = this;\r\n        var indexGlobal = this.getGlobalIndexByLocal(index);\r\n        var rowBuilder = domel('div')\r\n            .addClass(this.cssPrefix + \"-row\")\r\n            .addClass(this.cssPrefix + \"-row-\" + (index % 2 == 1 ? 'odd' : 'even'))\r\n            .data('row-idx', \"\" + indexGlobal)\r\n            .attr('tabindex', '-1')\r\n            .on('click', function (ev) {\r\n            _this.activeRowIndex = index;\r\n            _this.fireEvent({\r\n                type: 'rowClick',\r\n                row: row,\r\n                rowIndex: index,\r\n                sourceEvent: ev\r\n            });\r\n        })\r\n            .on('dblclick', function (ev) {\r\n            _this.fireEvent({\r\n                type: 'rowDbClick',\r\n                row: row,\r\n                rowIndex: index,\r\n                sourceEvent: ev\r\n            });\r\n        });\r\n        if (index == 0) {\r\n            rowBuilder.addClass(this.cssPrefix + \"-row-first\");\r\n        }\r\n        var rowElement = rowBuilder.toDOM();\r\n        if (this.options.showActiveRow && index == this.activeRowIndex) {\r\n            rowBuilder.addClass(this.cssPrefix + \"-row-active\");\r\n        }\r\n        this.columns.getItems().forEach(function (column) {\r\n            if (!column.isVisible) {\r\n                return;\r\n            }\r\n            var colindex = column.isRowNum ? -1 : _this.dataTable.columns.getIndex(column.dataColumn.id);\r\n            var val = column.isRowNum ? indexGlobal + 1 : row.getValue(colindex);\r\n            rowElement.appendChild(_this.renderCell(column, colindex, val, rowElement));\r\n        });\r\n        return rowElement;\r\n    };\r\n    EasyGrid.prototype.renderCell = function (column, colIndex, value, rowElement) {\r\n        var builder = domel('div')\r\n            .addClass(this.cssPrefix + \"-cell\")\r\n            .data('col-idx', \"\" + colIndex)\r\n            .attr('tabindex', '-1')\r\n            .setStyle('width', column.width + \"px\");\r\n        if (column.align == GridColumnAlign.LEFT) {\r\n            builder.addClass(this.cssPrefix + \"-cell-align-left\");\r\n        }\r\n        else if (column.align == GridColumnAlign.RIGHT) {\r\n            builder.addClass(this.cssPrefix + \"-cell-align-right\");\r\n        }\r\n        else if (column.align == GridColumnAlign.CENTER) {\r\n            builder.addClass(this.cssPrefix + \"-cell-align-center\");\r\n        }\r\n        if (column.cellRenderer) {\r\n            column.cellRenderer(value, column, builder.toDOM(), rowElement);\r\n        }\r\n        return builder.toDOM();\r\n    };\r\n    EasyGrid.prototype.renderPageNavigator = function () {\r\n        var _this = this;\r\n        var paginateDiv = document.createElement('div');\r\n        paginateDiv.className = this.cssPrefix + \"-pagination-wrapper\";\r\n        this.pagination.total = this.dataTable.getTotal();\r\n        if (this.options.paging && this.options.paging.enabled\r\n            && this.pagination.total > this.pagination.pageSize) {\r\n            var prefix = this.paginationOptions.useBootstrap ? '' : this.cssPrefix + \"-\";\r\n            paginateDiv.innerHTML = \"\";\r\n            var pageIndex = this.pagination.page || 1;\r\n            var pageCount = Math.ceil(this.pagination.total / this.pagination.pageSize) || 1;\r\n            var buttonClickHandler = function (ev) {\r\n                var element = ev.target;\r\n                if (element.hasAttribute('data-page')) {\r\n                    var page = parseInt(element.getAttribute('data-page'));\r\n                    _this.pagination.page = page;\r\n                    _this.fireEvent({ type: \"pageChanged\", page: page });\r\n                    _this.refresh();\r\n                    _this.bodyViewportDiv.focus();\r\n                }\r\n            };\r\n            var maxButtonCount = this.paginationOptions.maxButtonCount || 10;\r\n            var zeroBasedIndex = pageIndex - 1;\r\n            var firstPageIndex = zeroBasedIndex - (zeroBasedIndex % maxButtonCount) + 1;\r\n            var lastPageIndex = firstPageIndex + maxButtonCount - 1;\r\n            if (lastPageIndex > pageCount) {\r\n                lastPageIndex = pageCount;\r\n            }\r\n            var ul = document.createElement('ul');\r\n            ul.className = prefix + \"pagination\";\r\n            var li = document.createElement('li');\r\n            li.className = prefix + \"page-item\";\r\n            var a = document.createElement('span');\r\n            a.setAttribute(\"aria-hidden\", 'true');\r\n            a.className = prefix + \"page-link\";\r\n            if (firstPageIndex == 1) {\r\n                li.className += \" disabled\";\r\n            }\r\n            else {\r\n                if (this.paginationOptions.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                    a = newA;\r\n                }\r\n                a.className = prefix + \"page-link\";\r\n                a.addEventListener(\"click\", buttonClickHandler);\r\n            }\r\n            a.innerHTML = \"&laquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            for (var i = firstPageIndex; i <= lastPageIndex; i++) {\r\n                li = document.createElement('li');\r\n                li.className = prefix + \"page-item\";\r\n                if (i == pageIndex)\r\n                    li.className += \" active\";\r\n                a = document.createElement('a');\r\n                a.setAttribute('href', 'javascript:void(0)');\r\n                a.innerHTML = i.toString();\r\n                a.setAttribute('data-page', i.toString());\r\n                a.className = prefix + \"page-link\";\r\n                a.addEventListener(\"click\", buttonClickHandler);\r\n                li.appendChild(a);\r\n                ul.appendChild(li);\r\n            }\r\n            li = document.createElement('li');\r\n            li.className = prefix + \"page-item\";\r\n            a = document.createElement(\"span\");\r\n            a.setAttribute('aria-hidden', 'true');\r\n            a.className = prefix + \"page-link\";\r\n            if (lastPageIndex == pageCount) {\r\n                li.className += \" disabled\";\r\n            }\r\n            else {\r\n                if (this.paginationOptions.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                    a = newA;\r\n                }\r\n                a.className = prefix + \"page-link\";\r\n                a.addEventListener(\"click\", buttonClickHandler);\r\n            }\r\n            a.innerHTML = \"&raquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            paginateDiv.appendChild(ul);\r\n        }\r\n        return paginateDiv;\r\n    };\r\n    EasyGrid.prototype.addEventListener = function (eventType, handler) {\r\n        return this.eventEmitter.subscribe(eventType, function (event) { return handler(event.data); });\r\n    };\r\n    EasyGrid.prototype.removeEventListener = function (eventType, handlerId) {\r\n        this.eventEmitter.unsubscribe(eventType, handlerId);\r\n    };\r\n    EasyGrid.prototype.renderAddColumnButton = function () {\r\n        var _this = this;\r\n        if (this.options.addColumns) {\r\n            return domel('div')\r\n                .addClass(this.cssPrefix + \"-addrow\")\r\n                .title(this.options.addColumnsTitle || 'Add column')\r\n                .addChild('a', function (builder) { return builder\r\n                .attr('href', 'javascript:void(0)')\r\n                .on('click', function (e) {\r\n                e.preventDefault();\r\n                _this.fireEvent({\r\n                    type: 'addColumnClick',\r\n                    sourceEvent: e\r\n                });\r\n            }); })\r\n                .toDOM();\r\n        }\r\n        return domel('span')\r\n            .addText('#')\r\n            .toDOM();\r\n    };\r\n    EasyGrid.prototype.showLandingSlot = function (pageX, pageY) {\r\n        var colElems = this.headerRowDiv.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-table-col]\");\r\n        var cols = [];\r\n        for (var i = 1; i < colElems.length; i++) {\r\n            var rowElem = colElems[i];\r\n            if (rowElem.style.display === 'none')\r\n                continue;\r\n            cols.push(rowElem);\r\n        }\r\n        if (cols.length === 0) {\r\n            this.landingIndex = 0;\r\n            this.headerRowDiv.appendChild(this.landingSlot);\r\n            return;\r\n        }\r\n        var landingPos = getElementAbsolutePos(this.landingSlot);\r\n        if (pageX >= landingPos.x && pageX <= landingPos.x + this.landingSlot.offsetWidth) {\r\n            return;\r\n        }\r\n        var newLandingIndex = this.landingIndex;\r\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\r\n            var col = cols_1[_i];\r\n            var colPos = getElementAbsolutePos(col);\r\n            var width = col.offsetWidth;\r\n            if (pageX > colPos.x && pageX < colPos.x + width) {\r\n                // -1 as we don't need to count add button here\r\n                newLandingIndex = parseInt(col.getAttribute('data-col-idx')) - 1;\r\n            }\r\n        }\r\n        if (newLandingIndex != this.landingIndex) {\r\n            this.landingIndex = newLandingIndex;\r\n            if (this.landingIndex < cols.length) {\r\n                this.headerRowDiv.insertBefore(this.landingSlot, cols[this.landingIndex]);\r\n            }\r\n            else {\r\n                this.headerRowDiv.appendChild(this.landingSlot);\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.hideLandingSlot = function () {\r\n        var _this = this;\r\n        this.landingIndex = -1;\r\n        setTimeout(function () {\r\n            if (_this.landingSlot.parentElement) {\r\n                _this.landingSlot.parentElement.removeChild(_this.landingSlot);\r\n            }\r\n        }, 10);\r\n    };\r\n    Object.defineProperty(EasyGrid.prototype, \"activeRowIndex\", {\r\n        get: function () {\r\n            return this._activeRowIndex;\r\n        },\r\n        set: function (value) {\r\n            if (value !== this._activeRowIndex) {\r\n                var oldValue = this._activeRowIndex;\r\n                this._activeRowIndex = value;\r\n                this.updateActiveRow();\r\n                this.fireEvent({\r\n                    type: 'activeRowChanged',\r\n                    oldValue: oldValue,\r\n                    newValue: this.activeRowIndex,\r\n                    rowIndex: this.getGlobalIndexByLocal(this.activeRowIndex)\r\n                });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EasyGrid.prototype.updateActiveRow = function () {\r\n        var _this = this;\r\n        if (this.options.showActiveRow) {\r\n            var rows = this.bodyCellContainerDiv.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row-active]\");\r\n            rows.forEach(function (el) { el.classList.remove(_this.cssPrefix + \"-row-active\"); });\r\n            var activeRow = this.getActiveRow();\r\n            if (activeRow) {\r\n                activeRow.classList.add(this.cssPrefix + \"-row-active\");\r\n                this.ensureRowVisibility(this.activeRowIndex);\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.getActiveRow = function () {\r\n        return this.getDataRow(this.activeRowIndex);\r\n    };\r\n    EasyGrid.prototype.getDataRow = function (index) {\r\n        var rows = Array.from(this.bodyCellContainerDiv.querySelectorAll(\".\" + this.cssPrefix + \"-row:not(.\" + this.cssPrefix + \"-row-totals)\"));\r\n        if (index >= 0 && index < rows.length)\r\n            return rows[index];\r\n        return null;\r\n    };\r\n    EasyGrid.prototype.focus = function () {\r\n        this.bodyViewportDiv.focus();\r\n    };\r\n    return EasyGrid;\r\n}());\r\nexport { EasyGrid };\r\n//# sourceMappingURL=easy_grid.js.map","var Calendar = /** @class */ (function () {\r\n    function Calendar(slot, options) {\r\n        this.slot = slot;\r\n        this.options = options || {};\r\n        if (!this.options.yearRange) {\r\n            this.options.yearRange = 'c-10:c+10';\r\n        }\r\n    }\r\n    Object.defineProperty(Calendar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'kdtp-cal';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Calendar.prototype.setDate = function (date) {\r\n        this.currentDate = new Date(date);\r\n    };\r\n    Calendar.prototype.getDate = function () {\r\n        return new Date(this.currentDate);\r\n    };\r\n    Calendar.prototype.dateChanged = function (apply) {\r\n        if (this.options.onDateChanged) {\r\n            this.options.onDateChanged(this.currentDate, apply);\r\n        }\r\n    };\r\n    return Calendar;\r\n}());\r\nexport { Calendar };\r\n//# sourceMappingURL=calendar.js.map","import { getElementAbsolutePos } from '../utils/ui-utils';\r\nvar DateTimePicker = /** @class */ (function () {\r\n    function DateTimePicker(options) {\r\n        this.calendar = null;\r\n        this.timePicker = null;\r\n        this.options = options;\r\n        this.render();\r\n    }\r\n    Object.defineProperty(DateTimePicker.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'kdtp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DateTimePicker.prototype.setDateTime = function (dateTime) {\r\n        this.currentDateTime = new Date(dateTime);\r\n        if (this.calendar) {\r\n            this.calendar.setDate(this.currentDateTime);\r\n        }\r\n        if (this.timePicker) {\r\n            this.timePicker.setTime(this.currentDateTime);\r\n        }\r\n    };\r\n    DateTimePicker.prototype.getDateTime = function () {\r\n        return new Date(this.currentDateTime);\r\n    };\r\n    DateTimePicker.prototype.render = function () {\r\n        var _this = this;\r\n        if (this.options.showCalendar) {\r\n            this.calendar = this.createCalendar({\r\n                yearRange: this.options.yearRange,\r\n                showDateTimeInput: this.options.showDateTimeInput,\r\n                timePickerIsUsed: this.options.showTimePicker,\r\n                oneClickDateSelection: this.options.oneClickDateSelection,\r\n                onDateChanged: function (date, apply) {\r\n                    _this.currentDateTime = date;\r\n                    if (_this.timePicker) {\r\n                        _this.timePicker.setTime(_this.currentDateTime);\r\n                    }\r\n                    if (_this.options.showTimePicker) {\r\n                        _this.dateTimeChanged();\r\n                    }\r\n                    if (apply) {\r\n                        _this.apply(_this.currentDateTime);\r\n                    }\r\n                }\r\n            });\r\n            if (this.calendar)\r\n                this.calendar.render();\r\n        }\r\n        if (this.options.showTimePicker) {\r\n            this.timePicker = this.createTimePicker({\r\n                onTimeChanged: function (time) {\r\n                    _this.currentDateTime.setHours(time.getHours());\r\n                    _this.currentDateTime.setMinutes(time.getMinutes());\r\n                    if (_this.calendar) {\r\n                        _this.calendar.setDate(_this.currentDateTime);\r\n                    }\r\n                    _this.dateTimeChanged();\r\n                }\r\n            });\r\n            if (this.timePicker)\r\n                this.timePicker.render();\r\n        }\r\n        this.setDateTime(new Date());\r\n    };\r\n    DateTimePicker.prototype.createCalendar = function (options) {\r\n        return null;\r\n    };\r\n    DateTimePicker.prototype.createTimePicker = function (options) {\r\n        return null;\r\n    };\r\n    DateTimePicker.prototype.show = function (anchor) {\r\n        if (this.options.beforeShow) {\r\n            this.options.beforeShow();\r\n        }\r\n        var pos = getElementAbsolutePos(anchor || document.body);\r\n        this.slot.style.top = pos.y + anchor.clientHeight + 'px';\r\n        this.slot.style.left = pos.x + 'px';\r\n    };\r\n    DateTimePicker.prototype.apply = function (date) {\r\n        if (this.options.onApply) {\r\n            this.options.onApply(date);\r\n        }\r\n        this.destroy();\r\n    };\r\n    DateTimePicker.prototype.cancel = function () {\r\n        if (this.options.onCancel) {\r\n            this.options.onCancel();\r\n        }\r\n        this.destroy();\r\n    };\r\n    DateTimePicker.prototype.destroy = function () {\r\n        if (this.slot && this.slot.parentElement) {\r\n            this.slot.parentElement.removeChild(this.slot);\r\n        }\r\n    };\r\n    DateTimePicker.prototype.dateTimeChanged = function () {\r\n        if (this.options.onDateTimeChanged) {\r\n            this.options.onDateTimeChanged(this.currentDateTime);\r\n        }\r\n    };\r\n    return DateTimePicker;\r\n}());\r\nexport { DateTimePicker };\r\n//# sourceMappingURL=date_time_picker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { Calendar } from './calendar';\r\nvar DefaultCalendar = /** @class */ (function (_super) {\r\n    __extends(DefaultCalendar, _super);\r\n    function DefaultCalendar(slot, options) {\r\n        var _this = _super.call(this, slot, options) || this;\r\n        _this.daysOfWeek = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n        _this.months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n        _this.calendarBody = null;\r\n        _this.isManualInputChanging = false;\r\n        for (var i = 0; i < _this.daysOfWeek.length; i++) {\r\n            _this.daysOfWeek[i] = i18n.getShortWeekDayName(i + 1);\r\n        }\r\n        for (var i = 0; i < _this.months.length; i++) {\r\n            _this.months[i] = i18n.getLongMonthName(i + 1);\r\n        }\r\n        return _this;\r\n    }\r\n    DefaultCalendar.prototype.setDate = function (date) {\r\n        _super.prototype.setDate.call(this, date);\r\n        this.selectedMonth = this.currentDate.getMonth();\r\n        this.selectedYear = this.currentDate.getFullYear();\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.render = function () {\r\n        var _this = this;\r\n        var header = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-header\");\r\n        if (this.options.showDateTimeInput) {\r\n            header\r\n                .addChildElement(this.renderManualDateInput());\r\n        }\r\n        else {\r\n            header\r\n                .addChild('span', function (builder) { return _this.headerTextElem = builder.toDOM(); });\r\n        }\r\n        domel(this.slot)\r\n            .addChildElement(this.renderCalendarButtons());\r\n        this.calendarBody = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-body\")\r\n            .toDOM();\r\n    };\r\n    DefaultCalendar.prototype.getInputDateFormat = function () {\r\n        var settings = i18n.getLocaleSettings();\r\n        return (this.options.timePickerIsUsed)\r\n            ? settings.editDateFormat + \" \" + settings.editTimeFormat\r\n            : settings.editDateFormat;\r\n    };\r\n    DefaultCalendar.prototype.renderManualDateInput = function () {\r\n        var _this = this;\r\n        var format = this.getInputDateFormat();\r\n        var builder = domel('input')\r\n            .attr('placeholder', format)\r\n            .addClass(this.cssPrefix + \"-header-input\");\r\n        builder\r\n            .mask(format.replace('yyyy', '9999')\r\n            .replace('MM', '99')\r\n            .replace('dd', '99')\r\n            .replace('HH', '99')\r\n            .replace('mm', '99')\r\n            .replace('ss', '99'))\r\n            .on('input', function (ev) {\r\n            builder.removeClass('error');\r\n            try {\r\n                _this.isManualInputChanging = true;\r\n                var newDate = dataUtils.strToDateTime(_this.manualInputElem.value, format);\r\n                _this.currentDate = newDate;\r\n                _this.jump(_this.currentDate.getFullYear(), _this.currentDate.getMonth());\r\n                _this.dateChanged(false);\r\n            }\r\n            catch (e) {\r\n                builder.addClass('error');\r\n            }\r\n            finally {\r\n                _this.isManualInputChanging = false;\r\n            }\r\n        })\r\n            .on('keydown', function (ev) {\r\n            if (ev.keyCode === 13) {\r\n                ev.preventDefault();\r\n                ev.stopPropagation();\r\n                if (_this.manualInputElem.className.indexOf('error') < 0\r\n                    && !_this.isManualInputChanging)\r\n                    _this.dateChanged(true);\r\n            }\r\n        })\r\n            .on('focus', function () {\r\n            setTimeout(function () {\r\n                _this.manualInputElem.selectionStart = 0;\r\n                _this.manualInputElem.selectionEnd = 0;\r\n            }, 50);\r\n        });\r\n        this.manualInputElem = builder.toDOM();\r\n        return this.manualInputElem;\r\n    };\r\n    DefaultCalendar.prototype.updateDisplayedDateValue = function () {\r\n        if (this.manualInputElem) {\r\n            if (!this.isManualInputChanging) {\r\n                var format = this.getInputDateFormat();\r\n                this.manualInputElem.value = dataUtils.dateTimeToStr(this.currentDate, format);\r\n                this.manualInputElem.focus();\r\n            }\r\n        }\r\n        else if (this.headerTextElem) {\r\n            var locale = i18n.getCurrentLocale();\r\n            this.headerTextElem.innerText = this.currentDate.toLocaleString(locale == 'en' ? undefined : locale, {\r\n                year: 'numeric',\r\n                month: 'long',\r\n                day: 'numeric',\r\n            });\r\n        }\r\n    };\r\n    DefaultCalendar.prototype.renderCalendarButtons = function () {\r\n        var _this = this;\r\n        var builder = domel('nav')\r\n            .addClass(this.cssPrefix + \"-nav\")\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-prev\")\r\n            .on('click', function () {\r\n            _this.prev();\r\n        })\r\n            .addChild('span', function (builder) { return builder.html('&lsaquo;'); }); })\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-selectors\")\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-month\")\r\n            .addChild('select', function (builder) {\r\n            builder\r\n                .on('change', function () {\r\n                _this.jump(_this.selectedYear, parseInt(_this.selectMonthElem.value));\r\n            });\r\n            var _loop_1 = function (i) {\r\n                builder.addChild('option', function (builder) { return builder\r\n                    .attr('value', i.toString())\r\n                    .text(_this.months[i]); });\r\n            };\r\n            for (var i = 0; i < _this.months.length; i++) {\r\n                _loop_1(i);\r\n            }\r\n            _this.selectMonthElem = builder.toDOM();\r\n        }); })\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-year\")\r\n            .addChild('select', function (builder) { return _this.selectYearElem = builder\r\n            .on('change', function () {\r\n            _this.jump(parseInt(_this.selectYearElem.value), _this.selectedMonth);\r\n        })\r\n            .toDOM(); }); }); })\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-next\")\r\n            .on('click', function () {\r\n            _this.next();\r\n        })\r\n            .addChild('span', function (builder) { return builder.html('&rsaquo;'); }); });\r\n        return builder.toDOM();\r\n    };\r\n    DefaultCalendar.prototype.prev = function () {\r\n        this.selectedYear = (this.selectedMonth === 0) ? this.selectedYear - 1 : this.selectedYear;\r\n        this.selectedMonth = (this.selectedMonth === 0) ? 11 : this.selectedMonth - 1;\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.next = function () {\r\n        this.selectedYear = (this.selectedMonth === 11) ? this.selectedYear + 1 : this.selectedYear;\r\n        this.selectedMonth = (this.selectedMonth + 1) % 12;\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.rerenderSelectYear = function () {\r\n        var match = /c-(\\d*):c\\+(\\d*)/g.exec(this.options.yearRange);\r\n        var minusYear = 0;\r\n        var plusYear = 1;\r\n        if (match !== null) {\r\n            minusYear = parseInt(match[1]);\r\n            plusYear = parseInt(match[2]);\r\n        }\r\n        this.selectYearElem.innerHTML = '';\r\n        for (var i = 0; i <= minusYear + plusYear; i++) {\r\n            var op = document.createElement(\"option\");\r\n            var year = this.selectedYear - minusYear + i;\r\n            op.value = year.toString();\r\n            op.innerText = year.toString();\r\n            this.selectYearElem.appendChild(op);\r\n        }\r\n    };\r\n    DefaultCalendar.prototype.jump = function (year, month) {\r\n        this.selectedYear = year;\r\n        this.selectedMonth = month;\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.rerenderMonth = function () {\r\n        var _this = this;\r\n        //header text\r\n        this.updateDisplayedDateValue();\r\n        this.rerenderSelectYear();\r\n        var firstDay = (new Date(this.selectedYear, this.selectedMonth)).getDay();\r\n        var daysInMonth = new Date(this.selectedYear, this.selectedMonth + 1, 0).getDate();\r\n        this.calendarBody.innerHTML = \"\";\r\n        this.selectYearElem.value = this.selectedYear.toString();\r\n        this.selectMonthElem.value = this.selectedMonth.toString();\r\n        this.daysOfWeek.forEach(function (day, idx) {\r\n            domel('div', _this.calendarBody)\r\n                .addClass(_this.cssPrefix + \"-weekday\")\r\n                .addClass(idx == 0 || idx == 6 ? _this.cssPrefix + \"-weekend\" : '')\r\n                .text(day);\r\n        });\r\n        // Add empty cells before first day\r\n        for (var i = 0; i < firstDay; i++) {\r\n            domel('div', this.calendarBody)\r\n                .addClass(this.cssPrefix + \"-day-empty\");\r\n        }\r\n        // Add all month days\r\n        var today = new Date();\r\n        for (var day = 1; day <= daysInMonth; day++) {\r\n            var builder = domel('div', this.calendarBody)\r\n                .addClass(this.cssPrefix + \"-day\")\r\n                .attr('data-date', day.toString())\r\n                .text(day.toString())\r\n                .on('click', function (e) {\r\n                _this.currentDate.setFullYear(_this.selectedYear);\r\n                _this.currentDate.setMonth(_this.selectedMonth);\r\n                _this.currentDate.setDate(parseInt(e.target.getAttribute('data-date')));\r\n                _this.dateChanged(_this.options.oneClickDateSelection);\r\n            });\r\n            if (day === today.getDate() && this.selectedYear === today.getFullYear() && this.selectedMonth === today.getMonth()) {\r\n                builder.addClass(this.cssPrefix + \"-day-current\");\r\n            }\r\n            if (day === this.currentDate.getDate() && this.selectedYear === this.currentDate.getFullYear() && this.selectedMonth === this.currentDate.getMonth()) {\r\n                builder.addClass(this.cssPrefix + \"-day-selected\");\r\n            }\r\n            var dayOfWeek = (firstDay + day - 1) % 7;\r\n            if (dayOfWeek == 0 || dayOfWeek == 6) {\r\n                builder.addClass(this.cssPrefix + \"-weekend\");\r\n            }\r\n        }\r\n        // Add empty cells after last day\r\n        var cellsDrawnInLastRow = (firstDay + daysInMonth) % 7;\r\n        var cellsToDraw = cellsDrawnInLastRow == 0 ? 0 : 7 - cellsDrawnInLastRow;\r\n        for (var i = 0; i < cellsToDraw; i++) {\r\n            domel('div', this.calendarBody)\r\n                .addClass(this.cssPrefix + \"-day-empty\");\r\n        }\r\n    };\r\n    DefaultCalendar.prototype.dateChanged = function (apply) {\r\n        _super.prototype.dateChanged.call(this, apply);\r\n        this.rerenderMonth();\r\n    };\r\n    return DefaultCalendar;\r\n}(Calendar));\r\nexport { DefaultCalendar };\r\n//# sourceMappingURL=default_calendar.js.map","var TimePicker = /** @class */ (function () {\r\n    function TimePicker(slot, options) {\r\n        this.slot = slot;\r\n        this.options = options || {};\r\n    }\r\n    Object.defineProperty(TimePicker.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'kdtp-tp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TimePicker.prototype.setTime = function (time) {\r\n        this.currentTime = new Date(time);\r\n    };\r\n    TimePicker.prototype.getTime = function () {\r\n        return new Date(this.currentTime);\r\n    };\r\n    TimePicker.prototype.timeChanged = function () {\r\n        if (this.options.onTimeChanged) {\r\n            this.options.onTimeChanged(this.currentTime);\r\n        }\r\n    };\r\n    return TimePicker;\r\n}());\r\nexport { TimePicker };\r\n//# sourceMappingURL=time_picker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { TimePicker } from './time_picker';\r\nvar DefaultTimePicker = /** @class */ (function (_super) {\r\n    __extends(DefaultTimePicker, _super);\r\n    function DefaultTimePicker() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefaultTimePicker.prototype.setTime = function (time) {\r\n        _super.prototype.setTime.call(this, time);\r\n        this.updateDisplayedTime();\r\n        this.hoursInput.valueAsNumber = time.getHours();\r\n        this.minutesInput.valueAsNumber = time.getMinutes();\r\n    };\r\n    DefaultTimePicker.prototype.render = function () {\r\n        var _this = this;\r\n        domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-time\")\r\n            .addChild('span', function (builder) { return _this.timeText = builder.toDOM(); })\r\n            .toDOM();\r\n        var slidersBuilder = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-sliders\");\r\n        slidersBuilder\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-time-row\")\r\n            .title('Hours')\r\n            .addChild('input', function (builder) { return _this.hoursInput = builder\r\n            .addClass(_this.cssPrefix + \"-input-hours\")\r\n            .type('range')\r\n            .attr('min', '0')\r\n            .attr('max', '23')\r\n            .attr('step', '1')\r\n            .on('input', function (e) {\r\n            _this.currentTime.setHours(_this.hoursInput.valueAsNumber);\r\n            _this.updateDisplayedTime();\r\n            _this.timeChanged();\r\n        })\r\n            .toDOM(); }); });\r\n        slidersBuilder\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-time-row\")\r\n            .title('Minutes')\r\n            .addChild('input', function (builder) { return _this.minutesInput = builder\r\n            .addClass(_this.cssPrefix + \"-input-minutes\")\r\n            .type('range')\r\n            .attr('min', '0')\r\n            .attr('max', '59')\r\n            .attr('step', '1')\r\n            .on('input', function (e) {\r\n            _this.currentTime.setMinutes(_this.minutesInput.valueAsNumber);\r\n            _this.updateDisplayedTime();\r\n            _this.timeChanged();\r\n        })\r\n            .toDOM(); }); });\r\n        return this.slot;\r\n    };\r\n    DefaultTimePicker.prototype.updateDisplayedTime = function () {\r\n        var locale = i18n.getCurrentLocale();\r\n        var timeToDraw = this.currentTime.toLocaleString(locale == 'en' ? undefined : locale, {\r\n            hour: \"numeric\",\r\n            minute: \"numeric\"\r\n        });\r\n        this.timeText.innerText = timeToDraw;\r\n    };\r\n    return DefaultTimePicker;\r\n}(TimePicker));\r\nexport { DefaultTimePicker };\r\n//# sourceMappingURL=default_time_picker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { DateTimePicker } from './date_time_picker';\r\nimport { DefaultCalendar } from './default_calendar';\r\nimport { DefaultTimePicker } from './default_time_picker';\r\nimport { getElementAbsolutePos } from '../utils/ui-utils';\r\nvar DefaultDateTimePicker = /** @class */ (function (_super) {\r\n    __extends(DefaultDateTimePicker, _super);\r\n    function DefaultDateTimePicker() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefaultDateTimePicker.prototype.render = function () {\r\n        var _this = this;\r\n        this.slot = domel('div', document.body)\r\n            .addClass(\"\" + this.cssPrefix)\r\n            .attr('tabIndex', '0')\r\n            .setStyle('position', 'absolute')\r\n            .setStyle('top', '-1000px')\r\n            .setStyle('left', '-1000px')\r\n            .on('keydown', function (ev) {\r\n            if (ev.keyCode === 27) { // ESC is pressed\r\n                _this.cancel();\r\n            }\r\n            else if (ev.keyCode === 13) { // Enter is pressed\r\n                _this.apply(_this.getDateTime());\r\n            }\r\n            return false;\r\n        })\r\n            .toDOM();\r\n        _super.prototype.render.call(this);\r\n        this.renderButtons();\r\n        this.globalMouseDownHandler = function (e) {\r\n            var event = window.event || e;\r\n            var o = event.srcElement || event.target;\r\n            var isOutside = !_this.slot.contains(event.target);\r\n            if (isOutside) {\r\n                document.removeEventListener('mousedown', _this.globalMouseDownHandler, true);\r\n                _this.cancel();\r\n            }\r\n            return true;\r\n        };\r\n    };\r\n    DefaultDateTimePicker.prototype.renderButtons = function () {\r\n        var _this = this;\r\n        var builder = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-buttons\")\r\n            .addChild('button', function (b) { return _this.nowButton = b\r\n            .addClass(_this.cssPrefix + \"-button \" + _this.cssPrefix + \"-button-now\")\r\n            .text(i18n.getText('ButtonNow'))\r\n            .on('click', function () {\r\n            _this.setDateTime(new Date());\r\n            _this.dateTimeChanged();\r\n            return false;\r\n        })\r\n            .toDOM(); });\r\n        if (this.options.showTimePicker || !this.options.oneClickDateSelection) {\r\n            builder.addChild('button', function (b) { return _this.submitButton = b\r\n                .addClass(_this.cssPrefix + \"-button \" + _this.cssPrefix + \"-button-apply\")\r\n                .text(i18n.getText('ButtonApply'))\r\n                .on('click', function () {\r\n                _this.apply(_this.getDateTime());\r\n                return false;\r\n            })\r\n                .toDOM(); });\r\n        }\r\n        builder.addChild('button', function (b) { return _this.submitButton = b\r\n            .addClass(_this.cssPrefix + \"-button \" + _this.cssPrefix + \"-button-cancel\")\r\n            .text(i18n.getText('ButtonCancel'))\r\n            .on('click', function () {\r\n            _this.cancel();\r\n            return false;\r\n        })\r\n            .toDOM(); });\r\n    };\r\n    DefaultDateTimePicker.prototype.createCalendar = function (options) {\r\n        this.calendarSlot =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-cal\")\r\n                .toDOM();\r\n        return new DefaultCalendar(this.calendarSlot, options);\r\n    };\r\n    DefaultDateTimePicker.prototype.createTimePicker = function (options) {\r\n        this.timePickerSlot =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-tp\")\r\n                .toDOM();\r\n        return new DefaultTimePicker(this.timePickerSlot, options);\r\n    };\r\n    DefaultDateTimePicker.prototype.show = function (anchor) {\r\n        var _this = this;\r\n        if (this.options.showDateTimeInput) {\r\n            if (this.options.beforeShow) {\r\n                this.options.beforeShow();\r\n            }\r\n            var anchorPos = getElementAbsolutePos(anchor || document.body);\r\n            var parentPos = getElementAbsolutePos(anchor ? anchor.parentElement || anchor : document.body);\r\n            this.slot.style.top = parentPos.y + 'px';\r\n            this.slot.style.left = anchorPos.x + 'px';\r\n        }\r\n        else {\r\n            _super.prototype.show.call(this, anchor);\r\n            this.slot.focus();\r\n        }\r\n        setTimeout(function () {\r\n            document.addEventListener('mousedown', _this.globalMouseDownHandler, true);\r\n        }, 1);\r\n    };\r\n    return DefaultDateTimePicker;\r\n}(DateTimePicker));\r\nexport { DefaultDateTimePicker };\r\n//# sourceMappingURL=default_date_time_picker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, utils } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nvar cssPrefix = \"kdlg\";\r\nvar DefaultDialogService = /** @class */ (function () {\r\n    function DefaultDialogService() {\r\n    }\r\n    DefaultDialogService.prototype.openConfirm = function (title, content, callback) {\r\n        var _this = this;\r\n        var template = \"<div id=\\\"\" + cssPrefix + \"-dialog-confirm\\\">\" + content + \"</div>\";\r\n        var options = {\r\n            title: title,\r\n            closable: false,\r\n            submitable: true,\r\n            cancelable: true,\r\n            body: template\r\n        };\r\n        if (callback) {\r\n            options.onSubmit = function () {\r\n                callback(true);\r\n            };\r\n            options.onCancel = function () {\r\n                callback(false);\r\n            };\r\n            this.open(options);\r\n            return;\r\n        }\r\n        return new Promise(function (resolve) {\r\n            options.onSubmit = function () {\r\n                resolve(true);\r\n            };\r\n            options.onCancel = function () {\r\n                resolve(false);\r\n            };\r\n            _this.open(options);\r\n        });\r\n    };\r\n    DefaultDialogService.prototype.openPrompt = function (title, content, defVal, callback) {\r\n        var _this = this;\r\n        var template = \"<div id=\\\"\" + cssPrefix + \"-dialog-form\\\" class=\\\"kfrm-form\\\">\\n            <div class=\\\"kfrm-fields label-above\\\">\\n                <label for=\\\"\" + cssPrefix + \"-dialog-form-input\\\" id=\\\"\" + cssPrefix + \"-dialog-form-content\\\">\" + content + \"</label>\\n                <input type=\\\"text\\\" name=\\\"\" + cssPrefix + \"-dialog-form-input\\\" id=\\\"\" + cssPrefix + \"-dialog-form-input\\\" />\\n            </div>\\n        </div>\";\r\n        var options = {\r\n            title: title,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            body: template,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(cssPrefix + \"-dialog-form-input\");\r\n                if (defVal) {\r\n                    input.value = defVal;\r\n                }\r\n                input.focus();\r\n            }\r\n        };\r\n        var processInput = function (callback) {\r\n            var input = document.getElementById(cssPrefix + \"-dialog-form-input\");\r\n            var result = input.value;\r\n            if (result && result.replace(/\\s/g, '').length > 0) {\r\n                callback(result);\r\n                return true;\r\n            }\r\n            input.classList.add('eqjs-invalid');\r\n            return false;\r\n        };\r\n        if (callback) {\r\n            options.onSubmit = function () {\r\n                return processInput(callback);\r\n            };\r\n            options.onCancel = function () {\r\n                callback(\"\");\r\n            };\r\n            this.open(options);\r\n            return;\r\n        }\r\n        return new Promise(function (resolve) {\r\n            options.onSubmit = function () {\r\n                return processInput(resolve);\r\n            };\r\n            options.onCancel = function () {\r\n                resolve(\"\");\r\n            };\r\n            _this.open(options);\r\n        });\r\n    };\r\n    DefaultDialogService.prototype.open = function (options) {\r\n        var dlg = new DefaultDialog(options);\r\n        dlg.open();\r\n        return dlg;\r\n    };\r\n    DefaultDialogService.prototype.openProgress = function (options) {\r\n        var dlg = new DefaultProgressDialog(options);\r\n        dlg.open();\r\n        return dlg;\r\n    };\r\n    return DefaultDialogService;\r\n}());\r\nexport { DefaultDialogService };\r\nvar DefaultDialog = /** @class */ (function () {\r\n    function DefaultDialog(options) {\r\n        var _this = this;\r\n        this.options = options;\r\n        this.submitHandler = function () {\r\n            if (_this.options.onSubmit && _this.options.onSubmit() === false) {\r\n                return false;\r\n            }\r\n            _this.destroy();\r\n            return true;\r\n        };\r\n        this.cancelHandler = function () {\r\n            if (_this.options.onCancel) {\r\n                _this.options.onCancel();\r\n            }\r\n            _this.destroy();\r\n        };\r\n        this.keydownHandler = function (ev) {\r\n            if (ev.keyCode == 13 && _this.isActiveDialog()) {\r\n                ev.preventDefault();\r\n                ev.stopPropagation();\r\n                if (_this.submitHandler()) {\r\n                    window.removeEventListener('keydown', _this.keydownHandler, false);\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        var id = utils.generateId('dlg');\r\n        this.slot =\r\n            domel('div', document.body)\r\n                .attr('tab-index', '-1')\r\n                .data('dialog-id', id)\r\n                .addClass(cssPrefix + \"-modal\", 'is-active')\r\n                .addChild('div', function (b) { return b\r\n                .addClass('kdlg-modal-background'); })\r\n                .addChild('div', function (b) { return _this.windowElement = b\r\n                .addClass(cssPrefix + \"-modal-window\")\r\n                .addChild('header', function (b) {\r\n                _this.headerElement = b\r\n                    .addClass(cssPrefix + \"-header\")\r\n                    .addChild('p', function (b) { return b\r\n                    .addClass(cssPrefix + \"-header-title\")\r\n                    .addText(options.title); })\r\n                    .toDOM();\r\n                if (options.closable !== false)\r\n                    b.addChild('button', function (b) { return b\r\n                        .addClass(cssPrefix + \"-modal-close\")\r\n                        .on('click', function () {\r\n                        _this.cancelHandler();\r\n                    }); });\r\n            })\r\n                .addChild('section', function (b) {\r\n                _this.bodyElement = b\r\n                    .addClass(cssPrefix + \"-body\")\r\n                    .toDOM();\r\n                if (typeof options.body === 'string') {\r\n                    b.addHtml(options.body);\r\n                }\r\n                else {\r\n                    b.addChildElement(options.body);\r\n                }\r\n            })\r\n                .addChild('div', function (b) { return _this.alertElement = b\r\n                .addClass(cssPrefix + \"-alert-container\")\r\n                .toDOM(); })\r\n                .addChild('footer', function (b) {\r\n                _this.footerElement = b\r\n                    .addClass(cssPrefix + \"-footer\", 'align-right')\r\n                    .toDOM();\r\n                if (options.submitable === false)\r\n                    return;\r\n                b.addChild('button', function (b) { return b\r\n                    .addClass('kfrm-button', 'is-info')\r\n                    .addText(i18n.getText('ButtonOK'))\r\n                    .on('click', function (e) {\r\n                    _this.submitHandler();\r\n                }); });\r\n                if (options.cancelable !== false)\r\n                    b.addChild('button', function (builder) { return builder\r\n                        .addClass('kfrm-button')\r\n                        .addText(i18n.getText('ButtonCancel'))\r\n                        .on('click', function (e) {\r\n                        _this.cancelHandler();\r\n                    }); });\r\n            })\r\n                .toDOM(); })\r\n                .toDOM();\r\n    }\r\n    DefaultDialog.prototype.getRootElement = function () {\r\n        return this.slot;\r\n    };\r\n    DefaultDialog.prototype.open = function () {\r\n        if (this.options.beforeOpen) {\r\n            this.options.beforeOpen();\r\n        }\r\n        domel(this.slot).show();\r\n        if (this.options.arrangeParents) {\r\n            this.arrangeParents(true);\r\n        }\r\n        var windowDiv = this.slot\r\n            .querySelector(\".\" + cssPrefix + \"-modal-window\");\r\n        if (this.options.height) {\r\n            windowDiv.style.height = typeof this.options.height === 'string'\r\n                ? this.options.height\r\n                : this.options.height + \"px\";\r\n        }\r\n        if (this.options.width) {\r\n            windowDiv.style.width = typeof this.options.width === 'string'\r\n                ? this.options.width\r\n                : this.options.width + \"px\";\r\n        }\r\n        if (this.options.submitOnEnter) {\r\n            window.addEventListener('keydown', this.keydownHandler, false);\r\n        }\r\n    };\r\n    DefaultDialog.prototype.submit = function () {\r\n        this.submitHandler();\r\n    };\r\n    DefaultDialog.prototype.cancel = function () {\r\n        this.cancelHandler();\r\n    };\r\n    DefaultDialog.prototype.close = function () {\r\n        this.destroy();\r\n    };\r\n    DefaultDialog.prototype.disableButtons = function () {\r\n        var buttons = this.slot.querySelectorAll('button');\r\n        buttons.forEach(function (button) { return button.disabled = true; });\r\n    };\r\n    DefaultDialog.prototype.enableButtons = function () {\r\n        var buttons = this.slot.querySelectorAll('button');\r\n        buttons.forEach(function (button) { return button.disabled = false; });\r\n    };\r\n    DefaultDialog.prototype.showAlert = function (text, reason, replace) {\r\n        var alert = domel('div')\r\n            .addClass(cssPrefix + \"-alert \" + (reason || ''))\r\n            .addChild('span', function (b) { return b\r\n            .addClass(cssPrefix + \"-alert-closebtn\")\r\n            .text('×')\r\n            .on('click', function (ev) {\r\n            var alert = ev.target.parentElement;\r\n            alert.parentElement.removeChild(alert);\r\n        }); })\r\n            .addText(text)\r\n            .toDOM();\r\n        if (replace === true) {\r\n            this.clearAlert();\r\n        }\r\n        this.alertElement.appendChild(alert);\r\n    };\r\n    DefaultDialog.prototype.clearAlert = function () {\r\n        this.alertElement.innerHTML = '';\r\n    };\r\n    DefaultDialog.prototype.destroy = function () {\r\n        if (this.options.arrangeParents) {\r\n            this.arrangeParents(false);\r\n        }\r\n        document.body.removeChild(this.slot);\r\n        if (this.options.submitOnEnter) {\r\n            window.removeEventListener('keydown', this.keydownHandler, false);\r\n        }\r\n        if (this.options.onDestroy) {\r\n            this.options.onDestroy();\r\n        }\r\n    };\r\n    DefaultDialog.prototype.isActiveDialog = function () {\r\n        var windowDivs = document.documentElement.querySelectorAll('.kdlg-modal');\r\n        return windowDivs[windowDivs.length - 1] === this.slot;\r\n    };\r\n    DefaultDialog.prototype.arrangeParents = function (turnOn) {\r\n        var windowDivs = document.documentElement.querySelectorAll('.kdlg-modal-window');\r\n        for (var i = 0; i < windowDivs.length - 1; i++) {\r\n            if (turnOn) {\r\n                var offset = i == 0 ? 20 : i * 40 + 20;\r\n                domel(windowDivs[i])\r\n                    .setStyle('margin-top', offset + \"px\")\r\n                    .setStyle('margin-left', offset + \"px\");\r\n            }\r\n            else {\r\n                domel(windowDivs[i])\r\n                    .removeStyle('margin-top')\r\n                    .removeStyle('margin-left');\r\n            }\r\n        }\r\n    };\r\n    return DefaultDialog;\r\n}());\r\nexport { DefaultDialog };\r\nvar DefaultProgressDialog = /** @class */ (function (_super) {\r\n    __extends(DefaultProgressDialog, _super);\r\n    function DefaultProgressDialog(options) {\r\n        var _this = this;\r\n        var contentElement;\r\n        var progressElement;\r\n        var body = domel('div')\r\n            .addChild('div', function (b) { return contentElement = b\r\n            .text(options.content || '')\r\n            .toDOM(); })\r\n            .addChild('div', function (b) {\r\n            b\r\n                .addClass(cssPrefix + \"-progress-line\")\r\n                .addChild('div', function (b) {\r\n                progressElement = b\r\n                    .addClass('fill')\r\n                    .toDOM();\r\n                if (options.determinated) {\r\n                    b.setStyle('width', '0%');\r\n                }\r\n                else {\r\n                    b.addClass('indeterminate');\r\n                }\r\n            });\r\n        })\r\n            .toDOM();\r\n        _this = _super.call(this, {\r\n            title: options.title,\r\n            body: body,\r\n            beforeOpen: options.beforeOpen,\r\n            onSubmit: options.onSubmit,\r\n            width: options.width,\r\n            height: options.height,\r\n            submitable: false,\r\n            cancelable: false,\r\n            closable: false\r\n        }) || this;\r\n        _this.contentElement = contentElement;\r\n        _this.progressElement = progressElement;\r\n        return _this;\r\n    }\r\n    DefaultProgressDialog.prototype.updateContent = function (content) {\r\n        this.contentElement.innerText = content;\r\n    };\r\n    DefaultProgressDialog.prototype.updateProgress = function (progress) {\r\n        var _this = this;\r\n        progress = this.in01(progress);\r\n        this.progressElement.style.width = progress * 100 + \"%\";\r\n        if (progress === 1) {\r\n            // postpone for 0.5s for smooth closing\r\n            setTimeout(function () {\r\n                _this.submit();\r\n            }, 500);\r\n        }\r\n    };\r\n    DefaultProgressDialog.prototype.in01 = function (num) {\r\n        if (num > 1)\r\n            return 1;\r\n        if (num < 0)\r\n            return 0;\r\n        return num;\r\n    };\r\n    return DefaultProgressDialog;\r\n}(DefaultDialog));\r\nexport { DefaultProgressDialog };\r\n//# sourceMappingURL=default_dialog_service.js.map","import { i18n } from '@easydata/core';\r\nfunction addEasyDataUITexts() {\r\n    i18n.updateDefaultTexts({\r\n        GridPageInfo: '{FirstPageRecordNum} - {LastPageRecordNum} of {Total} records',\r\n        ButtonApply: 'Apply',\r\n        ButtonNow: 'Now'\r\n    });\r\n}\r\naddEasyDataUITexts();\r\n//# sourceMappingURL=text_resources.js.map","// grid\r\nexport * from './grid/easy_grid';\r\nexport * from './grid/easy_grid_columns';\r\nexport * from './grid/easy_grid_cell_renderer';\r\n//datetimepicker\r\nexport * from './datetimepicker/calendar';\r\nexport * from './datetimepicker/date_time_picker';\r\nexport * from './datetimepicker/default_calendar';\r\nexport * from './datetimepicker/default_date_time_picker';\r\nexport * from './datetimepicker/default_time_picker';\r\nexport * from './datetimepicker/time_picker';\r\n// utils\r\nexport * from './utils/browser_utils';\r\nexport * from './utils/dom_elem_builder';\r\nexport * from './utils/drag_manager';\r\nexport * from './utils/mask';\r\nexport * from './utils/ui-utils';\r\n//dialogs\r\nexport * from './dialogs/default_dialog_service';\r\nimport './i18n/text_resources';\r\nimport { DefaultDialogService } from './dialogs/default_dialog_service';\r\n// export dialogs to use outside of context as global\r\nvar dialogs = new DefaultDialogService();\r\nexport { dialogs };\r\n//# sourceMappingURL=public_api.js.map","/** Represents type of linking of conditions in group (predicate).*/\r\nexport var LinkType;\r\n(function (LinkType) {\r\n    /**\r\n     * None of the conditions must be truth (all must be false).\r\n     * In SQL it will look like: `NOT (Condition1 OR Condition2 OR ...)`.\r\n     */\r\n    LinkType[LinkType[\"None\"] = 0] = \"None\";\r\n    /** At least one condition must be truth. In SQL they are connected by `OR` operator.*/\r\n    LinkType[LinkType[\"Any\"] = 1] = \"Any\";\r\n    /**\r\n     * Not all conditions must be truth (at least one must false).\r\n     * In SQL it will look like: `NOT(Condition1 AND Condition2 AND ...)`.\r\n     */\r\n    LinkType[LinkType[\"NotAll\"] = 2] = \"NotAll\";\r\n    /** All conditions must be truth, in result SQL they are connected by `AND` operator;*/\r\n    LinkType[LinkType[\"All\"] = 3] = \"All\";\r\n})(LinkType || (LinkType = {}));\r\n//# sourceMappingURL=link_type.js.map","import { DataType } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { FormatParser } from \"./format_parser\";\r\nimport { LinkType } from '../types/link_type';\r\nexport var equtils;\r\n(function (equtils) {\r\n    /**\r\n     * Adds two paths and returns the result\r\n     * Correctly processes leading and trailing slashes\r\n     * @param path1\r\n     * @param path2\r\n     */\r\n    function combinePath(path1, path2) {\r\n        var result = path1;\r\n        if (result != null && result.length > 0) {\r\n            if (result.charAt(result.length - 1) != '/')\r\n                result += \"/\";\r\n            result += path2;\r\n        }\r\n        else {\r\n            result = path2;\r\n        }\r\n        return result;\r\n    }\r\n    equtils.combinePath = combinePath;\r\n    /**\r\n     * Converts a string to a `LinkType` value\r\n     * @param str\r\n     */\r\n    function strToLinkType(str) {\r\n        if (str == \"All\") {\r\n            return LinkType.All;\r\n        }\r\n        else if (str == \"NotAll\") {\r\n            return LinkType.NotAll;\r\n        }\r\n        else if (str == \"Any\") {\r\n            return LinkType.Any;\r\n        }\r\n        else {\r\n            return LinkType.None;\r\n        }\r\n    }\r\n    equtils.strToLinkType = strToLinkType;\r\n    /**\r\n     * Converts a `LinkType` value to a string\r\n     * @param type\r\n     */\r\n    function linkTypeToStr(type) {\r\n        if (type === LinkType.All) {\r\n            return \"All\";\r\n        }\r\n        else if (type === LinkType.NotAll) {\r\n            return \"NotAll\";\r\n        }\r\n        else if (type == LinkType.Any) {\r\n            return \"Any\";\r\n        }\r\n        else {\r\n            return \"None\";\r\n        }\r\n    }\r\n    equtils.linkTypeToStr = linkTypeToStr;\r\n    /**\r\n     * Parses the operator's format string and returns a list of tokens\r\n     * @param operator\r\n     */\r\n    function parseOperatorFormat(operator) {\r\n        var format = i18n.getText('Operators', operator.id, 'format');\r\n        if (!format) {\r\n            format = i18n.getText('Operators', operator.id, 'displayFormat');\r\n        }\r\n        if (!format) {\r\n            format = operator.displayFormat;\r\n        }\r\n        var parser = new FormatParser(format);\r\n        return parser.parse();\r\n    }\r\n    equtils.parseOperatorFormat = parseOperatorFormat;\r\n    //----------- value converstion utils --------------\r\n    /**\r\n     * Converts a value from one DataType to another\r\n     * @param value\r\n     * @param fromDataType - the original data type\r\n     * @param toDataType - the data type we want to get\r\n     */\r\n    function convertValue(value, fromDataType, toDataType) {\r\n        switch (toDataType) {\r\n            case DataType.String:\r\n                return value;\r\n            case (DataType.Autoinc, DataType.Byte, DataType.Int32, DataType.Int64, DataType.Word):\r\n                var resInt = parseInt(value);\r\n                return isNaN(resInt) ? '' : resInt.toString();\r\n            case (DataType.Currency, DataType.Float):\r\n                var resFloat = parseFloat(value);\r\n                return isNaN(resFloat) ? '' : resFloat.toString();\r\n            default:\r\n                return '';\r\n        }\r\n    }\r\n    equtils.convertValue = convertValue;\r\n})(equtils || (equtils = {}));\r\n//# sourceMappingURL=utils.js.map","export var eqconsts;\r\n(function (eqconsts) {\r\n    /**\r\n     * Defines some commonly used constants\r\n     */\r\n    var ConstLists = /** @class */ (function () {\r\n        function ConstLists() {\r\n            /**\r\n             * Contains macros for the special dates (like Today, First day of the month, etc)\r\n             */\r\n            this.SpecDateValues = [\r\n                { id: '${Today}', key: 'Today', isDefault: true },\r\n                { id: '${Yesterday}', key: 'Yesterday' },\r\n                { id: '${Tomorrow}', key: 'Tomorrow' },\r\n                { id: '${FirstDayOfMonth}', key: 'FirstDayOfMonth' },\r\n                { id: '${FirstDayOfYear}', key: 'FirstDayOfYear' }\r\n            ];\r\n            /**\r\n             * Contains macros for the special times (like Now, Noon, etc)\r\n             */\r\n            this.SpecTimeValues = [\r\n                { id: '${Now}', key: 'Now', isDefault: true },\r\n                { id: '${HourStart}', key: 'HourStart' },\r\n                { id: '${Midnight}', key: 'Midnight' },\r\n                { id: '${Noon}', key: 'Noon' }\r\n            ];\r\n            /**\r\n             * Boolean values macros (true and false)\r\n             */\r\n            this.BooleanValues = [\r\n                { id: '${false}', key: 'False' },\r\n                { id: '${true}', key: 'True', isDefault: true }\r\n            ];\r\n        }\r\n        return ConstLists;\r\n    }());\r\n    /**\r\n     * Contains some constants (macros) with special date/time and boolean values.\r\n     */\r\n    eqconsts.constLists = new ConstLists();\r\n    /**\r\n     * Constants representing various types of relationships between conditions\r\n     */\r\n    eqconsts.predicateLinkTypeList = [\r\n        { id: 'All', key: 'LinkTypeAll' },\r\n        { id: 'Any', key: 'LinkTypeAny' },\r\n        { id: 'None', key: 'LinkTypeNone' },\r\n        { id: 'NotAll', key: 'LinkTypeNotAll' }\r\n    ];\r\n})(eqconsts || (eqconsts = {}));\r\n//# sourceMappingURL=constants.js.map","/**\r\n * Represents a parser for format expressions in operators\r\n */\r\nvar FormatParser = /** @class */ (function () {\r\n    function FormatParser(format) {\r\n        this.start(format);\r\n    }\r\n    /**\r\n     * Starts parsing of the format string passed in the parameter\r\n     * @param format\r\n     */\r\n    FormatParser.prototype.start = function (format) {\r\n        this.formatStr = format;\r\n        this.pos = 0;\r\n        this.exprNum = 0;\r\n        this.tokenText = '';\r\n    };\r\n    /**\r\n     * Skips all spcaes till the beginning of next token\r\n     */\r\n    FormatParser.prototype.skipSpaces = function () {\r\n        while (this.pos < this.formatStr.length && this.formatStr.charAt(this.pos) === ' ')\r\n            this.pos++;\r\n    };\r\n    /**\r\n     * Scans the source and gets the next token\r\n     */\r\n    FormatParser.prototype.next = function () {\r\n        this.skipSpaces();\r\n        if (this.pos >= this.formatStr.length)\r\n            return false;\r\n        var npos = 0;\r\n        if (this.formatStr.charAt(this.pos) === '{') {\r\n            npos = this.formatStr.indexOf('}', this.pos);\r\n            if (npos < 0)\r\n                return false;\r\n            this.tokenText = this.formatStr.substring(this.pos, npos + 1);\r\n            if (this.tokenText.indexOf('{expr') === 0) {\r\n                this.token = 'expression';\r\n                this.exprNum = parseInt(this.tokenText.substring(5, this.tokenText.length));\r\n            }\r\n            this.pos = npos + 1;\r\n        }\r\n        else if (this.formatStr.charAt(this.pos) === '[' && this.pos < this.formatStr.length - 1 && this.formatStr.charAt(this.pos + 1) === '[') {\r\n            this.pos += 2;\r\n            npos = this.formatStr.indexOf(']]', this.pos);\r\n            this.token = 'operator';\r\n            this.tokenText = this.formatStr.substring(this.pos, npos);\r\n            this.pos = npos + 2;\r\n        }\r\n        else {\r\n            this.token = 'text';\r\n            var npos1 = this.formatStr.indexOf('{', this.pos);\r\n            if (npos1 < 0)\r\n                npos1 = this.formatStr.length;\r\n            var npos2 = this.formatStr.indexOf('[[', this.pos);\r\n            if (npos2 < 0)\r\n                npos2 = this.formatStr.length;\r\n            npos = Math.min(npos1, npos2);\r\n            this.tokenText = this.formatStr.substring(this.pos, npos).trim();\r\n            this.pos = npos;\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Returns current token\r\n     */\r\n    FormatParser.prototype.getToken = function () {\r\n        return {\r\n            type: this.token,\r\n            text: this.tokenText,\r\n            index: this.exprNum - 1\r\n        };\r\n    };\r\n    /**\r\n     * Parses all source string passed in constructor and returns the list of tokens\r\n     */\r\n    FormatParser.prototype.parse = function () {\r\n        var result = [];\r\n        while (this.next()) {\r\n            result.push(this.getToken());\r\n        }\r\n        return result;\r\n    };\r\n    return FormatParser;\r\n}());\r\nexport { FormatParser };\r\n//# sourceMappingURL=format_parser.js.map","/**\r\n * Represents an aggregate function\r\n */\r\nvar AggrFunction = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function AggrFunction() {\r\n        this.id = \"\";\r\n        this.caption = \"\";\r\n        this.sqlExpr = \"\";\r\n        this.displayFormat = \"\";\r\n        this.appliedTypes = [];\r\n    }\r\n    /**\r\n     * Loads an aggregate function from its JSON representation object\r\n     * @param aggrFunction The JSON representation object\r\n     */\r\n    AggrFunction.prototype.loadFromData = function (aggrFunction) {\r\n        if (aggrFunction) {\r\n            this.id = aggrFunction.id;\r\n            this.caption = aggrFunction.cptn;\r\n            this.displayFormat = aggrFunction.fmt;\r\n            this.sqlExpr = aggrFunction.expr;\r\n            this.appliedTypes = aggrFunction.dtypes || this.appliedTypes;\r\n        }\r\n    };\r\n    return AggrFunction;\r\n}());\r\nexport { AggrFunction };\r\n//# sourceMappingURL=aggr_function.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { ValueEditor } from '@easydata/core';\r\n/**\r\n * Represents a value editor.\r\n */\r\nvar EqValueEditor = /** @class */ (function (_super) {\r\n    __extends(EqValueEditor, _super);\r\n    /** The default constructor. */\r\n    function EqValueEditor() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n     * Loads value editor from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    EqValueEditor.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            if (data.sql) {\r\n                this.statement = data.sql;\r\n            }\r\n            if (data.extraParams) {\r\n                this.extraParams = data.extraParams;\r\n            }\r\n        }\r\n    };\r\n    return EqValueEditor;\r\n}(ValueEditor));\r\nexport { EqValueEditor };\r\n//# sourceMappingURL=value_editor.js.map","/** Represents expression kinds.*/\r\nexport var DataKind;\r\n(function (DataKind) {\r\n    /** Represents one value of some type: one constant or one attribute (field).*/\r\n    DataKind[DataKind[\"Scalar\"] = 0] = \"Scalar\";\r\n    /** The same as Scalar but represents only one constant value of some type.*/\r\n    DataKind[DataKind[\"Const\"] = 1] = \"Const\";\r\n    /** The same as Scalar but represents only one attribute.*/\r\n    DataKind[DataKind[\"Attribute\"] = 2] = \"Attribute\";\r\n    /** Represents a list of scalar values. */\r\n    DataKind[DataKind[\"List\"] = 4] = \"List\";\r\n    /** Special expression kind which represents a sub query.*/\r\n    DataKind[DataKind[\"Query\"] = 5] = \"Query\";\r\n    /** Special expression kind which represents a binding to parent column.*/\r\n    DataKind[DataKind[\"ParentColumn\"] = 6] = \"ParentColumn\";\r\n})(DataKind || (DataKind = {}));\r\n//# sourceMappingURL=data_kind.js.map","import { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { EqValueEditor } from './value_editor';\r\nimport { DataKind } from '../types/data_kind';\r\n/**\r\n * Represents a logical expression or predicate, like comparisions or `LIKE` predicate.\r\n */\r\nvar Operator = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function Operator() {\r\n        this.id = \"\";\r\n        this.expr = \"\";\r\n        this.constValueFormat = \"{const}\";\r\n        this.caption = \"{Unrecognized operator}\";\r\n        this.displayFormat = \"{expr1} [[{unrecognized operator}]] {expr2}\";\r\n        this.isRange = false;\r\n        this.caseIns = false;\r\n        this.paramCount = 2;\r\n        this.defaultOperand = new Operand();\r\n        this.appliedTypes = [];\r\n        this.operands = new Array();\r\n    }\r\n    /**\r\n    * Loads operator from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param data The JSON representation object.\r\n    */\r\n    Operator.prototype.loadFromData = function (model, data) {\r\n        if (data) {\r\n            this.id = data.id;\r\n            this.caption = data.cptn;\r\n            this.caseIns = data.caseIns;\r\n            this.isRange = data.isRange;\r\n            this.displayFormat = data.fmt;\r\n            this.paramCount = data.pcnt;\r\n            this.expr = data.expr;\r\n            this.appliedTypes = data.dtypes || this.appliedTypes;\r\n            if (data.defOperand) {\r\n                this.defaultOperand.loadFromData(model, data.defOperand);\r\n            }\r\n            if (data.editor) {\r\n                this.defaultOperand.editor = model.getEditorById(data.editor) || new EqValueEditor();\r\n            }\r\n            if (data.operands) {\r\n                for (var i = 0; i < data.operands.length; i++) {\r\n                    var newOperand = new Operand();\r\n                    newOperand.loadFromData(model, data.operands[i]);\r\n                    if (data.editor) {\r\n                        newOperand.editor = model.getEditorById(data.editor) || new EqValueEditor();\r\n                    }\r\n                    this.operands.push(newOperand);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return Operator;\r\n}());\r\nexport { Operator };\r\n/**\r\n * Represents one operand in some operator's expression\r\n */\r\nvar Operand = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function Operand() {\r\n        this.kind = DataKind.Scalar;\r\n        this.dataType = DataType.Unknown;\r\n        this.editor = new EqValueEditor();\r\n        this.defValue = \"\";\r\n    }\r\n    /**\r\n     * Loads operand from its JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param data The JSON representation object.\r\n     */\r\n    Operand.prototype.loadFromData = function (model, operand) {\r\n        this.kind = operand.kind;\r\n        this.dataType = operand.dtype;\r\n        this.defValue = operand.val;\r\n        this.defText = operand.txt;\r\n        ;\r\n        if (operand.editor) {\r\n            this.editor = model.getEditorById(operand.editor) || new EqValueEditor();\r\n        }\r\n    };\r\n    /**\r\n     * Copies operand from other operand.\r\n     * @param scr The operand.\r\n     */\r\n    Operand.prototype.copyFrom = function (src) {\r\n        dataUtils.assign(this, src);\r\n    };\r\n    return Operand;\r\n}());\r\nexport { Operand };\r\n//# sourceMappingURL=operator.js.map","/** Contains several constant definitions for expressions tag */\r\nexport var ExprTag;\r\n(function (ExprTag) {\r\n    /** Unknown expression */\r\n    ExprTag[ExprTag[\"Unknown\"] = 0] = \"Unknown\";\r\n    /** Constant expression */\r\n    ExprTag[ExprTag[\"Constant\"] = 1] = \"Constant\";\r\n    /** Entity attributre expression */\r\n    ExprTag[ExprTag[\"EntityAttribute\"] = 2] = \"EntityAttribute\";\r\n    /** Parent entity attribute expression */\r\n    ExprTag[ExprTag[\"ParentEntityAttribute\"] = 3] = \"ParentEntityAttribute\";\r\n    /** Agrregate function expression */\r\n    ExprTag[ExprTag[\"AggregateFunction\"] = 4] = \"AggregateFunction\";\r\n    /** Parent column expression */\r\n    ExprTag[ExprTag[\"ParentColumn\"] = 5] = \"ParentColumn\";\r\n    /** Query expression */\r\n    ExprTag[ExprTag[\"Query\"] = 11] = \"Query\";\r\n    /** Custom sql expression */\r\n    ExprTag[ExprTag[\"CustomSql\"] = 21] = \"CustomSql\";\r\n})(ExprTag || (ExprTag = {}));\r\n//# sourceMappingURL=expr_tag.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { MetaEntity, MetaEntityAttr } from '@easydata/core';\r\n/**\r\n * Represents one entity.\r\n */\r\nvar Entity = /** @class */ (function (_super) {\r\n    __extends(Entity, _super);\r\n    /** The default constructor. */\r\n    function Entity(parent) {\r\n        var _this = _super.call(this, parent) || this;\r\n        _this.useInConditions = false;\r\n        _this.useInResult = false;\r\n        _this.useInSorting = false;\r\n        return _this;\r\n    }\r\n    /**\r\n    * Loads entity from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param data The JSON representation object.\r\n    */\r\n    Entity.prototype.loadFromData = function (model, data) {\r\n        _super.prototype.loadFromData.call(this, model, data);\r\n        if (data) {\r\n            this.useInConditions = data.uic;\r\n            this.useInResult = data.uir;\r\n            this.useInSorting = data.uis;\r\n        }\r\n    };\r\n    Entity.prototype.scan = function (processAttribute, processEntity) {\r\n        _super.prototype.scan.call(this, function (attr, opts) { return processAttribute && processAttribute(attr, opts); }, function (entity, opts) { return processEntity && processEntity(entity, opts); });\r\n    };\r\n    return Entity;\r\n}(MetaEntity));\r\nexport { Entity };\r\n/**\r\n * Represents entity attribute.\r\n */\r\nvar EntityAttr = /** @class */ (function (_super) {\r\n    __extends(EntityAttr, _super);\r\n    /** The default constructor. */\r\n    function EntityAttr(entity) {\r\n        var _this = _super.call(this, entity) || this;\r\n        /**\r\n         * The parameters associated with this entity attribute\r\n         */\r\n        _this.params = [];\r\n        _this.useInConditions = true;\r\n        _this.useInResult = true;\r\n        _this.useInSorting = true;\r\n        _this.defaultOperator = \"\";\r\n        _this.operators = new Array();\r\n        _this.lookupAttr = \"\";\r\n        _this.expr = \"\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * Loads entity attribute from JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param data The JSON representation object.\r\n     */\r\n    EntityAttr.prototype.loadFromData = function (model, data) {\r\n        _super.prototype.loadFromData.call(this, model, data);\r\n        if (data) {\r\n            this.useInConditions = data.uic;\r\n            this.useInResult = data.uir;\r\n            this.useInSorting = data.uis;\r\n            this.expr = data.sql;\r\n            this.defaultOperator = data.defOperator;\r\n            this.operators = data.ops;\r\n            if (data.udata)\r\n                this.userData = data.udata;\r\n        }\r\n    };\r\n    return EntityAttr;\r\n}(MetaEntityAttr));\r\nexport { EntityAttr };\r\n//# sourceMappingURL=entity.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { EditorTag } from \"@easydata/core\";\r\n/** Represents editor tags*/\r\nexport var EqEditorTag = __assign({}, EditorTag, { \r\n    /** SqlList tag value */\r\n    SqlList: \"SQLLIST\", \r\n    /** SubQuery tag value */\r\n    SubQuery: \"SUBQUERY\", \r\n    /** Bind to parent column tag value */\r\n    BindToParentColumn: \"BINDTOPARENTCOLUMN\" });\r\n//# sourceMappingURL=eq_editor_tag.js.map","var Tree = /** @class */ (function () {\r\n    function Tree(value) {\r\n        if (value === void 0) { value = null; }\r\n        this.childs = [];\r\n        this.value = null;\r\n        this.parent = null;\r\n        if (value) {\r\n            if (Array.isArray(value)) {\r\n                this.value = value[0];\r\n                if (value.length > 1) {\r\n                    this.addChild(new Tree(value.slice(1)));\r\n                }\r\n            }\r\n            else if (value instanceof Tree) {\r\n                this.value = value.value;\r\n                this.childs = value.childs;\r\n            }\r\n            else {\r\n                this.value = value;\r\n            }\r\n        }\r\n    }\r\n    Tree.prototype.contains = function (value) {\r\n        if (this.value === value)\r\n            return true;\r\n        for (var _i = 0, _a = this.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            if (child.contains(value))\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    Tree.prototype.findNode = function (value) {\r\n        if (this.value === value)\r\n            return this;\r\n        for (var _i = 0, _a = this.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            var result = child.findNode(value);\r\n            if (result)\r\n                return result;\r\n        }\r\n        return null;\r\n    };\r\n    Tree.prototype.addChild = function (child) {\r\n        child.parent = this;\r\n        this.childs.push(child);\r\n    };\r\n    Tree.prototype.setParents = function () {\r\n        for (var _i = 0, _a = this.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            child.parent = this;\r\n            child.setParents();\r\n        }\r\n    };\r\n    return Tree;\r\n}());\r\nexport { Tree };\r\n//# sourceMappingURL=tree.js.map","export var QueryChangePart;\r\n(function (QueryChangePart) {\r\n    QueryChangePart[QueryChangePart[\"Conditions\"] = 1] = \"Conditions\";\r\n    QueryChangePart[QueryChangePart[\"Columns\"] = 2] = \"Columns\";\r\n    QueryChangePart[QueryChangePart[\"SortingColumns\"] = 4] = \"SortingColumns\";\r\n    QueryChangePart[QueryChangePart[\"Properties\"] = 32] = \"Properties\";\r\n    QueryChangePart[QueryChangePart[\"ExtraData\"] = 64] = \"ExtraData\";\r\n    QueryChangePart[QueryChangePart[\"All\"] = 127] = \"All\";\r\n})(QueryChangePart || (QueryChangePart = {}));\r\nexport var QueryChangeAction;\r\n(function (QueryChangeAction) {\r\n    QueryChangeAction[QueryChangeAction[\"Add\"] = 1] = \"Add\";\r\n    QueryChangeAction[QueryChangeAction[\"Modify\"] = 2] = \"Modify\";\r\n    QueryChangeAction[QueryChangeAction[\"Delete\"] = 4] = \"Delete\";\r\n    QueryChangeAction[QueryChangeAction[\"All\"] = 127] = \"All\";\r\n})(QueryChangeAction || (QueryChangeAction = {}));\r\n//# sourceMappingURL=query_events.js.map","import { utils as dataUtils } from '@easydata/core';\r\nimport { Expression } from './expression';\r\nimport { QueryChangePart, QueryChangeAction } from './query_events';\r\n/** Represents sorting direction. */\r\nexport var SortDirection;\r\n(function (SortDirection) {\r\n    /** No sorting. */\r\n    SortDirection[SortDirection[\"None\"] = 0] = \"None\";\r\n    /** Ascending order. */\r\n    SortDirection[SortDirection[\"Ascending\"] = 1] = \"Ascending\";\r\n    /** Descending order. */\r\n    SortDirection[SortDirection[\"Descending\"] = 2] = \"Descending\";\r\n})(SortDirection || (SortDirection = {}));\r\n/**\r\n * Represents some column which will be queried\r\n */\r\nvar Column = /** @class */ (function () {\r\n    /** the default constructor. */\r\n    function Column(query, justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        this.query = query;\r\n        this.justsorted = justsorted;\r\n        /** Column is enabled */\r\n        this.enabled = true;\r\n        /** The parameters associated with this column */\r\n        this.params = [];\r\n        this._isHidden = false;\r\n        this._id = dataUtils.generateId('col');\r\n        this.caption = '';\r\n        this.sorting = SortDirection.None;\r\n        this.sortIndex = -1;\r\n        this.expr = new Expression(this);\r\n        this.blockId = '';\r\n    }\r\n    Object.defineProperty(Column.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Column.prototype.getModel = function () {\r\n        return this.query.getModel();\r\n    };\r\n    Column.prototype.getQuery = function () {\r\n        return this.query;\r\n    };\r\n    /** Indicates whether this column is read-only */\r\n    Column.prototype.isReadOnly = function () {\r\n        return false;\r\n    };\r\n    /** Indicates whether this column is just-sorted */\r\n    Column.prototype.isJustSorted = function () {\r\n        return this.justsorted;\r\n    };\r\n    Column.prototype.setReadOnly = function (value) {\r\n        //do nothing. Read-only columns are not supported here\r\n    };\r\n    /** Indicates whether this column is invisible */\r\n    Column.prototype.isHidden = function () {\r\n        return this._isHidden;\r\n    };\r\n    Column.prototype.setHidden = function (value) {\r\n        this._isHidden = value;\r\n    };\r\n    /**\r\n      * Loads column from its JSON representation object.\r\n      * @param model The Data Model.\r\n      * @param colData The JSON representation object.\r\n      */\r\n    Column.prototype.loadFromData = function (model, colData) {\r\n        if (colData) {\r\n            if (colData.id) {\r\n                this._id = colData.id;\r\n            }\r\n            this.caption = colData.cptn;\r\n            if (typeof colData.srt !== 'undefined') {\r\n                this.sorting = colData.srt;\r\n                this.sortIndex = colData.srtidx;\r\n            }\r\n            if (colData.enabled === false) {\r\n                this.enabled = colData.enabled;\r\n            }\r\n            this.expr.loadFromData(model, colData.expr);\r\n            this.blockId = colData.blockId;\r\n            if (colData.hidden) {\r\n                this.setHidden(true);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Saves the column to a data transfer object (ready for sending to the server-side) .\r\n     * @returns An plain object that represents the column.\r\n     */\r\n    Column.prototype.saveToData = function () {\r\n        var obj = {};\r\n        obj.id = this._id;\r\n        if (this.caption) {\r\n            obj.cptn = this.caption;\r\n        }\r\n        if (typeof this.sorting !== 'undefined') {\r\n            obj.srt = this.sorting;\r\n            obj.srtidx = this.sortIndex;\r\n        }\r\n        obj.expr = this.expr.saveToData();\r\n        if (this.blockId) {\r\n            obj.blockId = this.blockId;\r\n        }\r\n        if (this.enabled === false) {\r\n            obj.enabled = this.enabled;\r\n        }\r\n        if (this.isHidden()) {\r\n            obj.hidden = true;\r\n        }\r\n        return obj;\r\n    };\r\n    Column.prototype.fireChangedEvent = function () {\r\n        this.query.fireChangedEvent({\r\n            part: (this.justsorted)\r\n                ? QueryChangePart.SortingColumns\r\n                : QueryChangePart.Columns,\r\n            action: QueryChangeAction.Modify,\r\n            changee: this\r\n        });\r\n    };\r\n    Column.prototype.getExpressionIndex = function (expr) {\r\n        return 0;\r\n    };\r\n    Column.prototype.expressionChanged = function (expr, oldValue) {\r\n    };\r\n    return Column;\r\n}());\r\nexport { Column };\r\n//# sourceMappingURL=column.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DataType, MetaData, utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { AggrFunction } from './aggr_function';\r\nimport { Operator, Operand } from './operator';\r\nimport { Entity, EntityAttr } from './entity';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { EqEditorTag } from '../types/eq_editor_tag';\r\nimport { Query } from '../query/query';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { Tree } from '../common/tree';\r\n/**\r\n * Represents a data model\r\n */\r\nvar DataModel = /** @class */ (function (_super) {\r\n    __extends(DataModel, _super);\r\n    /** The default constructor. */\r\n    function DataModel() {\r\n        var _this = _super.call(this) || this;\r\n        _this.mainEntity = null;\r\n        _this.operators = new Array();\r\n        _this.rootEntity = new Entity();\r\n        _this.aggrFunctions = new Array();\r\n        _this.dateMacros = ['${{Today}}', '${{Yesterday}}',\r\n            '${{Tomorrow}}', '${{FirstDayOfMonth}}', '${{LastDayOfMonth}}',\r\n            '${{FirstDayOfWeek}}', '${{FirstDayOfYear}}', '${{FirstDayOfNextWeek}}', '${{FirstDayOfPrevMonth}}',\r\n            '${{FirstDayOfNextMonth}}', '${{FirstDayOfNextYear}}', '${{FirstDayOfPrevYear}}', '${{FirstDayOfPrevWeek}}'];\r\n        _this.timeMacros = ['${{Now}}', '${{HourStart}}', '${{Midnight}}', '${{Noon}}'];\r\n        _this.links = [];\r\n        return _this;\r\n    }\r\n    /**\r\n     * Gets the main entity of model\r\n     * @return The main entity.\r\n     */\r\n    DataModel.prototype.getMainEntity = function () {\r\n        return this.mainEntity;\r\n    };\r\n    /**\r\n     * Loads data model from JSON.\r\n     * @param stringJson The JSON string.\r\n     */\r\n    DataModel.prototype.loadFromJSON = function (stringJson) {\r\n        var model = JSON.parse(stringJson);\r\n        this.loadFromData(model);\r\n    };\r\n    /**\r\n     * Loads data model from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    DataModel.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        //Operators\r\n        this.operators = new Array();\r\n        if (data.operators) {\r\n            for (var i = 0; i < data.operators.length; i++) {\r\n                var newOperator = new Operator();\r\n                newOperator.loadFromData(this, data.operators[i]);\r\n                this.operators.push(newOperator);\r\n            }\r\n        }\r\n        //rootEntity\r\n        this.rootEntity.loadFromData(this, data.entroot);\r\n        //Aggr Functions\r\n        this.aggrFunctions = new Array();\r\n        if (data.aggrfuncs) {\r\n            for (var i = 0; i < data.aggrfuncs.length; i++) {\r\n                var newAggrFunc = new AggrFunction();\r\n                newAggrFunc.loadFromData(data.aggrfuncs[i]);\r\n                this.aggrFunctions.push(newAggrFunc);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Gets the data model object.\r\n     * @returns Tha data model.\r\n     */\r\n    DataModel.prototype.getObject = function () {\r\n        return this;\r\n    };\r\n    /**\r\n     * Sets data to data model.\r\n     * @param model Its JSON representation object or JSON string.\r\n     */\r\n    DataModel.prototype.setData = function (model) {\r\n        if (typeof model === 'string') {\r\n            this.loadFromJSON(model);\r\n        }\r\n        else {\r\n            this.loadFromData(model);\r\n        }\r\n    };\r\n    /**\r\n     * Creates entity.\r\n     * @param parent The parent entity.\r\n     * @returns The Entity.\r\n     */\r\n    DataModel.prototype.createEntity = function (parent) {\r\n        return new Entity(parent);\r\n    };\r\n    /**\r\n     * Creates entity attribute.\r\n     * @param parent The parent entity.\r\n     * @returns The entity attribute.\r\n     */\r\n    DataModel.prototype.createEntityAttr = function (parent) {\r\n        return new EntityAttr(parent);\r\n    };\r\n    /**\r\n     * Creates query.\r\n     * @returns The Query.\r\n     */\r\n    DataModel.prototype.createQuery = function () {\r\n        return new Query(this);\r\n    };\r\n    /**\r\n     * Gets root entity of the data model.\r\n     * @returns The root entity.\r\n     */\r\n    DataModel.prototype.getRootEntity = function () {\r\n        return this.rootEntity;\r\n    };\r\n    /**\r\n     * Finds editor by its ID.\r\n     * @param editorId The editor ID.\r\n     * @returns The value editor or `null`.\r\n     */\r\n    DataModel.prototype.getEditorById = function (editorId) {\r\n        return _super.prototype.getEditorById.call(this, editorId);\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified model (it's root entity and all its sub-entities).\r\n     * @param attrId The attribute ID.\r\n     * @returns The attribute or `null`.\r\n     */\r\n    DataModel.prototype.getAttributeById = function (attrId) {\r\n        var attr = this.getEntityAttrById(this.getRootEntity(), attrId);\r\n        if (!attr) {\r\n            return null;\r\n        }\r\n        return attr;\r\n    };\r\n    /**\r\n     * Checks wether attribute contains such property.\r\n     * @param attrId The attribute ID.\r\n     * @param propName The property name.\r\n     * @returns `true` if the attribute contains the property, otherwise `false`.\r\n     */\r\n    DataModel.prototype.checkAttrProperty = function (attrId, propName) {\r\n        var attribute = this.getAttributeById(attrId);\r\n        if (attribute) {\r\n            if (typeof attribute[propName] === 'undefined') {\r\n                throw 'No such property: ' + propName;\r\n            }\r\n            if (attribute[propName]) {\r\n                return true;\r\n            }\r\n            else if (attribute.lookupAttr) {\r\n                attrId = attribute.lookupAttr;\r\n                attribute = this.getAttributeById(attrId);\r\n                return attribute && attribute[propName];\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        else\r\n            return false;\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified entity and all its sub-entities.\r\n     * @param entity\r\n     * @param attrId\r\n     * @returns The attribute or `null`.\r\n     */\r\n    DataModel.prototype.getEntityAttrById = function (entity, attrId) {\r\n        return _super.prototype.getEntityAttrById.call(this, entity, attrId);\r\n    };\r\n    DataModel.prototype._listByEntityWithFilter = function (entity, filterFunc) {\r\n        var result = new Array();\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    caption = i18n.getText('Entities', ent.name);\r\n                    if (!caption) {\r\n                        caption = ent.caption;\r\n                    }\r\n                    var newEnt = dataUtils.assign(new Entity(), { id: ent.name, text: caption, items: [], isEntity: true });\r\n                    newEnt.items = this._listByEntityWithFilter(ent, filterFunc);\r\n                    if (newEnt.items.length > 0)\r\n                        result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    caption = i18n.getText('Attributes', attr.id);\r\n                    if (!caption)\r\n                        caption = attr.caption;\r\n                    var newEnt = dataUtils.assign(new Entity(), { id: attr.id, text: caption, dataType: attr.dataType });\r\n                    result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    DataModel.prototype._listByEntity = function (entity, opts, filterFunc) {\r\n        opts = opts || {};\r\n        var resultEntities = [];\r\n        var resultAttributes = [];\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    if (opts.addUIC !== false && ent.useInConditions !== false ||\r\n                        opts.addUIR !== false && ent.useInResult !== false ||\r\n                        opts.addUIS !== false && ent.useInSorting !== false) {\r\n                        caption = i18n.getText('Entities', ent.name) || ent.caption;\r\n                        var newEnt = dataUtils.assign(new Entity(), {\r\n                            id: ent.name,\r\n                            text: caption,\r\n                            items: [],\r\n                            isEntity: true,\r\n                            description: ent.description\r\n                        });\r\n                        var newOpts = dataUtils.assign({}, opts);\r\n                        newOpts.includeRootData = false;\r\n                        newEnt.items = this._listByEntity(ent, newOpts, filterFunc);\r\n                        if (newEnt.items.length > 0) {\r\n                            resultEntities.push(newEnt);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    if (opts.addUIC !== false && attr.useInConditions !== false ||\r\n                        opts.addUIR !== false && attr.useInResult !== false ||\r\n                        opts.addUIS !== false && attr.useInSorting !== false) {\r\n                        caption = i18n.getText('Attributes', attr.id) || attr.caption;\r\n                        resultAttributes.push(dataUtils.assign(new EntityAttr(entity), { id: attr.id, text: caption, dataType: attr.dataType, lookupAttr: attr.lookupAttr, description: attr.description }));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var sortCheck = function (a, b) {\r\n            if (a.text.toLowerCase() == b.text.toLowerCase()) {\r\n                return 0;\r\n            }\r\n            if (a.text.toLowerCase() > b.text.toLowerCase()) {\r\n                return 1;\r\n            }\r\n            return -1;\r\n        };\r\n        if (opts.sortEntities) {\r\n            resultEntities.sort(sortCheck);\r\n            resultAttributes.sort(sortCheck);\r\n        }\r\n        var result;\r\n        if (!opts.attrPlacement || opts.attrPlacement == 0) {\r\n            result = resultEntities.concat(resultAttributes);\r\n        }\r\n        else {\r\n            result = resultAttributes.concat(resultEntities);\r\n        }\r\n        if (opts.attrPlacement == 2) {\r\n            result.sort(sortCheck);\r\n        }\r\n        if (opts.includeRootData) {\r\n            caption = i18n.getText('Entities', entity.name);\r\n            if (!caption)\r\n                caption = entity.caption;\r\n            return { id: entity.name, text: caption, items: result };\r\n        }\r\n        else {\r\n            return result;\r\n        }\r\n    };\r\n    /**\r\n     * Clears data model.\r\n     */\r\n    DataModel.prototype.clear = function () {\r\n        _super.prototype.clear.call(this);\r\n        this.operators = [];\r\n        this.aggrFunctions = [];\r\n    };\r\n    /**\r\n     * Add or update an operator.\r\n     * @param desc The operator descriptor.\r\n     * @returns The operator.\r\n     */\r\n    DataModel.prototype.addOrUpdateOperator = function (desc) {\r\n        var op = dataUtils.findItemById(this.operators, desc.id);\r\n        if (!op) {\r\n            op = new Operator();\r\n            op.id = desc.id;\r\n            this.operators.push(op);\r\n        }\r\n        op.caption = desc.caption;\r\n        op.expr = desc.expr || '';\r\n        op.displayFormat = desc.format;\r\n        op.defaultOperand = new Operand();\r\n        op.defaultOperand.kind = desc.kind || DataKind.Scalar;\r\n        if (desc.appliedTypes)\r\n            op.appliedTypes = desc.appliedTypes;\r\n        if (desc.paramCount > 0) {\r\n            op.paramCount = desc.paramCount;\r\n        }\r\n        this.runThroughEntities(function (attr, opts) {\r\n            if (attr.operators.indexOf(op.id) < 0 && op.appliedTypes.indexOf(attr.dataType) >= 0) {\r\n                attr.operators.push(op.id);\r\n            }\r\n        });\r\n        return op;\r\n    };\r\n    /**\r\n     * Removes an operator.\r\n     * @param id The id.\r\n     * @param soft If `false` - removes operators from model and attributes. Otherwise only\r\n     * from attributes.\r\n     */\r\n    DataModel.prototype.removeOperator = function (id, soft) {\r\n        if (soft === void 0) { soft = false; }\r\n        var op = dataUtils.findItemById(this.operators, id);\r\n        if (op) {\r\n            if (!soft)\r\n                dataUtils.removeArrayItem(this.operators, op);\r\n            this.runThroughEntities(function (attr, opts) {\r\n                dataUtils.removeArrayItem(attr.operators, op.id);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Get operators for data type.\r\n     * @param type The data type\r\n     * @return The array of operator ids.\r\n     */\r\n    DataModel.prototype.getOperatorIdsByDataType = function (type) {\r\n        switch (type) {\r\n            case DataType.String:\r\n            case DataType.Memo:\r\n                return 'StartsWith,EndsWith,Contains,Equal,InList,NotStartsWith,NotEndsWith,NotContains,NotEqual,NotInList,IsNull,IsNotNull'.split(',');\r\n            case DataType.Guid:\r\n                return 'Equal,NotEqual'.split(',');\r\n            case DataType.Date:\r\n            case DataType.DateTime:\r\n                return 'DateWithinToday,DateWithinThisWeek,DateWithinPrevWeek,DateWithinThisMonth,DateWithinPrevMonth,DateWithinThisYear,DateWithinPrevYear,DateBeforePrecise,DateAfterPrecise,DatePeriodPrecise,IsNull,IsNotNull'.split(',');\r\n            case DataType.Time:\r\n                return 'TimeBeforePrecise,TimeAfterPrecise,TimePeriodPrecise,IsNull,IsNotNull'.split(',');\r\n            case DataType.Byte:\r\n            case DataType.Word:\r\n            case DataType.Int32:\r\n            case DataType.Int64:\r\n            case DataType.Float:\r\n            case DataType.Currency:\r\n            case DataType.BCD:\r\n            case DataType.Autoinc:\r\n            case DataType.Unknown:\r\n                return 'Equal,Between,LessThan,LessOrEqual,GreaterThan,GreaterOrEqual,InList,NotEqual,NotBetween,NotInList,IsNull,IsNotNull'.split(',');\r\n            case DataType.Bool:\r\n                return 'IsTrue,NotTrue'.split(',');\r\n            default:\r\n                var result = [];\r\n                for (var _i = 0, _a = this.operators; _i < _a.length; _i++) {\r\n                    var op = _a[_i];\r\n                    if (op.appliedTypes.indexOf(type) >= 0)\r\n                        result.push(op.id);\r\n                }\r\n                return result;\r\n        }\r\n    };\r\n    /**\r\n     * Builds entities tree used in query.\r\n     * @param query The query.\r\n     */\r\n    DataModel.prototype.buildQueryPath = function (query) {\r\n        var entity = this.mainEntity || this.rootEntity;\r\n        var tree = this.createTreeNodeFromEntity(entity);\r\n        tree.setParents();\r\n        return tree;\r\n    };\r\n    DataModel.prototype.createTreeNodeFromEntity = function (entity) {\r\n        var tree = new Tree(entity);\r\n        for (var _i = 0, _a = entity.subEntities; _i < _a.length; _i++) {\r\n            var subEnentity = _a[_i];\r\n            tree.addChild(this.createTreeNodeFromEntity(subEnentity));\r\n        }\r\n        return tree;\r\n    };\r\n    /**\r\n     * Get Entities used in query.\r\n     * @param query The query.\r\n     */\r\n    DataModel.prototype.getEntitiesInQuery = function (query) {\r\n        if (query.model.id !== this.id)\r\n            throw Error('Model mithmatch');\r\n        var entities = [];\r\n        var columns = query.getColumns();\r\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\r\n            var column = columns_1[_i];\r\n            if (!column.enabled)\r\n                continue;\r\n            this.addEntityByExpression(entities, column.expr);\r\n        }\r\n        var rootCond = query.getRootCondition();\r\n        this.fillEntitiesByCondtionGroup(entities, rootCond);\r\n        return entities;\r\n    };\r\n    DataModel.prototype.fillEntitiesByCondtionGroup = function (entities, root) {\r\n        for (var _i = 0, _a = root.getConditions(); _i < _a.length; _i++) {\r\n            var condition = _a[_i];\r\n            if (!condition.isGroup()) {\r\n                for (var _b = 0, _c = condition.expressions; _b < _c.length; _b++) {\r\n                    var expr = _c[_b];\r\n                    this.addEntityByExpression(entities, expr);\r\n                    if (expr.args) {\r\n                        for (var _d = 0, _e = expr.args; _d < _e.length; _d++) {\r\n                            var arg = _e[_d];\r\n                            this.addEntityByExpression(entities, arg);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this.fillEntitiesByCondtionGroup(entities, condition);\r\n            }\r\n        }\r\n    };\r\n    DataModel.prototype.addEntityByExpression = function (entities, expr) {\r\n        if (expr.tag !== ExprTag.EntityAttribute)\r\n            return;\r\n        var attrId = expr.baseAttrId || expr.value;\r\n        if (attrId) {\r\n            var attr = this.getAttributeById(attrId);\r\n            if (attr) {\r\n                if (attr.entity && dataUtils.indexOfArrayItem(entities, attr.entity) < 0) {\r\n                    entities.push(attr.entity);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Finds link between two entities.\r\n     * @param entityFrom The entity `from`.\r\n     * @param entityTo The entity `to`.\r\n     * @return The link.\r\n     */\r\n    DataModel.prototype.findLink = function (entityFrom, entityTo) {\r\n        for (var _i = 0, _a = this.links; _i < _a.length; _i++) {\r\n            var link = _a[_i];\r\n            if (link.entityFrom == entityFrom\r\n                && link.entityTo == entityTo)\r\n                return link;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Get links with the entity.\r\n     * @param entity The entity.\r\n     * @return The link.\r\n     */\r\n    DataModel.prototype.getLinksByEntity = function (entity) {\r\n        var result = [];\r\n        for (var _i = 0, _a = this.links; _i < _a.length; _i++) {\r\n            var link = _a[_i];\r\n            if (link.entityFrom == entity || link.entityTo == entity) {\r\n                result.push(link);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Gets entities tree.\r\n     * @param opts The options.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to options and the filter function\r\n     */\r\n    DataModel.prototype.getEntitiesTree = function (opts, filterFunc) {\r\n        return this._listByEntity(this.getRootEntity(), opts, filterFunc);\r\n    };\r\n    /**\r\n     * Gets entities tree due to filter.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to the filter function\r\n     */\r\n    DataModel.prototype.getEntitiesTreeWithFilter = function (filterFunc) {\r\n        return this._listByEntityWithFilter(this.getRootEntity(), filterFunc);\r\n    };\r\n    /**\r\n     * Finds full entity path by attribute\r\n     * @param attrId The attribute id.\r\n     * @param sep The separator.\r\n     * @returns The path.\r\n     */\r\n    DataModel.prototype.getFullEntityPathByAttr = function (attrId, sep) {\r\n        sep = sep || ' ';\r\n        return this.getEntityPathByAttr(this.getRootEntity(), attrId, sep, true);\r\n    };\r\n    /**\r\n    * Finds entity path by attribute\r\n    * @param entity The entity.\r\n    * @param attrId The attribute id.\r\n    * @param sep The separator.\r\n    * @param root The root option.\r\n    * @returns The path.\r\n    */\r\n    DataModel.prototype.getEntityPathByAttr = function (entity, attrId, sep, root) {\r\n        return _super.prototype.getEntityPathByAttr.call(this, entity, attrId, sep, root);\r\n    };\r\n    /**\r\n     * Gets the attribute text.\r\n     * @param attr The attribute.\r\n     * @param format The format.\r\n     * @returns Formatted text.\r\n     */\r\n    DataModel.prototype.getAttributeText = function (attr, format) {\r\n        return _super.prototype.getAttributeText.call(this, attr, format);\r\n    };\r\n    DataModel.prototype.getFirstUICAttr = function () {\r\n        return this.getFirstUICAttrInEntity(this.getRootEntity());\r\n    };\r\n    /**\r\n     * Gets first `UIC` attribute in specified entity\r\n     * (`UIC` stands for `use in conditions` - so such attribute can be used in conditions)\r\n     * @param entity Entity object to search our attribute in.\r\n     * @returns The entity attribute or `null`\r\n     */\r\n    DataModel.prototype.getFirstUICAttrInEntity = function (entity) {\r\n        if (entity.useInConditions !== false) {\r\n            if (entity.attributes) {\r\n                var attrCount = entity.attributes.length;\r\n                for (var i = 0; i < attrCount; i++) {\r\n                    if (entity.attributes[i].useInConditions) {\r\n                        return entity.attributes[i];\r\n                    }\r\n                }\r\n            }\r\n            if (entity.subEntities) {\r\n                var subEntityCount = entity.subEntities.length;\r\n                for (var i = 0; i < subEntityCount; i++) {\r\n                    var result = this.getFirstUICAttrInEntity(entity.subEntities[i]);\r\n                    if (result) {\r\n                        return result;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Scans model's entity tree and calls the callback functions for each attribute and entity.\r\n     * @param processAttribute The callback function which is called for each attribute in model's entity tree.\r\n     * The processed attribute is passed in the first function parameter.\r\n     * @param processEntity The callback function which is called for each entity in tree.\r\n     * The processed entity is passed in the first function parameter.\r\n     */\r\n    DataModel.prototype.runThroughEntities = function (processAttribute, processEntity) {\r\n        this.getRootEntity().scan(processAttribute, processEntity);\r\n    };\r\n    /**\r\n     * Finds first attribute by filter.\r\n     * @param filterFunc The filter function. Takes EntityAttr object in parameter and returns boolean\r\n     */\r\n    DataModel.prototype.getFirstAttributeByFilter = function (filterFunc) {\r\n        var res = null;\r\n        this.runThroughEntities(function (attr, opts) {\r\n            if (filterFunc(attr)) {\r\n                opts.stop = true;\r\n                res = attr;\r\n            }\r\n        }, null);\r\n        return res;\r\n    };\r\n    /**\r\n     * Finds operator in model by its ID.\r\n     * This function runs through all operators inside specified model and returns the one with specified ID.\r\n     * @param operatorId An operator ID.\r\n     * @returns The operator or `null`.\r\n     */\r\n    DataModel.prototype.findOperatorById = function (operatorId) {\r\n        if (this.operators.length > 0) {\r\n            var opCount = this.operators.length;\r\n            for (var idx = 0; idx < opCount; idx++) {\r\n                if (this.operators[idx].id == operatorId) {\r\n                    return this.operators[idx];\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Finds operator in model by its ID.\r\n     * his function runs through all operators inside specified model and returns the one with specified ID.\r\n     * @param operatorId Operator ID.\r\n     * @returns The operator or special `NullOperator` object if operator is not found.\r\n     */\r\n    DataModel.prototype.getOperatorById = function (operatorId) {\r\n        var op = this.findOperatorById(operatorId);\r\n        if (!op)\r\n            op = new Operator();\r\n        return op;\r\n    };\r\n    DataModel.prototype.getDefaultOperatorIdForAttr = function (attr) {\r\n        if (attr.defaultOperator) {\r\n            return attr.defaultOperator;\r\n        }\r\n        else if (attr.operators.length > 0) {\r\n            return attr.operators[0];\r\n        }\r\n        else {\r\n            return (new Operator()).id;\r\n        }\r\n    };\r\n    /**\r\n     * Gets caption of the aggregate function.\r\n     * @param funcId The function id.\r\n     * @returns The caption.\r\n     */\r\n    DataModel.prototype.getAggrFunctionCaption = function (funcId) {\r\n        var funcTexts = i18n.getText('AggregateFunctions', funcId);\r\n        var funcCaption = funcTexts ? funcTexts.caption : i18n.getText('Aggr' + funcId.replace(' ', '') + '_Caption');\r\n        if (funcCaption) {\r\n            return funcCaption;\r\n        }\r\n        var func = dataUtils.findItemById(this.aggrFunctions, funcId);\r\n        if (!func || !func.caption)\r\n            return funcId;\r\n        return func.caption;\r\n    };\r\n    /**\r\n     * Gets format of the aggregate function.\r\n     * @param funcId The function id.\r\n     * @returns The caption.\r\n     */\r\n    DataModel.prototype.getAggrFunctionFormat = function (funcId) {\r\n        var funcTexts = i18n.getText('AggregateFunctions', funcId);\r\n        var funcFormat = funcTexts ? funcTexts.displayFormat : i18n.getText('Aggr' + funcId.replace(' ', '') + '_Format');\r\n        if (funcFormat) {\r\n            return funcFormat;\r\n        }\r\n        var func = dataUtils.findItemById(this.aggrFunctions, funcId);\r\n        if (!func || !func.displayFormat)\r\n            return '';\r\n        return func.displayFormat;\r\n    };\r\n    /**\r\n     * Gets default operator for an attribute.\r\n     * @param attr The attribute.\r\n     * @returns The operator.\r\n     */\r\n    DataModel.prototype.getDefaultOperatorForAttr = function (attr) {\r\n        var operatorId = this.getDefaultOperatorIdForAttr(attr);\r\n        return this.getOperatorById(operatorId);\r\n    };\r\n    /**\r\n     * Gets operand.\r\n     * @param attr The attribute.\r\n     * @param operator The operator.\r\n     * @param index The index.\r\n     * @returns The operand.\r\n     */\r\n    DataModel.prototype.getOperand = function (attr, operator, index) {\r\n        var defOperand = new Operand();\r\n        if (operator && operator.defaultOperand) {\r\n            defOperand.copyFrom(operator.defaultOperand);\r\n            if (!defOperand.defValue) {\r\n                defOperand.defValue = '';\r\n            }\r\n            if (!defOperand.defText) {\r\n                defOperand.defText = '';\r\n            }\r\n        }\r\n        else {\r\n            defOperand.kind = DataKind.Scalar;\r\n            defOperand.dataType = attr.dataType;\r\n            defOperand.defValue = '';\r\n            defOperand.defText = '';\r\n            defOperand.editor = null;\r\n        }\r\n        var result = defOperand;\r\n        if (result.dataType === DataType.Unknown && attr) {\r\n            result.dataType = attr.dataType;\r\n        }\r\n        if (operator && (index >= 0)) {\r\n            if (operator.operands && operator.operands[index - 1]) {\r\n                result = dataUtils.assign(result, operator.operands[index - 1]);\r\n            }\r\n        }\r\n        ;\r\n        if (!result.editor) {\r\n            if (defOperand.editor) {\r\n                result.editor = defOperand.editor;\r\n            }\r\n            else if (defOperand.kind === DataKind.Query) {\r\n                result.editor.tag = EqEditorTag.SubQuery;\r\n            }\r\n            else if (attr && attr.defaultEditor) {\r\n                result.editor = attr.defaultEditor;\r\n            }\r\n            else if (result.dataType === DataType.Date || result.dataType === DataType.DateTime\r\n                || result.dataType === DataType.Time) {\r\n                result.editor.tag = EqEditorTag.DateTime;\r\n            }\r\n            else {\r\n                result.editor.tag = EqEditorTag.Edit;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Gets the list of aggegate functions.\r\n     * @returns AN array of aggregate functions.\r\n     */\r\n    DataModel.prototype.getAggrFunctions = function () {\r\n        return this.aggrFunctions;\r\n    };\r\n    /**\r\n     * Gets date by its macro value.\r\n     * @param macro The macro value.\r\n     * @returns The date or `null`\r\n     */\r\n    DataModel.prototype.getDateMacroValue = function (macro) {\r\n        if (this.isDateMacro(macro)) {\r\n            var d = new Date();\r\n            var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n            switch (macroName) {\r\n                case 'Today':\r\n                    break;\r\n                case 'Yesterday':\r\n                    d.setDate(d.getDate() - 1);\r\n                    break;\r\n                case 'Tomorrow':\r\n                    d.setDate(d.getDate() + 1);\r\n                    break;\r\n                case 'FirstDayOfMonth':\r\n                    d.setDate(1);\r\n                    break;\r\n                case 'LastDayOfMonth':\r\n                    d.setMonth(d.getMonth() + 1, 0);\r\n                    break;\r\n                case 'FirstDayOfPrevWeek':\r\n                    var day = d.getDay();\r\n                    day = (day == 0) ? 1 : 8 - day; //We start week from Monday, but js - from Sunday\r\n                    d.setDate(d.getDate() - day);\r\n                    break;\r\n                case 'FirstDayOfWeek':\r\n                    var day = d.getDay();\r\n                    day = (day == 0) ? 6 : day - 1; //We start week from Monday, but js - from Sunday\r\n                    d.setDate(d.getDate() - day);\r\n                    break;\r\n                case 'FirstDayOfYear':\r\n                    d.setMonth(0, 1);\r\n                    break;\r\n                case 'FirstDayOfNextWeek':\r\n                    var day = d.getDay();\r\n                    day = (day == 0) ? 1 : 8 - day; //We start week from Monday, but js - from Sunday\r\n                    d.setDate(d.getDate() + day);\r\n                    break;\r\n                case 'FirstDayOfNextMonth':\r\n                    d.setMonth(d.getMonth() + 1, 1);\r\n                    break;\r\n                case 'FirstDayOfPrevMonth':\r\n                    d.setMonth(d.getMonth() - 1, 1);\r\n                    break;\r\n                case 'FirstDayOfPrevYear':\r\n                    d.setFullYear(d.getFullYear() - 1, 0, 1);\r\n                    break;\r\n                case 'FirstDayOfNextYear':\r\n                    d.setFullYear(d.getFullYear() + 1, 0, 1);\r\n                    break;\r\n            }\r\n            ;\r\n            return d;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Checks wether macro value is date.\r\n     * @param macro The macro value.\r\n     * @retruns `true` if the macro value is date, otherwise `false`.\r\n     */\r\n    DataModel.prototype.isDateMacro = function (macro) {\r\n        return dataUtils.indexOfArrayItem(this.dateMacros, macro) >= 0;\r\n    };\r\n    /**\r\n    * Gets date  or macro by macro value.\r\n    * @param macroValue The macro value.\r\n    * @returns The date or macro valu.\r\n    */\r\n    DataModel.prototype.getDateOrMacroValue = function (macroValue) {\r\n        var d = this.getDateMacroValue(macroValue);\r\n        return d ? d : macroValue;\r\n    };\r\n    /**\r\n    * Gets time by its macro value.\r\n    * @param macro The macro value.\r\n    * @returns The date or `null`.\r\n    */\r\n    DataModel.prototype.getTimeMacroValue = function (macro) {\r\n        var d = new Date();\r\n        if (this.isTimeMacro(macro)) {\r\n            var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n            switch (macroName) {\r\n                case 'Now':\r\n                    break;\r\n                case 'HourStart':\r\n                    d.setMinutes(0, 0, 0);\r\n                    break;\r\n                case 'Midnight':\r\n                    d.setHours(0, 0, 0, 0);\r\n                    break;\r\n                case 'Noon':\r\n                    d.setHours(12, 0, 0, 0);\r\n                    break;\r\n            }\r\n            ;\r\n            return d;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n    * Checks wether macro value is time.\r\n    * @param macro The macro value.\r\n    * @retruns `true` if the macro value is time, otherwise `false`.\r\n    */\r\n    DataModel.prototype.isTimeMacro = function (macro) {\r\n        return dataUtils.indexOfArrayItem(this.timeMacros, macro) >= 0;\r\n    };\r\n    /**\r\n     * Gets time or macro by macro value.\r\n     * @param macroValue The macro value.\r\n     * @returns The time or macro valu.\r\n     */\r\n    DataModel.prototype.getTimeOrMacroValue = function (time) {\r\n        var t = this.getTimeMacroValue(time);\r\n        return t ? t : time;\r\n    };\r\n    /**\r\n     * Gets all date marcos.\r\n     * @returns The array of marcos\r\n     */\r\n    DataModel.prototype.getAllDateMacros = function () {\r\n        return this.dateMacros;\r\n    };\r\n    /**\r\n     * Gets all time marcos.\r\n     * @returns The array of marcos\r\n     */\r\n    DataModel.prototype.getAllTimeMacros = function () {\r\n        return this.timeMacros;\r\n    };\r\n    return DataModel;\r\n}(MetaData));\r\nexport { DataModel };\r\n//# sourceMappingURL=data_model.js.map","import { DataType } from '@easydata/core';\r\nimport { equtils } from '../utils/utils';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { Query } from './query';\r\n/**\r\n * Represents expression object.\r\n */\r\nvar Expression = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function Expression(parent) {\r\n        var _this = this;\r\n        this.parent = parent;\r\n        /** The tag. */\r\n        this.tag = ExprTag.Constant;\r\n        /** The data kind. */\r\n        this.kind = DataKind.Scalar;\r\n        /** The data type. */\r\n        this.dataType = DataType.String;\r\n        /** The value. */\r\n        this._value = ''; //DO NOT forget remove any\r\n        /**\r\n         * The distinct option. (e.g `SELECT DISTINCT`)\r\n         */\r\n        this.distinct = false;\r\n        this._isDefaultValue = false;\r\n        this.getText = function () { return _this.text || _this._value; };\r\n        this.args = new Array();\r\n    }\r\n    Expression.prototype.getParent = function () {\r\n        return this.parent;\r\n    };\r\n    Expression.prototype.getModel = function () {\r\n        return this.parent.getQuery().getModel();\r\n    };\r\n    /**\r\n     * Loads expression from its JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param data The JSON representation object.\r\n     */\r\n    Expression.prototype.loadFromData = function (model, data) {\r\n        if (data) {\r\n            this.tag = data.tag;\r\n            if (data.val) {\r\n                this._value = data.val;\r\n                this.text = data.txt;\r\n            }\r\n            else if (data.id) {\r\n                this.kind = DataKind.Attribute;\r\n                this._value = data.id;\r\n                this.text = data.txt;\r\n            }\r\n            if (typeof data.dtype !== 'undefined') {\r\n                this.dataType = data.dtype;\r\n            }\r\n            if (this.tag == ExprTag.EntityAttribute\r\n                || this.tag == ExprTag.ParentEntityAttribute) {\r\n                this.kind = DataKind.Attribute;\r\n                //Do not load other info for EntityAttr\r\n                return;\r\n            }\r\n            if (typeof data.kind !== 'undefined') {\r\n                this.kind = data.kind;\r\n            }\r\n            if (data.query) {\r\n                this.subQuery = new Query(model);\r\n                this.subQuery.loadFromDataOrJson(data.query);\r\n            }\r\n            if (typeof data.distinct !== 'undefined') {\r\n                this.distinct = data.distinct;\r\n            }\r\n            if (data.func) {\r\n                this.func = data.func;\r\n                if (data.args) {\r\n                    for (var i = 0; i < data.args.length; i++) {\r\n                        var arg = new Expression(this.parent);\r\n                        arg.loadFromData(model, data.args[i]);\r\n                        this.args.push(arg);\r\n                    }\r\n                }\r\n            }\r\n            if (data.sql) {\r\n                this.sql = data.sql;\r\n                this.baseAttrId = data.baseAttrId;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Saves expression from JSON representation object.\r\n    * @returns The JSON representation object.\r\n    */\r\n    Expression.prototype.saveToData = function () {\r\n        var obj = {\r\n            tag: this.tag\r\n        };\r\n        if (typeof this.dataType !== \"undefined\") {\r\n            obj.dtype = this.dataType;\r\n        }\r\n        //Do not save other info for EntityAttr\r\n        if (this.tag == ExprTag.EntityAttribute) {\r\n            if (this._value) {\r\n                obj.id = this._value;\r\n                obj.val = this._value;\r\n            }\r\n            if (this.text) {\r\n                obj.txt = this.text;\r\n            }\r\n            return obj;\r\n        }\r\n        if (this.subQuery) {\r\n            obj.query = this.subQuery.toJSONData();\r\n        }\r\n        if (typeof this.kind !== \"undefined\") {\r\n            obj.kind = this.kind;\r\n        }\r\n        if (this._value) {\r\n            obj.val = this._value;\r\n        }\r\n        if (this.text) {\r\n            obj.txt = this.text;\r\n        }\r\n        if (this.distinct) {\r\n            obj.distinct = this.distinct;\r\n        }\r\n        if (this.func) {\r\n            obj.func = this.func;\r\n            obj.args = [];\r\n            for (var i = 0; i < this.args.length; i++) {\r\n                obj.args.push(this.args[i].saveToData());\r\n            }\r\n        }\r\n        if (this.sql) {\r\n            obj.sql = this.sql;\r\n            obj.baseAttrId = this.baseAttrId;\r\n        }\r\n        return obj;\r\n    };\r\n    Expression.prototype.getIndex = function () {\r\n        return this.parent.getExpressionIndex(this);\r\n    };\r\n    Object.defineProperty(Expression.prototype, \"value\", {\r\n        get: function () {\r\n            return this._value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Expression.prototype.setValue = function (val, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        this.setContent(val, undefined, silent);\r\n    };\r\n    Expression.prototype.setContent = function (val, txt, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        var oldValue = this.value;\r\n        if (this.kind == DataKind.Attribute && val) {\r\n            var attr = this.getModel().getAttributeById(val);\r\n            if (!attr) {\r\n                throw \"No such entity attribute:\" + val;\r\n            }\r\n            this.dataType = attr.dataType;\r\n        }\r\n        this._value = val;\r\n        if (typeof txt !== 'undefined') {\r\n            this.text = txt;\r\n        }\r\n        else if (typeof this.text !== 'undefined') {\r\n            this.text = val;\r\n        }\r\n        this._isDefaultValue = false;\r\n        if (!silent) {\r\n            this.parent.expressionChanged(this, oldValue);\r\n        }\r\n    };\r\n    Expression.prototype.isEmpty = function () {\r\n        return !(this.text || this._value);\r\n    };\r\n    Expression.prototype.hasText = function () {\r\n        return this.text && this.text.length > 0;\r\n    };\r\n    Expression.prototype.tryCopyValueFrom = function (expr) {\r\n        if (this.kind == expr.kind) {\r\n            if (this.dataType == expr.dataType) {\r\n                this.setContent(expr.value.length ? expr.value : this._value, (expr.text && expr.text.length) ? expr.text : this.text, true);\r\n            }\r\n            else {\r\n                var val = equtils.convertValue(expr.value, expr.dataType, this.dataType);\r\n                this.setContent(val.length ? val : this._value, (expr.text && expr.text.length) ? expr.text : this.text, true);\r\n            }\r\n            this.subQuery = expr.subQuery;\r\n            this.sql = expr.sql;\r\n            this.baseAttrId = expr.baseAttrId;\r\n        }\r\n        else if (!this._isDefaultValue) {\r\n            this.setContent('', '', true);\r\n            this.subQuery = null;\r\n            this.sql = null;\r\n            this.baseAttrId = null;\r\n        }\r\n    };\r\n    return Expression;\r\n}());\r\nexport { Expression };\r\n//# sourceMappingURL=expression.js.map","/**\r\n * Represents a type of condition.\r\n * Current we have 2 possible types: a simple condition or a predicate - a group of conditions\r\n*/\r\nexport var CondTag;\r\n(function (CondTag) {\r\n    /** An unknown type of condition (just in case).*/\r\n    CondTag[CondTag[\"Unknown\"] = 0] = \"Unknown\";\r\n    /** A simple condition (e.g. SomeField > SomeValue).*/\r\n    CondTag[CondTag[\"Simple\"] = 1] = \"Simple\";\r\n    /** A predicate (a group of conditions).*/\r\n    CondTag[CondTag[\"Group\"] = 51] = \"Group\";\r\n})(CondTag || (CondTag = {}));\r\n//# sourceMappingURL=cond_tag.js.map","export var ConditionPart;\r\n(function (ConditionPart) {\r\n    ConditionPart[ConditionPart[\"EntityAttr\"] = 2] = \"EntityAttr\";\r\n    ConditionPart[ConditionPart[\"Operator\"] = 4] = \"Operator\";\r\n    ConditionPart[ConditionPart[\"Value\"] = 8] = \"Value\";\r\n    ConditionPart[ConditionPart[\"All\"] = 14] = \"All\";\r\n})(ConditionPart || (ConditionPart = {}));\r\n//# sourceMappingURL=cond_part.js.map","import { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { Expression } from './expression';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { LinkType } from '../types/link_type';\r\nimport { CondTag } from '../types/cond_tag';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { QueryChangePart, QueryChangeAction } from './query_events';\r\nimport { EqEditorTag } from '../types/eq_editor_tag';\r\nimport { ConditionPart } from '../types/cond_part';\r\n/**\r\n * Represents some condition.\r\n */\r\nvar Condition = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param tag The condition tag\r\n     */\r\n    function Condition(query, tag) {\r\n        this.query = query;\r\n        /**\r\n         *  The linking type.\r\n         */\r\n        this.linkType = LinkType.All; //only for predicates\r\n        this.parent = null;\r\n        this._id = dataUtils.generateId('cond');\r\n        this.justAdded = false;\r\n        this.tag = tag || CondTag.Unknown;\r\n        this.enabled = true;\r\n        this.operatorId = '';\r\n        this.blockId = '';\r\n        this.expressions = new Array();\r\n        this.conditions = new Array();\r\n    }\r\n    Object.defineProperty(Condition.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Condition.prototype, \"enabled\", {\r\n        get: function () {\r\n            return this._enabled && (!this.getParent() || this.getParent().enabled);\r\n        },\r\n        set: function (value) {\r\n            this._enabled = value && (!this.getParent() || this.getParent().enabled);\r\n            this.conditions && this.conditions.forEach(function (cond) {\r\n                cond.enabled = value;\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Condition.prototype.getQuery = function () {\r\n        return this.query;\r\n    };\r\n    Condition.prototype.getModel = function () {\r\n        return this.query.getModel();\r\n    };\r\n    Condition.prototype.getParent = function () {\r\n        return this.parent;\r\n    };\r\n    Condition.prototype.setParent = function (parent) {\r\n        this.parent = parent;\r\n    };\r\n    Condition.prototype.getConditions = function () {\r\n        return this.conditions;\r\n    };\r\n    Condition.prototype.isEmpty = function () {\r\n        return this.conditions.length === 0;\r\n    };\r\n    Condition.prototype.isGroup = function () {\r\n        return (this.tag == CondTag.Group) || (this.parent == null);\r\n    };\r\n    Condition.prototype.getLevel = function () {\r\n        var parent = this.getParent();\r\n        return parent ? parent.getLevel() + 1 : 0;\r\n    };\r\n    /**\r\n     * Indicates whether this condition is read-only.\r\n     */\r\n    Condition.prototype.isReadOnly = function () {\r\n        return false;\r\n    };\r\n    Condition.prototype.setReadOnly = function (value) {\r\n    };\r\n    /**\r\n     * The value indicating whether this condition is parameterized.\r\n     */\r\n    Condition.prototype.isParameterized = function () {\r\n        return false;\r\n    };\r\n    Condition.prototype.setParameterized = function (value) {\r\n    };\r\n    /**\r\n     * Indicates whether this condition must be placed into `JOIN` clause in result `SQL`.\r\n     */\r\n    Condition.prototype.isInJoin = function () {\r\n        return false;\r\n    };\r\n    Condition.prototype.setInJoin = function (value) {\r\n    };\r\n    Condition.prototype.clearConditions = function () {\r\n        this.conditions = [];\r\n    };\r\n    Condition.prototype.addCondition = function (cond) {\r\n        cond.setParent(this);\r\n        return this.conditions.push(cond);\r\n    };\r\n    Condition.prototype.removeConditionAt = function (index) {\r\n        this.conditions.splice(index, 1);\r\n    };\r\n    /**\r\n    * Loads condtion from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param data The JSON representation object.\r\n    */\r\n    Condition.prototype.loadFromData = function (model, data) {\r\n        if (data) {\r\n            this.tag = data.tag;\r\n            if (!this.tag) {\r\n                this.tag = (!this.parent || this.conditions.length > 0) ? CondTag.Group : CondTag.Simple;\r\n            }\r\n            if (typeof data.enabled !== 'undefined') {\r\n                this.enabled = data.enabled;\r\n            }\r\n            if (typeof data.disabled !== 'undefined') {\r\n                this.enabled = !data.disabled;\r\n            }\r\n            if (this.tag == CondTag.Simple) {\r\n                this.operatorId = data.op;\r\n                if (data.exprs) {\r\n                    for (var i = 0; i < data.exprs.length; i++) {\r\n                        var newExpr = new Expression(this);\r\n                        newExpr.loadFromData(model, data.exprs[i]);\r\n                        this.expressions.push(newExpr);\r\n                    }\r\n                }\r\n            }\r\n            this.linkType = data.linking;\r\n        }\r\n    };\r\n    /**\r\n     * Saves condition to JSON representation object.\r\n     * @returns The JSON representation object.\r\n     */\r\n    Condition.prototype.saveToData = function () {\r\n        var obj = {};\r\n        obj.tag = this.tag;\r\n        if (!this.enabled) {\r\n            obj.enabled = this.enabled;\r\n        }\r\n        if (this.tag == CondTag.Simple) {\r\n            obj.op = this.operatorId;\r\n            obj.exprs = [];\r\n            for (var i = 0; i < this.expressions.length; i++) {\r\n                obj.exprs.push(this.expressions[i].saveToData());\r\n            }\r\n        }\r\n        if (this.tag == CondTag.Group) {\r\n            //if condition group\r\n            obj.linking = this.linkType;\r\n        }\r\n        return obj;\r\n    };\r\n    Condition.prototype.fireChangedEvent = function (condPart) {\r\n        if (condPart === void 0) { condPart = ConditionPart.All; }\r\n        this.query.fireChangedEvent({\r\n            part: QueryChangePart.Conditions,\r\n            action: QueryChangeAction.Modify,\r\n            changee: this,\r\n            condPart: condPart\r\n        });\r\n    };\r\n    Condition.prototype.getExpressionIndex = function (expr) {\r\n        return this.expressions.indexOf(expr, 0);\r\n    };\r\n    Condition.prototype.expressionChanged = function (expr, oldValue) {\r\n        if (expr.getIndex() == 0 && expr.tag == ExprTag.EntityAttribute) {\r\n            //this is a base entity attribute, we need to re-pack the whole condition\r\n            this.tuneOperatorForAttr(expr.value);\r\n        }\r\n    };\r\n    Condition.prototype.getOperatorId = function () {\r\n        return this.operatorId;\r\n    };\r\n    Condition.prototype.setOperatorId = function (newOperatorId, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        var oldOperatorId = this.operatorId;\r\n        this.operatorId = newOperatorId;\r\n        if (!silent) {\r\n            var model = this.getModel();\r\n            var operator = model.getOperatorById(newOperatorId);\r\n            var attrId = this.expressions[0].value;\r\n            var attr = model.getAttributeById(attrId);\r\n            this.tuneValueExpressions(attr, operator, attr.id, oldOperatorId);\r\n        }\r\n    };\r\n    Condition.prototype.tuneOperatorForAttr = function (oldAttrId) {\r\n        var model = this.getModel();\r\n        var attrId = this.expressions[0].value;\r\n        var attr = model.getAttributeById(attrId);\r\n        if (attr != null) {\r\n            var newOperator = this.getModel().getDefaultOperatorForAttr(attr);\r\n            var oldOperatorId = this.operatorId;\r\n            this.operatorId = newOperator.id;\r\n            this.tuneValueExpressions(attr, newOperator, oldAttrId, oldOperatorId);\r\n        }\r\n    };\r\n    Condition.prototype.tuneValueExpressions = function (attr, operator, oldAttrId, oldOperatorId) {\r\n        var model = this.getModel();\r\n        if (!operator)\r\n            return;\r\n        var exprCount = this.expressions.length;\r\n        var oldAttr = oldAttrId ? model.getAttributeById(oldAttrId) : null;\r\n        var oldOperator = null;\r\n        if (oldOperatorId) {\r\n            oldOperator = model.getOperatorById(oldOperatorId);\r\n        }\r\n        if (oldOperator && oldOperator.paramCount == operator.paramCount) {\r\n            //add  necessary expressions\r\n            var i = 1;\r\n            while (i < operator.paramCount) {\r\n                var oldOperand = model.getOperand(attr, oldOperator, i);\r\n                var operand = model.getOperand(attr, operator, i);\r\n                if (operand.dataType == DataType.Unknown) {\r\n                    operand.dataType = attr.dataType;\r\n                }\r\n                if (i >= exprCount) {\r\n                    var valExpr = this.createValueExpr(operand);\r\n                    this.expressions.push(valExpr);\r\n                }\r\n                else {\r\n                    var oldExpr = this.expressions[i];\r\n                    //create new value expression according to the corresponding operand\r\n                    var newExpr = this.createValueExpr(operand);\r\n                    if (this.areCompitableEditors(oldOperand.editor, operand.editor)) {\r\n                        newExpr.tryCopyValueFrom(oldExpr);\r\n                    }\r\n                    this.expressions[i] = newExpr;\r\n                }\r\n                i++;\r\n            }\r\n            if (exprCount > i) {\r\n                //remove all redundant expressions\r\n                this.expressions.splice(i, exprCount - i);\r\n            }\r\n        }\r\n        else {\r\n            this.expressions.splice(1, this.expressions.length - 1);\r\n            for (var i = 1; i < operator.paramCount; i++) {\r\n                var operand = model.getOperand(attr, operator, i);\r\n                if (operand.dataType == DataType.Unknown) {\r\n                    operand.dataType = attr.dataType;\r\n                }\r\n                var valExpr = this.createValueExpr(operand);\r\n                this.expressions.push(valExpr);\r\n            }\r\n        }\r\n    };\r\n    Condition.prototype.areCompitableEditors = function (oldEditor, newEditor) {\r\n        if (newEditor.tag == EqEditorTag.CustomList || newEditor.tag == EqEditorTag.List\r\n            || newEditor.tag == EqEditorTag.SqlList) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    Condition.prototype.addExpressionByOperand = function (operand, val) {\r\n        if (val === void 0) { val = null; }\r\n        var expr = this.createValueExpr(operand, val);\r\n        this.expressions.push(expr);\r\n        return expr;\r\n    };\r\n    Condition.prototype.createValueExpr = function (operand, val) {\r\n        if (val === void 0) { val = null; }\r\n        var valueNotDefined = val === null || typeof val === 'undefined';\r\n        var value = val ? val : operand.defValue;\r\n        var text = val ? val : operand.defText;\r\n        var result = new Expression(this);\r\n        if (operand.kind === DataKind.Query) {\r\n            result.tag = ExprTag.Query;\r\n            result.dataType = operand.dataType;\r\n            result.kind = operand.kind;\r\n            result.setContent(value, text, true);\r\n        }\r\n        else if (operand.kind === DataKind.Attribute) {\r\n            if (!valueNotDefined) {\r\n                var defAttr = this.getModel().getFirstAttributeByFilter(function (attr) {\r\n                    return attr.useInConditions == true && (!operand.dataType || attr.dataType == operand.dataType);\r\n                });\r\n                value = defAttr ? defAttr.id : null;\r\n            }\r\n            result.tag = ExprTag.EntityAttribute;\r\n            result.kind = operand.kind;\r\n            result.dataType = operand.dataType;\r\n            result.setContent(value, text, true);\r\n        }\r\n        else {\r\n            if (valueNotDefined) {\r\n                if (operand.defValue && operand.defValue != \"\") {\r\n                    value = operand.defValue;\r\n                }\r\n                else {\r\n                    if (operand.editor && operand.editor.defValue) {\r\n                        value = operand.editor.defValue;\r\n                    }\r\n                    else {\r\n                        value = '';\r\n                    }\r\n                }\r\n                if (operand.editor) {\r\n                    text = operand.editor.getValueText(value);\r\n                }\r\n            }\r\n            result.tag = ExprTag.Constant;\r\n            result.dataType = operand.dataType;\r\n            result.kind = operand.kind;\r\n            result.setContent(value, text, true);\r\n            result._isDefaultValue = valueNotDefined;\r\n        }\r\n        return result;\r\n    };\r\n    return Condition;\r\n}());\r\nexport { Condition };\r\n//# sourceMappingURL=condition.js.map","/** Represents groups of widgets. Used to identify widgets */\r\nexport var WidgetGroup;\r\n(function (WidgetGroup) {\r\n    /** None widget group. */\r\n    WidgetGroup[WidgetGroup[\"None\"] = 0] = \"None\";\r\n    /** The group of widgets responsible for the Model. */\r\n    WidgetGroup[WidgetGroup[\"Model\"] = 1] = \"Model\";\r\n    /** The group of widgets responsible for the Query. */\r\n    WidgetGroup[WidgetGroup[\"Query\"] = 2] = \"Query\";\r\n    /** The group of widgets responsible for the Result. */\r\n    WidgetGroup[WidgetGroup[\"Result\"] = 4] = \"Result\";\r\n    /** The group of widgets responsible for the statement. */\r\n    WidgetGroup[WidgetGroup[\"Statement\"] = 8] = \"Statement\";\r\n    /** The group of widgets responsible for tracking Query status. */\r\n    WidgetGroup[WidgetGroup[\"QueryStatus\"] = 16] = \"QueryStatus\";\r\n    /** All. */\r\n    WidgetGroup[WidgetGroup[\"All\"] = 65535] = \"All\";\r\n})(WidgetGroup || (WidgetGroup = {}));\r\n//# sourceMappingURL=widget_group.js.map","export var EqAction;\r\n(function (EqAction) {\r\n    EqAction[\"LoadModel\"] = \"LoadModel\";\r\n    EqAction[\"LoadQuery\"] = \"LoadQuery\";\r\n    EqAction[\"LoadQueryList\"] = \"LoadQueryList\";\r\n    EqAction[\"NewQuery\"] = \"NewQuery\";\r\n    EqAction[\"SaveQuery\"] = \"SaveQuery\";\r\n    EqAction[\"RemoveQuery\"] = \"RemoveQuery\";\r\n    EqAction[\"SyncQuery\"] = \"SyncQuery\";\r\n    EqAction[\"FetchData\"] = \"FetchData\";\r\n    EqAction[\"GetValueList\"] = \"GetValueList\";\r\n    EqAction[\"ExportResult\"] = \"ExportResult\";\r\n    EqAction[\"GetQueryFile\"] = \"GetQueryFile\";\r\n    EqAction[\"UploadQueryFile\"] = \"UploadQueryFile\";\r\n})(EqAction || (EqAction = {}));\r\n//# sourceMappingURL=eq_actions.js.map","export var EqActionResult;\r\n(function (EqActionResult) {\r\n    EqActionResult[EqActionResult[\"Error\"] = 0] = \"Error\";\r\n    EqActionResult[EqActionResult[\"Success\"] = 1] = \"Success\";\r\n})(EqActionResult || (EqActionResult = {}));\r\n//# sourceMappingURL=action.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EventEmitter, utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { equtils } from '../utils/utils';\r\nimport { DataModel } from '../dm/data_model';\r\nimport { Expression } from './expression';\r\nimport { Column, SortDirection } from './column';\r\nimport { Condition } from './condition';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { LinkType } from '../types/link_type';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { CondTag } from '../types/cond_tag';\r\nimport { QueryChangePart } from './query_events';\r\n/**\r\n * The error that appears when the query is not valid\r\n */\r\nvar InvalidQueryError = /** @class */ (function (_super) {\r\n    __extends(InvalidQueryError, _super);\r\n    /**\r\n     * Creates an instance of error type.\r\n     * @param message The error message\r\n     */\r\n    function InvalidQueryError(message) {\r\n        var _this = _super.call(this, message) || this;\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(_this, InvalidQueryError);\r\n        }\r\n        _this.name = 'InvalidQueryError';\r\n        return _this;\r\n    }\r\n    return InvalidQueryError;\r\n}(Error));\r\nexport { InvalidQueryError };\r\n/**\r\n * Represents Query.\r\n */\r\nvar Query = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param model The data model.\r\n     * @param data JSON representation object.\r\n     * @param options The options.\r\n     * @throws {InvalidQueryError} The error throws when query is not valid.\r\n     */\r\n    function Query(model, data, options) {\r\n        /**\r\n         * Contains user-defined extra data for current query.\r\n         */\r\n        this.extraData = {};\r\n        this.innerData = {};\r\n        this.isNewbie = true;\r\n        this._isModified = false;\r\n        this.parentQuery = null;\r\n        this.drillDowns = [];\r\n        this.eventEmitter = new EventEmitter(this);\r\n        this.root = new Condition(this, CondTag.Group);\r\n        this.extraConditions = new Condition(this, CondTag.Group);\r\n        this.columns = new Array();\r\n        this.justsorted = new Array();\r\n        if (!this.id) {\r\n            this.regenerateId();\r\n        }\r\n        this.setDefaultName();\r\n        this.description = \"\";\r\n        this.modelId = \"\";\r\n        this.modelName = \"\";\r\n        this.model = (model) ? model : new DataModel();\r\n        if (data) {\r\n            this.loadFromData(data);\r\n        }\r\n        this.attributeExprTag = (options) ? options.attrTag || ExprTag.EntityAttribute : ExprTag.EntityAttribute;\r\n        this.clientListRequestHandler = (options) ? options.clientListRequestHandler : new Array();\r\n        this.serverListRequestHandler = (options) ? options.serverListRequestHandler : new Array();\r\n        this.timezoneOffset = (new Date()).getTimezoneOffset();\r\n        if (options) {\r\n            this.parentQuery = options.parent;\r\n        }\r\n    }\r\n    Query.prototype.isModified = function () {\r\n        return this._isModified;\r\n    };\r\n    Query.prototype.resetModified = function () {\r\n        this._isModified = false;\r\n    };\r\n    Query.prototype.isEx = function () {\r\n        return false;\r\n    };\r\n    /**\r\n     * Resets the query: clears all its conditions and columns, regenerate the ID and sets the default name.\r\n     * @param silent Indicates whether we need to avoid firing the QueryChanged event.\r\n     */\r\n    Query.prototype.reset = function (clearQuery) {\r\n        if (clearQuery === void 0) { clearQuery = true; }\r\n        if (clearQuery) {\r\n            this.clear();\r\n        }\r\n        this.regenerateId();\r\n        this.setDefaultName();\r\n        this._isModified = false;\r\n        this.isNewbie = true;\r\n    };\r\n    Query.prototype.hasEnabledAggrColumns = function () {\r\n        return this.columns.filter(function (col) { return col.enabled\r\n            && col.expr.tag === ExprTag.AggregateFunction; }).length > 0;\r\n    };\r\n    Query.prototype.setDefaultName = function () {\r\n        this.setName(i18n.getText('NewQueryName'));\r\n        return this.getName();\r\n    };\r\n    /**\r\n     * Validates wether the query corresponds to the model.\r\n     * @param options Validate options.\r\n     * @throws {InvalidQueryError} If query is not valid.\r\n     */\r\n    Query.prototype.validate = function (options) {\r\n        options = options || {};\r\n        var entityAttrNotExistError = \"EntityAttribute isn't declared in the model: \";\r\n        var wrongExprTag = \"The expression has wrond tag: \";\r\n        if (!this.model) {\r\n            throw new InvalidQueryError(\"Model is not declared\");\r\n        }\r\n        if (this.columns) {\r\n            for (var _i = 0, _a = this.columns; _i < _a.length; _i++) {\r\n                var column = _a[_i];\r\n                if (column.expr.tag == ExprTag.EntityAttribute\r\n                    || column.expr.tag === ExprTag.ParentEntityAttribute) {\r\n                    var attr = this.model.getAttributeById(column.expr.value);\r\n                    if (!attr) {\r\n                        throw new InvalidQueryError(entityAttrNotExistError + column.expr.value);\r\n                    }\r\n                }\r\n                else if (column.expr.tag === ExprTag.AggregateFunction) {\r\n                    var attr = this.model.getAttributeById(column.expr.args[0].value);\r\n                    if (!attr) {\r\n                        throw new InvalidQueryError(entityAttrNotExistError + column.expr.args[0].value);\r\n                    }\r\n                }\r\n                else if (column.expr.tag !== ExprTag.CustomSql) {\r\n                    throw new InvalidQueryError(wrongExprTag + column.expr.tag);\r\n                }\r\n            }\r\n        }\r\n        if (this.root && this.root.getConditions()) {\r\n            this.validateConditionGroup(this.root, options);\r\n        }\r\n    };\r\n    Query.prototype.getAggregatedColumns = function () {\r\n        return this.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag === ExprTag.AggregateFunction; });\r\n    };\r\n    /**\r\n     * Validates wether the query corresponds to the model.\r\n     * @param options Validate options.\r\n     * @returns `true` if it is valid, otherwise `false`\r\n     */\r\n    Query.prototype.tryValidate = function (options) {\r\n        try {\r\n            this.validate(options);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            if (e.name == 'InvalidQueryError') {\r\n                return false;\r\n            }\r\n            else {\r\n                throw e;\r\n            }\r\n        }\r\n    };\r\n    Query.prototype.validateConditionGroup = function (curCond, options) {\r\n        if (curCond.isGroup()) {\r\n            for (var _i = 0, _a = curCond.getConditions(); _i < _a.length; _i++) {\r\n                var condition = _a[_i];\r\n                if (!condition.enabled)\r\n                    continue;\r\n                this.validateConditionGroup(condition, options);\r\n            }\r\n        }\r\n        else if (curCond.expressions[0].tag === ExprTag.EntityAttribute) {\r\n            var attrId = curCond.expressions[0].value;\r\n            var attr = this.model.getAttributeById(attrId);\r\n            if (!attr) {\r\n                throw new InvalidQueryError(\"EntityAttribute isn't declared in the model: \" + attrId);\r\n            }\r\n            if (!options.checkExpressions)\r\n                return;\r\n            for (var i = 1; i < curCond.expressions.length; i++) {\r\n                var expr = curCond.expressions[i];\r\n                if (expr.tag !== ExprTag.Constant)\r\n                    continue;\r\n                //validate number exprs\r\n                if (dataUtils.isNumericType(expr.dataType)) {\r\n                    if (!expr.value.length) {\r\n                        throw new InvalidQueryError(\"Expression constant is empty in condition: \" + curCond.id);\r\n                    }\r\n                    var values = [];\r\n                    if (expr.kind === DataKind.List) {\r\n                        values = expr.value.split(/\\s*,\\s*/);\r\n                    }\r\n                    else {\r\n                        values = [expr.value];\r\n                    }\r\n                    for (var _b = 0, values_1 = values; _b < values_1.length; _b++) {\r\n                        var value = values_1[_b];\r\n                        var parsedVal = +value;\r\n                        if (isNaN(parsedVal)) {\r\n                            throw new InvalidQueryError(\"Expression constant is NaN in condition:\" + curCond.id);\r\n                        }\r\n                        if (dataUtils.isIntType(expr.dataType) && parsedVal != parseInt(value, 10)) {\r\n                            throw new InvalidQueryError(\"Expression constant is wrong interger in condition: \" + curCond.id);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets data to the query.\r\n     * @param data JSON representation object or JSON string\r\n     * @param changeStatus Indicate whether we should change the \"isModified\" status (by default == `true`)\r\n     */\r\n    Query.prototype.loadFromDataOrJson = function (data, changeStatus) {\r\n        if (changeStatus === void 0) { changeStatus = true; }\r\n        if (data) {\r\n            if (typeof data === \"string\") {\r\n                this.loadFromJson(data, changeStatus);\r\n            }\r\n            else {\r\n                this.loadFromData(data, changeStatus);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Loads query from JSON.\r\n     * @param json The JSON string.\r\n     * @throws {InvalidQueryError} The error throws when query is not valid.\r\n     */\r\n    Query.prototype.loadFromJson = function (json, changeStatus) {\r\n        if (changeStatus === void 0) { changeStatus = true; }\r\n        var data = JSON.parse(json);\r\n        this.loadFromData(data, changeStatus);\r\n    };\r\n    /**\r\n     * Loads query from data representation.\r\n     * @param data\r\n     * @param changeStatus\r\n     * @throws {InvalidQueryError} The error throws when query is not valid.\r\n     */\r\n    Query.prototype.loadFromData = function (data, changeStatus) {\r\n        if (changeStatus === void 0) { changeStatus = true; }\r\n        var noErrors = false;\r\n        this.clear();\r\n        this.clearDrillDowns();\r\n        if (data) {\r\n            this.id = data.id;\r\n            this.root.loadFromData(this.model, data.root);\r\n            if (data.root && data.root.conds) {\r\n                for (var i = 0; i < data.root.conds.length; i++) {\r\n                    var condData = data.root.conds[i];\r\n                    if (condData.conds && !this.isEx()) {\r\n                        console.error(\"Community version doesn't support working with groups.\");\r\n                        continue;\r\n                    }\r\n                    var cond = this.createCondition();\r\n                    cond.loadFromData(this.model, condData);\r\n                    this.root.addCondition(cond);\r\n                }\r\n            }\r\n            this.name = data.name;\r\n            this.description = data.desc;\r\n            this.justsorted = [];\r\n            if (data.justsortcols) {\r\n                for (var i = 0; i < data.justsortcols.length; i++) {\r\n                    var newCol = this.createColumn(true);\r\n                    newCol.loadFromData(this.model, data.justsortcols[i]);\r\n                    this.justsorted.push(newCol);\r\n                }\r\n            }\r\n            if (data.cols) {\r\n                for (var i = 0; i < data.cols.length; i++) {\r\n                    var newCol = this.createColumn();\r\n                    newCol.loadFromData(this.model, data.cols[i]);\r\n                    this.columns.push(newCol);\r\n                }\r\n            }\r\n            if (data.extraData) {\r\n                this.extraData = data.extraData;\r\n            }\r\n            this.innerData = data.innerData || this.innerData;\r\n            if (data.dds && data.dds.length) {\r\n                for (var _i = 0, _a = data.dds; _i < _a.length; _i++) {\r\n                    var dd = _a[_i];\r\n                    var query = this.addDrillDown();\r\n                    query.loadFromData(dd);\r\n                }\r\n            }\r\n        }\r\n        noErrors = true;\r\n        if (noErrors) {\r\n            if (changeStatus) {\r\n                this.isNewbie = false;\r\n                this._isModified = false;\r\n            }\r\n        }\r\n        this.validate();\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    Query.prototype.addDrillDown = function () {\r\n        var query = this.model.createQuery();\r\n        query.parentQuery = this;\r\n        this.drillDowns.push(query);\r\n        return query;\r\n    };\r\n    Query.prototype.getDrillDowns = function () {\r\n        return this.drillDowns;\r\n    };\r\n    Query.prototype.getParentQuery = function () {\r\n        return this.parentQuery;\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    Query.prototype.findColumnById = function (colId) {\r\n        for (var _i = 0, _a = this.columns; _i < _a.length; _i++) {\r\n            var col = _a[_i];\r\n            if (col.id === colId)\r\n                return col;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Gets DataModel object associated with this query.\r\n     * @retruns The data model.\r\n     */\r\n    Query.prototype.getModel = function () {\r\n        return this.model;\r\n    };\r\n    /**\r\n     * Sets DataModel object associated with this query.\r\n     * @param model The data model.\r\n     */\r\n    Query.prototype.setModel = function (model) {\r\n        this.model = model;\r\n    };\r\n    /**\r\n     * Loads data model.\r\n     * @param model JSON representation object or JSON string.\r\n     */\r\n    Query.prototype.loadModelData = function (model) {\r\n        this.model.setData(model);\r\n    };\r\n    /**\r\n     * Returns JSON representation of this query.\r\n     * @retruns JSON string.\r\n     */\r\n    Query.prototype.toJSON = function () {\r\n        return JSON.stringify(this.toJSONData());\r\n    };\r\n    /**\r\n     * Returns JSON representation of this query.\r\n     * @retruns JSON representation object.\r\n     */\r\n    Query.prototype.toJSONData = function () {\r\n        var _this = this;\r\n        var obj = {\r\n            modelId: this.model ? this.model.getId() : null,\r\n            modelName: this.model ? this.model.getName() : null\r\n        };\r\n        obj.id = this.id;\r\n        obj.name = this.name;\r\n        if (this.description) {\r\n            obj.desc = this.description;\r\n        }\r\n        obj.cols = [];\r\n        for (var i = 0; i < this.columns.length; i++) {\r\n            obj.cols.push(this.columns[i].saveToData());\r\n        }\r\n        obj.justsortcols = [];\r\n        for (var i = 0; i < this.justsorted.length; i++) {\r\n            obj.justsortcols.push(this.justsorted[i].saveToData());\r\n        }\r\n        if (this.extraData) {\r\n            obj.extraData = this.extraData;\r\n        }\r\n        if (this.innerData) {\r\n            obj.innerData = this.innerData;\r\n        }\r\n        var rootCondToData = function (condGroup) {\r\n            var result = condGroup.saveToData();\r\n            result.conds = [];\r\n            var conditions = condGroup.getConditions();\r\n            for (var i = 0; i < conditions.length; i++) {\r\n                if (conditions[i].isGroup() && !_this.isEx()) {\r\n                    console.error(\"Community version doesn't support working with groups.\");\r\n                    continue;\r\n                }\r\n                result.conds.push(conditions[i].saveToData());\r\n            }\r\n            return result;\r\n        };\r\n        obj.root = rootCondToData(this.root);\r\n        obj.extraConds = rootCondToData(this.extraConditions);\r\n        if (this.drillDowns.length > 0) {\r\n            obj.dds = [];\r\n            for (var _i = 0, _a = this.drillDowns; _i < _a.length; _i++) {\r\n                var dd = _a[_i];\r\n                obj.dds.push(dd.toJSONData());\r\n            }\r\n        }\r\n        obj.timezoneOffset = this.timezoneOffset;\r\n        obj.locale = i18n.getCurrentLocale();\r\n        return obj;\r\n    };\r\n    /**\r\n     * Checks wether query does not contains any condtion.\r\n     * @retruns `true` if query does not contain any condition, otherwise `false`.\r\n     */\r\n    Query.prototype.isEmptyConditions = function () {\r\n        return this.root.isEmpty();\r\n    };\r\n    /**\r\n     * Checks wether query does not contains any column.\r\n     * @retruns `true` if query does not contain any column, otherwise `false`.\r\n     */\r\n    Query.prototype.isEmptyColumns = function () {\r\n        return !this.columns || this.columns.length === 0;\r\n    };\r\n    /**\r\n     * Checks wether query does not contains any column and any condition.\r\n     * @retruns `true` if query does not contain any column and any condition, otherwise `false`.\r\n     */\r\n    Query.prototype.isEmpty = function () {\r\n        return this.isEmptyColumns() && this.isEmptyConditions();\r\n    };\r\n    /**\r\n     * Clears the query (all conditions, columns, extraData, etc).\r\n     */\r\n    Query.prototype.clear = function () {\r\n        this.clearColumns();\r\n        this.clearConditions();\r\n        this.clearExtraConditions();\r\n        this.innerData = {};\r\n        this.extraData = {};\r\n    };\r\n    /**\r\n     * Clears all columns in query\r\n     */\r\n    Query.prototype.clearColumns = function () {\r\n        this.columns = [];\r\n        this.justsorted = [];\r\n    };\r\n    /**\r\n     * Clears all conditions in query.\r\n     */\r\n    Query.prototype.clearConditions = function () {\r\n        this.root.clearConditions();\r\n        this.root.linkType = LinkType.All;\r\n        this.root.enabled = true;\r\n    };\r\n    /**\r\n     * Clears all extra conditions in query\r\n     */\r\n    Query.prototype.clearExtraConditions = function () {\r\n        this.extraConditions.clearConditions();\r\n    };\r\n    /**\r\n     * Clears all drill downs\r\n     */\r\n    Query.prototype.clearDrillDowns = function () {\r\n        this.drillDowns = [];\r\n    };\r\n    /**\r\n     * Gets query ID.\r\n     * @returns The ID>\r\n     */\r\n    Query.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    /**\r\n     * Sets query ID.\r\n     * @param id New Query ID.\r\n     */\r\n    Query.prototype.setId = function (id) {\r\n        this.id = id;\r\n    };\r\n    /**\r\n     * Regenerates current query ID.\r\n     * @param id New Query ID.\r\n     */\r\n    Query.prototype.regenerateId = function () {\r\n        this.id = dataUtils.generateId(\"quer\");\r\n    };\r\n    /**\r\n     * Gets name of the query.\r\n     * @retruns The name.\r\n     */\r\n    Query.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    /**\r\n     * Sets name of the query\r\n     * @param name New name.\r\n     */\r\n    Query.prototype.setName = function (name) {\r\n        this.name = name;\r\n    };\r\n    /**\r\n     * Gets description of the query.\r\n     * @retruns The description.\r\n     */\r\n    Query.prototype.getDescription = function () {\r\n        return this.description;\r\n    };\r\n    /**\r\n     * Sets description of the query\r\n     * @param description New description.\r\n     */\r\n    Query.prototype.setDescription = function (description) {\r\n        this.description = description;\r\n    };\r\n    /**\r\n     * Get array of columns.\r\n     * @retruns Columns.\r\n     */\r\n    Query.prototype.getColumns = function () {\r\n        return this.columns;\r\n    };\r\n    /**\r\n     * Gets array of columns that are used as keys\r\n     * for totals.\r\n     */\r\n    Query.prototype.getUsedInTotalsColumns = function () {\r\n        var cols = this.getColumns()\r\n            .filter(function (col) { return col.enabled && col.expr.tag === ExprTag.EntityAttribute; });\r\n        if (cols.length)\r\n            cols.pop();\r\n        return cols;\r\n    };\r\n    /**\r\n     * Get array of columns used only in sorting.\r\n     * @retruns Columns.\r\n     */\r\n    Query.prototype.getJustSortedColumns = function () {\r\n        return this.justsorted;\r\n    };\r\n    /**\r\n     * Gets array of columns used in sorting\r\n     * @retruns Columns\r\n     */\r\n    Query.prototype.getSortedColumns = function () {\r\n        var sortedCols = new Array();\r\n        var cols = this.getColumns()\r\n            .concat(this.getJustSortedColumns());\r\n        for (var i = 0; i < cols.length; i++) {\r\n            var col = cols[i];\r\n            if (col.sortIndex >= 0) {\r\n                sortedCols.push(col);\r\n            }\r\n        }\r\n        sortedCols.sort(function (col1, col2) {\r\n            return col1.sortIndex - col2.sortIndex;\r\n        });\r\n        return sortedCols;\r\n    };\r\n    /**\r\n     * Gets Colummn sorting index.\r\n     * @param col The column.\r\n     * @retruns The index.\r\n     */\r\n    Query.prototype.getColumnSortIndex = function (col) {\r\n        if (col.sorting != SortDirection.None) {\r\n            if (col.sortIndex < 0) {\r\n                var cols = this.getColumns()\r\n                    .concat(this.getJustSortedColumns());\r\n                return dataUtils.indexOfArrayItem(cols, col);\r\n            }\r\n            else {\r\n                return col.sortIndex;\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    Query.prototype.createColumn = function (justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        return new Column(this, justsorted);\r\n    };\r\n    Query.prototype.getColumnById = function (id) {\r\n        return dataUtils.findItemById(this.columns, id);\r\n    };\r\n    /**\r\n     * Adds a new column with specified parameters\r\n     * @param desriptor The descriptor of the new column. Can contain different parameters like:\r\n     * `attribute` - a reference to a EntityAttr object,\r\n     * `attributeId` - an ID of the entity attribute we need (if we don't indicate `attribute`),\r\n     * `index`, sorting`, 'sortIndex` and other\r\n     *\r\n     * @param author The author of this operation. This parameter is used in EasyQuery widgets only to indicate which of the initiates the change.\r\n     * @retruns The column.\r\n     * @example\r\n     * query.addColumn({\r\n     *     attributeId: 'Customers.CompanyName',\r\n     *     sortIndex: SortDirection.Ascending\r\n     * }});\r\n     */\r\n    Query.prototype.addColumn = function (descriptor, author) {\r\n        var columns = (descriptor.justsorted)\r\n            ? this.justsorted\r\n            : this.columns;\r\n        var newColumn;\r\n        if (descriptor.column) {\r\n            newColumn = descriptor.column;\r\n        }\r\n        else {\r\n            newColumn = this.createColumn(descriptor.justsorted);\r\n            var attr = void 0;\r\n            if (descriptor.attribute) {\r\n                attr = descriptor.attribute;\r\n            }\r\n            else if (descriptor.attributeId) {\r\n                attr = this.model.getAttributeById(descriptor.attributeId);\r\n                if (!attr) {\r\n                    throw new Error(\"Incorrect attribute id (\" + descriptor.attributeId + \"): addColumn\");\r\n                }\r\n            }\r\n            else {\r\n                throw new Error(\"Not enought data: addColumn\");\r\n            }\r\n            if (descriptor.aggrFuncId && descriptor.cusomtSql) {\r\n                console.warn(\"Column cannot be created using aggrFuncId and customSql at the same time. \" +\r\n                    \"cusomSql will be used.\");\r\n            }\r\n            if (descriptor.cusomtSql) {\r\n                newColumn.caption = 'Custom SQL Column';\r\n                newColumn.expr.tag = ExprTag.CustomSql;\r\n                newColumn.expr.baseAttrId = attr.id;\r\n                newColumn.expr.sql = descriptor.cusomtSql;\r\n            }\r\n            else if (descriptor.aggrFuncId) {\r\n                newColumn.caption = attr.caption + ' '\r\n                    + this.model.getAggrFunctionCaption(descriptor.aggrFuncId);\r\n                newColumn.expr.tag = ExprTag.AggregateFunction;\r\n                newColumn.expr.func = descriptor.aggrFuncId;\r\n                newColumn.expr.distinct = false;\r\n                var arg = new Expression(newColumn);\r\n                arg.setValue(attr.id, true);\r\n                arg.tag = ExprTag.EntityAttribute;\r\n                newColumn.expr.args.push(arg);\r\n                ;\r\n            }\r\n            else {\r\n                newColumn.caption = attr.caption;\r\n                newColumn.expr.setValue(attr.id, true);\r\n                newColumn.expr.tag = ExprTag.EntityAttribute;\r\n            }\r\n            newColumn.caption = descriptor.caption || newColumn.caption;\r\n            newColumn.sorting = descriptor.sorting || SortDirection.None;\r\n            newColumn.sortIndex = descriptor.sortIndex || -1;\r\n            newColumn.enabled = dataUtils.getIfDefined(descriptor.enabled, true);\r\n            newColumn.setReadOnly(dataUtils.getIfDefined(descriptor.readonly, false));\r\n        }\r\n        if (descriptor.index && descriptor.index >= 0 && descriptor.index < columns.length) {\r\n            columns.splice(descriptor.index, 0, newColumn);\r\n        }\r\n        else {\r\n            columns.push(newColumn);\r\n        }\r\n        return newColumn;\r\n    };\r\n    /**\r\n     * Adds a new column with specified index.\r\n     * @param column The column or array of columns\r\n     * @param index The index of new column\r\n     * @param author The author.\r\n     * @example\r\n     * const column = new Column();\r\n     * column.caption = \"Company name\";\r\n     *\r\n     * query.addColumn(column, 1)\r\n     */\r\n    Query.prototype.addColumnObj = function (column, index, author) {\r\n        var columns = this.columns;\r\n        if (typeof column.length == \"undefined\") {\r\n            if (typeof index == \"number\") {\r\n                columns.splice(index, 0, column);\r\n            }\r\n            else {\r\n                columns.push(column);\r\n            }\r\n        }\r\n        else {\r\n            if (typeof index == \"number\") {\r\n                columns.push.apply(columns, [index, 0].concat(column));\r\n            }\r\n            else {\r\n                columns.push.apply(columns, [].concat(column));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Changes column to Aggregate function, custom expression or simple column.\r\n     * @param column The column to change.\r\n     * @param tag New column expression tag.\r\n     * @param args The arguments (Contains aggregate function id)\r\n     */\r\n    Query.prototype.changeColumnType = function (column, tag, args) {\r\n        if (column.isJustSorted())\r\n            return;\r\n        args = args || {};\r\n        if (tag === ExprTag.AggregateFunction) {\r\n            if (!args.funcId)\r\n                throw Error(\"'funcId' argument is not defined\");\r\n            if (column.expr.tag == ExprTag.AggregateFunction) {\r\n                column.expr.func = args.funcId;\r\n                return;\r\n            }\r\n            var exprValue = column.expr.value;\r\n            column.caption = '';\r\n            var expr = new Expression(column);\r\n            expr.tag = ExprTag.AggregateFunction;\r\n            expr.func = args.funcId;\r\n            expr.distinct = false;\r\n            var arg = new Expression(column);\r\n            //arg.id = exprValue;\r\n            arg.setValue(exprValue, true);\r\n            arg.tag = ExprTag.EntityAttribute;\r\n            expr.args.push(arg);\r\n            column.expr = expr;\r\n        }\r\n        else if (tag === ExprTag.CustomSql) {\r\n            var attrId = (column.expr.tag == ExprTag.AggregateFunction)\r\n                ? column.expr.args[0].value\r\n                : column.expr.value;\r\n            column.caption = '';\r\n            var sqlText = '';\r\n            if (this.model) {\r\n                sqlText = this.model.getAttributeById(attrId).expr;\r\n            }\r\n            var customSqlExpr = new Expression(column);\r\n            customSqlExpr.tag = ExprTag.CustomSql;\r\n            customSqlExpr.sql = sqlText;\r\n            customSqlExpr.baseAttrId = attrId;\r\n            column.expr = customSqlExpr;\r\n        }\r\n        else if (tag === ExprTag.EntityAttribute) {\r\n            if (column.expr.tag === ExprTag.EntityAttribute\r\n                || column.expr.tag === ExprTag.ParentEntityAttribute) {\r\n                return;\r\n            }\r\n            var exprId = (column.expr.tag === ExprTag.CustomSql)\r\n                ? column.expr.baseAttrId\r\n                : column.expr.args[0].value;\r\n            column.caption = '';\r\n            var expr = new Expression(column);\r\n            expr.tag = ExprTag.EntityAttribute;\r\n            //expr.id = exprId;\r\n            expr.setValue(exprId, true);\r\n            column.expr = expr;\r\n        }\r\n    };\r\n    /**\r\n     * Moves the column with specified index to another position.\r\n     * @param index1 The index of the column that should be moved.\r\n     * @param index2 The index of the position the column should be moved to\r\n     * @param author The author\r\n     */\r\n    Query.prototype.moveColumn = function (index1, index2) {\r\n        var columns = this.getColumns();\r\n        dataUtils.moveArrayItem(columns, index1, index2);\r\n    };\r\n    /**\r\n     * Removes the column.\r\n     * @param column The column to be removed.\r\n     * @param author The author\r\n     */\r\n    Query.prototype.removeColumn = function (column, author) {\r\n        var columns = (column.isJustSorted())\r\n            ? this.getJustSortedColumns()\r\n            : this.getColumns();\r\n        dataUtils.removeArrayItem(columns, column);\r\n    };\r\n    /**\r\n     * Adds a condition group - a group of simple conditions (predicates) linked by AND or OR\r\n     * @param descriptor The descriptor of the new condition group.\r\n     * @returns The new search condition.\r\n     */\r\n    Query.prototype.addConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        console.error(\"Community version doesn't support working with groups.\");\r\n        return null;\r\n    };\r\n    Query.prototype.addExtraConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        console.error(\"Community version doesn't support working with groups.\");\r\n        return null;\r\n    };\r\n    Query.prototype.createCondition = function (tag) {\r\n        if (tag === void 0) { tag = CondTag.Simple; }\r\n        return new Condition(this, tag);\r\n    };\r\n    /**\r\n     *  Adds a new simple condition (a predicate)\r\n     * @param descriptor The descriptor which defines different parameters of the new condition\r\n     * @returns The new condition.\r\n     */\r\n    Query.prototype.addSimpleCondition = function (descriptor) {\r\n        var parent = descriptor.parent || this.getRootCondition();\r\n        var model = this.getModel();\r\n        if (!model)\r\n            return null;\r\n        if (!descriptor.attribute && !descriptor.attributeId) {\r\n            throw new Error(\"Either `attribute` or `attributeId` parameter must have a value\");\r\n        }\r\n        if (!descriptor.attribute) {\r\n            descriptor.attribute = model.getAttributeById(descriptor.attributeId);\r\n            if (!descriptor.attribute) {\r\n                throw new Error(\"Could not find this attribute: \" + descriptor.attributeId);\r\n            }\r\n        }\r\n        if (!descriptor.operator && descriptor.operatorId) {\r\n            descriptor.operator = model.getOperatorById(descriptor.operatorId);\r\n        }\r\n        if (!descriptor.operator) {\r\n            descriptor.operator = model.getDefaultOperatorForAttr(descriptor.attribute);\r\n        }\r\n        var cond = this.createSimpleConditionObject(descriptor.attribute, descriptor.operator, descriptor.value);\r\n        parent.addCondition(cond);\r\n        cond.enabled = dataUtils.getIfDefined(descriptor.enabled, true);\r\n        cond.setReadOnly(dataUtils.getIfDefined(descriptor.readonly, false));\r\n        return cond;\r\n    };\r\n    Query.prototype.addSimpleExtraCondition = function (descriptor) {\r\n        descriptor.parent = descriptor.parent || this.extraConditions;\r\n        return this.addSimpleCondition(descriptor);\r\n    };\r\n    Query.prototype.createSimpleConditionObject = function (attr, operator, inputValues) {\r\n        if (!attr || !attr.useInConditions) {\r\n            var attrCaption = attr ? attr.caption : 'NULL';\r\n            throw \"Can't add a condition with such attribute: \" + attrCaption;\r\n        }\r\n        var cond = this.createCondition(CondTag.Simple);\r\n        cond.setOperatorId(operator.id, true);\r\n        var attrExpr = new Expression(cond);\r\n        attrExpr.setValue(attr.id, true);\r\n        attrExpr.tag = this.attributeExprTag;\r\n        attrExpr.kind = DataKind.Attribute;\r\n        attrExpr.dataType = attr.dataType;\r\n        cond.expressions.push(attrExpr);\r\n        var model = this.getModel();\r\n        var valCount = operator.paramCount;\r\n        var values = dataUtils.fillArray(new Array(valCount - 1), null);\r\n        if (inputValues !== null && typeof inputValues !== \"undefined\") {\r\n            if (Array.isArray(inputValues)) {\r\n                dataUtils.copyArrayTo(inputValues, values);\r\n            }\r\n            else if (valCount > 0) {\r\n                values[0] = inputValues;\r\n            }\r\n        }\r\n        var valLength = values.length;\r\n        for (var i = 0; i < valLength; i++) {\r\n            var operand = model.getOperand(attr, operator, i + 1);\r\n            cond.addExpressionByOperand(operand, values[i]);\r\n        }\r\n        return cond;\r\n    };\r\n    /**\r\n     * Removes several columns passed as array.\r\n     * @param columnsToRemove The list of columns to be removed.\r\n     * @param author The author.\r\n     */\r\n    Query.prototype.removeColumns = function (columnsToRemove, author) {\r\n        var justSortedColumns = columnsToRemove.filter(function (c) { return c.isJustSorted(); });\r\n        var columns = columnsToRemove.filter(function (c) { return !c.isJustSorted(); });\r\n        function removeFromArray(arr, arrToRemove) {\r\n            var ctrLen = arrToRemove.length;\r\n            for (var i = 0; i < ctrLen; i++) {\r\n                var index = arr.indexOf(arrToRemove[i]);\r\n                if (index >= 0) {\r\n                    arr.splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n        if (columns.length > 0) {\r\n            removeFromArray(this.getColumns(), columns);\r\n        }\r\n        if (justSortedColumns.length > 0) {\r\n            removeFromArray(this.getJustSortedColumns(), justSortedColumns);\r\n        }\r\n    };\r\n    /**\r\n     * Fires process event.\r\n     * @param data The data.\r\n     */\r\n    Query.prototype.fireProcessEvent = function (data) {\r\n        this.eventEmitter.fire('query.process', data);\r\n    };\r\n    Query.prototype.fireChangedEvent = function (params, postpone, wasModified) {\r\n        params = params || { part: QueryChangePart.All };\r\n        if (typeof (postpone) != 'undefined' || typeof (wasModified) != 'undefined') {\r\n            params.postpone = postpone || 0;\r\n            params.wasModified = wasModified;\r\n            console.warn('Method with \\'postpone\\' and \\'wasModified\\' args is deprecated. Pass params in data object');\r\n        }\r\n        this._isModified = typeof (params.wasModified) != 'undefined'\r\n            ? params.wasModified\r\n            : true;\r\n        var eventData = params || {\r\n            part: QueryChangePart.All\r\n        };\r\n        this.eventEmitter.fire('query.change', eventData, params.postpone || 0);\r\n    };\r\n    Query.prototype.fireColumnsChangedEvent = function (action, column, justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        this.fireChangedEvent({\r\n            part: (justsorted)\r\n                ? QueryChangePart.SortingColumns\r\n                : QueryChangePart.Columns,\r\n            action: action,\r\n            changee: column\r\n        });\r\n    };\r\n    Query.prototype.fireConditionsChangedEvent = function (action, condition) {\r\n        this.fireChangedEvent({\r\n            part: QueryChangePart.Conditions,\r\n            action: action,\r\n            changee: condition\r\n        });\r\n    };\r\n    /**\r\n     * Runs through condition with this callback.\r\n     * @param processCondition The function to process condition.\r\n     */\r\n    Query.prototype.runThroughConditions = function (processCondition) {\r\n        var processGroup = function (predicate) {\r\n            for (var i = 0; i < predicate.getConditions().length; i++) {\r\n                var cond = predicate.getConditions()[i];\r\n                if (cond.isGroup()) {\r\n                    processGroup(cond);\r\n                }\r\n                else {\r\n                    if (processCondition)\r\n                        processCondition(cond);\r\n                }\r\n            }\r\n        };\r\n        processGroup(this.getRootCondition());\r\n    };\r\n    /**\r\n     * Gets one value for the attribute\r\n     * @param attrId The attribute ID.\r\n     * @retruns The value.\r\n     */\r\n    Query.prototype.getOneValueForAttr = function (attrId) {\r\n        var res = null;\r\n        this.runThroughConditions(function (cond) {\r\n            if (cond.enabled) {\r\n                var expr = cond.expressions[0];\r\n                var opid = cond.getOperatorId();\r\n                if (expr.value == attrId && cond.expressions[1] &&\r\n                    (opid == \"Equal\" || opid == \"InList\" || opid == \"StartsWith\")) {\r\n                    res = cond.expressions[1].value;\r\n                }\r\n            }\r\n        });\r\n        return res;\r\n    };\r\n    /**\r\n     * Gets root predicate\r\n     * @retruns The condition.\r\n     */\r\n    Query.prototype.getRootCondition = function () {\r\n        return this.root;\r\n    };\r\n    /**\r\n     * Add process callback\r\n     * @param callback The callback.\r\n     * @retruns The callback ID.\r\n     */\r\n    Query.prototype.addProcessCallback = function (callback) {\r\n        return this.eventEmitter.subscribe('query.process', callback);\r\n    };\r\n    /**\r\n     * Remove process callback\r\n     * @param callbackId The callback ID.\r\n     */\r\n    Query.prototype.removeProcessCallback = function (callbackId) {\r\n        this.eventEmitter.unsubscribe('query.process', callbackId);\r\n    };\r\n    /**\r\n     * Add changed callback\r\n     * @param callback The callback ID.\r\n     */\r\n    Query.prototype.addChangedCallback = function (callback) {\r\n        return this.eventEmitter.subscribe('query.change', callback);\r\n    };\r\n    /**\r\n     * Remove changed callback\r\n     * @param callbackId The callback ID.\r\n     */\r\n    Query.prototype.removeChangedCallback = function (callbackId) {\r\n        this.eventEmitter.unsubscribe('query.change', callbackId);\r\n    };\r\n    /**\r\n     * Retruns conditions text\r\n     */\r\n    Query.prototype.getConditionsText = function () {\r\n        var model = this.getModel();\r\n        if (!model)\r\n            return '';\r\n        var getConditionGroupText = function (predicate) {\r\n            var result = '', conjKey = \"Conj\" + equtils.linkTypeToStr(predicate.linkType), conjText = i18n.getText(conjKey), condText, i;\r\n            for (i = 0; i < predicate.getConditions().length; i++) {\r\n                condText = \"\";\r\n                var cond = predicate.getConditions()[i];\r\n                if (cond.enabled || typeof (cond.enabled) === \"undefined\") {\r\n                    if (cond.isGroup()) {\r\n                        condText = getConditionGroupText(cond);\r\n                        if (condText) {\r\n                            condText = \"(\" + condText + \")\";\r\n                        }\r\n                    }\r\n                    else {\r\n                        var opId = cond.getOperatorId();\r\n                        var operator = model.getOperatorById(opId);\r\n                        var parts = equtils.parseOperatorFormat(operator);\r\n                        var plen = parts.length;\r\n                        for (var pi = 0; pi < plen; pi++) {\r\n                            var part = parts[pi];\r\n                            var txt = part.text;\r\n                            if (part.type == \"expression\") {\r\n                                var expr = cond.expressions[part.index];\r\n                                if (expr.kind == DataKind.Attribute || expr.tag == ExprTag.EntityAttribute) {\r\n                                    var attr = model.getAttributeById(expr.value);\r\n                                    txt = model.getAttributeText(attr, \"{entity} {attr}\");\r\n                                }\r\n                                else {\r\n                                    txt = expr.getText();\r\n                                }\r\n                            }\r\n                            if (pi > 0)\r\n                                condText += \" \";\r\n                            condText += txt;\r\n                        }\r\n                    }\r\n                }\r\n                if (condText) {\r\n                    if (i > 0 && result) {\r\n                        result += \" \" + conjText + \" \";\r\n                    }\r\n                    result += condText;\r\n                }\r\n            }\r\n            if (predicate.linkType == LinkType.None || predicate.linkType == LinkType.NotAll) {\r\n                result = \"not ( \" + result + \" )\";\r\n            }\r\n            return result;\r\n        };\r\n        return getConditionGroupText(this.getRootCondition());\r\n    };\r\n    return Query;\r\n}());\r\nexport { Query };\r\n//# sourceMappingURL=query.js.map","import { utils as dataUtils } from '@easydata/core';\r\nimport { Query } from '../query/query';\r\nvar BrowserQueryStorage = /** @class */ (function () {\r\n    function BrowserQueryStorage(context) {\r\n        this.context = context;\r\n        console.warn('BrowserQueryStorage is used for managing queries');\r\n    }\r\n    BrowserQueryStorage.prototype.init = function (options) {\r\n        var keyPrefix = 'eq';\r\n        if (options && options.keyPrefix) {\r\n            keyPrefix = options.keyPrefix;\r\n        }\r\n        this.queryListKey = keyPrefix + '-querylist';\r\n        this.queryKeyPrefix = keyPrefix;\r\n    };\r\n    BrowserQueryStorage.prototype.getQueryList = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var itemsString = localStorage.getItem(_this.queryListKey);\r\n                if (itemsString) {\r\n                    resolve(JSON.parse(itemsString));\r\n                }\r\n                resolve([]);\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n            ;\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.newQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var query = new Query(_this.context.getModel());\r\n            query.reset();\r\n            if (options.query) {\r\n                query.loadFromData(options.query.toJSONData());\r\n            }\r\n            if (options && options.queryId) {\r\n                query.setId(options.queryId);\r\n            }\r\n            if (options && options.name) {\r\n                query.setName(options.name);\r\n            }\r\n            else {\r\n                query.setDefaultName();\r\n            }\r\n            _this._saveQuery(query);\r\n            resolve(query.toJSONData());\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.loadQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var queryItem = localStorage.getItem(_this.queryKeyPrefix + '-' + options.queryId);\r\n                if (queryItem) {\r\n                    resolve(JSON.parse(queryItem));\r\n                }\r\n                throw new Error('Query is not found: ' + options.queryId);\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.saveQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var modelId = options.modelId || _this.context.getModel().getId();\r\n                var query = options.query || _this.context.getQuery();\r\n                _this._saveQuery(query);\r\n                resolve(null);\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype._saveQuery = function (query) {\r\n        var queryList = [];\r\n        var itemsString = localStorage.getItem(this.queryListKey);\r\n        if (itemsString) {\r\n            queryList = JSON.parse(itemsString);\r\n        }\r\n        var item = dataUtils.findItemById(queryList, query.getId());\r\n        if (!item) {\r\n            item = { id: query.getId(), name: query.getName(), text: query.getDescription() };\r\n            queryList.push(item);\r\n        }\r\n        item.name = query.getName();\r\n        item.text = query.getDescription();\r\n        localStorage.setItem(this.queryListKey, JSON.stringify(queryList));\r\n        localStorage.setItem(this.queryKeyPrefix + '-' + query.getId(), query.toJSON());\r\n    };\r\n    BrowserQueryStorage.prototype.removeQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var modelId = options.modelId || _this.context.getModel().getId();\r\n                var queryId_1 = options.queryId || _this.context.getQuery().getId();\r\n                var queryList = [];\r\n                var itemsString = localStorage.getItem(_this.queryListKey);\r\n                if (itemsString) {\r\n                    queryList = JSON.parse(itemsString);\r\n                }\r\n                queryList = queryList.filter(function (item) { return item.id != queryId_1; });\r\n                localStorage.setItem(_this.queryListKey, JSON.stringify(queryList));\r\n                localStorage.removeItem(_this.queryKeyPrefix + '-' + queryId_1);\r\n                resolve();\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n    return BrowserQueryStorage;\r\n}());\r\nexport { BrowserQueryStorage };\r\n//# sourceMappingURL=query_storage.js.map","var EqModelLoader = /** @class */ (function () {\r\n    function EqModelLoader(context) {\r\n        this.context = context;\r\n        this.modelPromise = null;\r\n    }\r\n    EqModelLoader.prototype.init = function (options) {\r\n    };\r\n    EqModelLoader.prototype.getContext = function () {\r\n        return this.context;\r\n    };\r\n    EqModelLoader.prototype.createModelLoadingPromise = function () {\r\n        var _this = this;\r\n        this.modelPromise = new Promise(function (resolve, reject) {\r\n            _this.modelLoadingResolveFunc = resolve;\r\n            _this.modelLoadingRejectFunc = reject;\r\n        });\r\n    };\r\n    /**\r\n     * Returns the `Promise` of the model loading process\r\n     */\r\n    EqModelLoader.prototype.getModelPromise = function () {\r\n        return this.modelPromise\r\n            || Promise.reject(new Error(\"Model has been never loaded.\"));\r\n    };\r\n    EqModelLoader.prototype.startModelLoading = function (options) {\r\n        this.createModelLoadingPromise();\r\n        this.sendLoadModelRequest(options);\r\n        return this.modelPromise;\r\n    };\r\n    return EqModelLoader;\r\n}());\r\nexport { EqModelLoader };\r\n//# sourceMappingURL=model_loader.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EqModelLoader } from '../main/model_loader';\r\nvar EqServerModelLoader = /** @class */ (function (_super) {\r\n    __extends(EqServerModelLoader, _super);\r\n    function EqServerModelLoader(context) {\r\n        return _super.call(this, context) || this;\r\n    }\r\n    EqServerModelLoader.prototype.init = function () {\r\n    };\r\n    EqServerModelLoader.prototype.sendLoadModelRequest = function (options) {\r\n        var _this = this;\r\n        var context = this.getContext();\r\n        var http = context.getServices().getHttpClient();\r\n        var url = context.resolveEndpoint('GetModel', { modelId: options.modelId });\r\n        http.get(url)\r\n            .then(function (responseData) {\r\n            if (!responseData.model) {\r\n                _this.modelLoadingRejectFunc(new Error('Wrong response format for \"GetModel\" request'));\r\n            }\r\n            _this.modelLoadingResolveFunc(responseData.model);\r\n        })\r\n            .catch(function (error) {\r\n            _this.modelLoadingRejectFunc(error);\r\n        });\r\n    };\r\n    return EqServerModelLoader;\r\n}(EqModelLoader));\r\nexport { EqServerModelLoader };\r\n//# sourceMappingURL=eqs_model_loader.js.map","var EqServerDataFetcher = /** @class */ (function () {\r\n    function EqServerDataFetcher(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerDataFetcher.prototype.fetchData = function (options) {\r\n        var query = options.query || this.context.getQuery();\r\n        var queryId = query.getId();\r\n        var requestData = {\r\n            'query': query.toJSONData(),\r\n            'options': options.options\r\n        };\r\n        if (options.chunk) {\r\n            requestData['chunk'] = options.chunk;\r\n        }\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('FetchData', { modelId: query.getModel().getId(), queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, requestData)\r\n            .then(function (data) { return data; });\r\n    };\r\n    return EqServerDataFetcher;\r\n}());\r\nexport { EqServerDataFetcher };\r\n//# sourceMappingURL=eqs_data_fetcher.js.map","var EqServerQuerySynchronizer = /** @class */ (function () {\r\n    function EqServerQuerySynchronizer(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerQuerySynchronizer.prototype.syncQuery = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var ops = options.options || {};\r\n        var requestData = {\r\n            'query': query.toJSONData(),\r\n            'options': ops,\r\n        };\r\n        if (options.data) {\r\n            requestData.data = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('SyncQuery', { modelId: query.getModel().getId(), queryId: query.getId() });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, requestData)\r\n            .then(function (responseData) { return responseData; });\r\n    };\r\n    return EqServerQuerySynchronizer;\r\n}());\r\nexport { EqServerQuerySynchronizer };\r\n//# sourceMappingURL=eqs_query_synchronizer.js.map","import { utils as dataUtils } from '@easydata/core';\r\nvar EqServerValueListResolver = /** @class */ (function () {\r\n    function EqServerValueListResolver(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerValueListResolver.prototype.loadValueList = function (options) {\r\n        var modelId = options.modelId || this.context.getModel().getId();\r\n        var requestData = dataUtils.assign({ modelId: modelId }, options.params);\r\n        var editorId = requestData.editorId;\r\n        var http = this.context.getServices().getHttpClient();\r\n        var url = this.context.resolveEndpoint('GetValueList', { modelId: modelId, listId: editorId });\r\n        var queryParams = {};\r\n        if (options && options.params && options.params.queryParams) {\r\n            queryParams = options.params.queryParams;\r\n        }\r\n        return http.get(url, { queryParams: queryParams })\r\n            .then(function (responseData) {\r\n            if (responseData && responseData.values) {\r\n                return responseData.values;\r\n            }\r\n            else {\r\n                throw new Error('Wrong response format. No \"values\" property');\r\n            }\r\n        });\r\n    };\r\n    return EqServerValueListResolver;\r\n}());\r\nexport { EqServerValueListResolver };\r\n//# sourceMappingURL=eqs_value_list_resolver.js.map","var EqQueryFileLoader = /** @class */ (function () {\r\n    function EqQueryFileLoader(context) {\r\n        this.context = context;\r\n    }\r\n    EqQueryFileLoader.prototype.getQueryFile = function (options) {\r\n        var query = options.query || this.context.getQuery();\r\n        var url = this.context.resolveEndpoint('GetQueryFile', { modelId: query.getModel().getId(),\r\n            format: options.format || 'xml' });\r\n        var http = this.context.getServices().getHttpClient();\r\n        var actionResult = http.post(url, {\r\n            query: query.toJSONData()\r\n        });\r\n        var request = actionResult.getRequest();\r\n        return actionResult.then(function (responseData) {\r\n            var blob = new Blob([responseData]);\r\n            var fileName = request.getXMLHttpRequest()\r\n                .getResponseHeader(\"Content-Disposition\").match(/filename=\"(.*)\"/)[1];\r\n            if (options.fileName) {\r\n                fileName = options.fileName\r\n                    + fileName.substring(fileName.lastIndexOf('.'));\r\n            }\r\n            if (window.navigator.msSaveOrOpenBlob) {\r\n                // Internet Explorer\r\n                window.navigator.msSaveOrOpenBlob(blob, fileName);\r\n            }\r\n            else {\r\n                var a = document.createElement(\"a\");\r\n                document.body.appendChild(a);\r\n                a.style.display = \"none\";\r\n                a.href = window.URL.createObjectURL(blob);\r\n                a.download = fileName;\r\n                a.click();\r\n                window.URL.revokeObjectURL(a.href);\r\n                document.body.removeChild(a);\r\n            }\r\n        });\r\n    };\r\n    EqQueryFileLoader.prototype.uploadQueryFile = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var url = this.context.resolveEndpoint('UploadQueryFile', { modelId: query.getModel().getId() });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, options.data, {\r\n            dataType: 'form-data'\r\n        })\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    return EqQueryFileLoader;\r\n}());\r\nexport { EqQueryFileLoader };\r\n//# sourceMappingURL=eqs_query_file_loader.js.map","import { ExprTag } from '../types/expr_tag';\r\nimport { Query } from '../query/query';\r\nvar EqTotalsContainer = /** @class */ (function () {\r\n    function EqTotalsContainer(context) {\r\n        this.context = context;\r\n        this.levels = {};\r\n    }\r\n    EqTotalsContainer.prototype.setTotals = function (level, data) {\r\n        var desc = this.getLevelDesc(level);\r\n        desc.data = data;\r\n        if (desc.recivedCallbacks) {\r\n            for (var _i = 0, _a = desc.recivedCallbacks; _i < _a.length; _i++) {\r\n                var callback = _a[_i];\r\n                callback(desc.data);\r\n            }\r\n        }\r\n        desc.recivedCallbacks = [];\r\n    };\r\n    EqTotalsContainer.prototype.fillTotals = function (level, row) {\r\n        var _this = this;\r\n        var curQuery = this.context.getQuery();\r\n        // get key columns for the level\r\n        var cols = curQuery.getUsedInTotalsColumns();\r\n        var keyColumns = cols.slice(0, level);\r\n        // compose key\r\n        var key = {};\r\n        for (var _i = 0, keyColumns_1 = keyColumns; _i < keyColumns_1.length; _i++) {\r\n            var keyCol = keyColumns_1[_i];\r\n            key[keyCol.id] = row.getValue(keyCol.id);\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            var desc = _this.getLevelDesc(level);\r\n            var processFunc = function (data) {\r\n                // map values\r\n                var value = data.get(JSON.stringify(key));\r\n                if (value) {\r\n                    for (var field in value) {\r\n                        row.setValue(field, value[field]);\r\n                    }\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject();\r\n                }\r\n            };\r\n            if (desc.data) {\r\n                processFunc(desc.data);\r\n            }\r\n            else {\r\n                desc.recivedCallbacks.push(processFunc);\r\n            }\r\n        });\r\n    };\r\n    EqTotalsContainer.prototype.getLevelDesc = function (level) {\r\n        var desc = this.levels[level];\r\n        if (!desc) {\r\n            desc = {\r\n                recivedCallbacks: []\r\n            };\r\n        }\r\n        this.levels[level] = desc;\r\n        return desc;\r\n    };\r\n    EqTotalsContainer.prototype.clear = function () {\r\n        this.levels = [];\r\n    };\r\n    return EqTotalsContainer;\r\n}());\r\nexport { EqTotalsContainer };\r\nvar DefaultTotalCalculator = /** @class */ (function () {\r\n    function DefaultTotalCalculator(context) {\r\n        this.context = context;\r\n        this.totals = null;\r\n    }\r\n    DefaultTotalCalculator.prototype.getTotals = function () {\r\n        return this.totals;\r\n    };\r\n    DefaultTotalCalculator.prototype.calculate = function (options) {\r\n        console.warn(\"Grand totals and sub totals calculation can be used in Enterprise version only\");\r\n        options = options || {};\r\n        options.maxLevel = options.maxLevel >= 0\r\n            ? options.maxLevel : 0;\r\n        this.totals = new EqTotalsContainer(this.context);\r\n        var query = new Query(this.context.getModel());\r\n        query.loadFromData(this.context.getQuery().toJSONData());\r\n        var columns = query.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag == ExprTag.EntityAttribute; });\r\n        // remove last no-aggr column\r\n        var col = columns.pop();\r\n        if (col)\r\n            query.removeColumn(col, null);\r\n        for (var i = 0; i < columns.length; i++) {\r\n            columns[i].enabled = false;\r\n        }\r\n        this.totals.setTotals(0, new Map());\r\n        if (options.resultsObtained)\r\n            options.resultsObtained(0);\r\n        //totals\r\n        var level = 1;\r\n        var colIdx = 0;\r\n        while (colIdx < columns.length && level <= options.maxLevel) {\r\n            this.totals.setTotals(level, new Map());\r\n            if (options.resultsObtained)\r\n                options.resultsObtained(level);\r\n            colIdx++;\r\n            level++;\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    return DefaultTotalCalculator;\r\n}());\r\nexport { DefaultTotalCalculator };\r\n//# sourceMappingURL=eq_totals_container.js.map","import { HttpClient } from '@easydata/core';\r\nimport { Query } from '../query/query';\r\nimport { DataModel } from '../dm/data_model';\r\nimport { BrowserQueryStorage } from '../main/query_storage';\r\nimport { EqServerModelLoader } from '../eqs/eqs_model_loader';\r\nimport { EqServerDataFetcher } from '../eqs/eqs_data_fetcher';\r\nimport { EqServerQuerySynchronizer } from '../eqs/eqs_query_synchronizer';\r\nimport { EqServerValueListResolver } from '../eqs/eqs_value_list_resolver';\r\nimport { EqQueryFileLoader } from '../eqs/eqs_query_file_loader';\r\nimport { DefaultTotalCalculator } from '../data/eq_totals_container';\r\nvar EqServiceProvider = /** @class */ (function () {\r\n    function EqServiceProvider(context) {\r\n        this.context = context;\r\n        this.modelLoader = null;\r\n        this.queryStorage = null;\r\n        this.querySynchronizer = null;\r\n        this.dataFetcher = null;\r\n        this.valueListResolver = null;\r\n        this.queryFileLoader = null;\r\n        this.totalCalculator = null;\r\n        this.httpClient = new HttpClient();\r\n        this.httpClient.defaultHeaders['x-eqjs-version'] = '7.0.0';\r\n        this.modelResolver = function (_) { return new DataModel(); };\r\n        this.queryResolver = function (context) { return new Query(context.getModel()); };\r\n        this.modelLoaderResolver = function (context) { return new EqServerModelLoader(context); };\r\n        this.queryStorageResolver = function (context) { return new BrowserQueryStorage(context); };\r\n        this.querySynchronizerResolver = function (context) { return new EqServerQuerySynchronizer(context); };\r\n        this.vlrResolver = function (context) { return new EqServerValueListResolver(context); };\r\n        this.dataFetcherResolver = function (context) { return new EqServerDataFetcher(context); };\r\n        this.queryFileLoaderResolver = function (context) { return new EqQueryFileLoader(context); };\r\n        this.totalCalculatoResolver = function (context) { return new DefaultTotalCalculator(context); };\r\n    }\r\n    EqServiceProvider.prototype.reset = function () {\r\n        this.modelLoader = null;\r\n        this.queryStorage = null;\r\n        this.querySynchronizer = null;\r\n    };\r\n    EqServiceProvider.prototype.getHttpClient = function () {\r\n        return this.httpClient;\r\n    };\r\n    EqServiceProvider.prototype.createDataModel = function () {\r\n        if (!this.modelResolver) {\r\n            throw 'Model resolver is not defined';\r\n        }\r\n        return this.modelResolver(this.context);\r\n    };\r\n    EqServiceProvider.prototype.createQuery = function () {\r\n        if (!this.queryResolver) {\r\n            throw 'Query resolver is not defined';\r\n        }\r\n        return this.queryResolver(this.context);\r\n    };\r\n    EqServiceProvider.prototype.getModelLoader = function () {\r\n        if (!this.modelLoader) {\r\n            if (!this.modelLoaderResolver) {\r\n                throw 'ModelLoaderResolver is not defined';\r\n            }\r\n            this.modelLoader = this.modelLoaderResolver(this.context);\r\n        }\r\n        return this.modelLoader;\r\n    };\r\n    EqServiceProvider.prototype.getQueryStorage = function () {\r\n        if (!this.queryStorage) {\r\n            if (!this.queryStorageResolver) {\r\n                throw 'QueryStorageResolver is not defined';\r\n            }\r\n            this.queryStorage = this.queryStorageResolver(this.context);\r\n        }\r\n        return this.queryStorage;\r\n    };\r\n    EqServiceProvider.prototype.getQuerySynchronizer = function () {\r\n        if (!this.querySynchronizer) {\r\n            if (!this.querySynchronizerResolver) {\r\n                throw 'QuerySynchronizerResolver is not defined';\r\n            }\r\n            this.querySynchronizer = this.querySynchronizerResolver(this.context);\r\n        }\r\n        return this.querySynchronizer;\r\n    };\r\n    EqServiceProvider.prototype.getDataFetcher = function () {\r\n        if (!this.dataFetcher) {\r\n            if (!this.dataFetcherResolver) {\r\n                throw 'DataFetcherResolver is not defined';\r\n            }\r\n            this.dataFetcher = this.dataFetcherResolver(this.context);\r\n        }\r\n        return this.dataFetcher;\r\n    };\r\n    EqServiceProvider.prototype.getValueListResolver = function () {\r\n        if (!this.valueListResolver) {\r\n            if (!this.vlrResolver) {\r\n                throw 'Resolver for ValueListResolver is not defined';\r\n            }\r\n            this.valueListResolver = this.vlrResolver(this.context);\r\n        }\r\n        return this.valueListResolver;\r\n    };\r\n    EqServiceProvider.prototype.getQueryFileLoader = function () {\r\n        if (!this.queryFileLoader) {\r\n            if (!this.queryFileLoaderResolver) {\r\n                throw 'Resolver for QueryFileLoader is not defined';\r\n            }\r\n            this.queryFileLoader = this.queryFileLoaderResolver(this.context);\r\n        }\r\n        return this.queryFileLoader;\r\n    };\r\n    EqServiceProvider.prototype.getTotalCalculator = function () {\r\n        if (!this.totalCalculator) {\r\n            if (!this.totalCalculatoResolver) {\r\n                throw 'Resolver for TotalCalculator is not defined';\r\n            }\r\n            this.totalCalculator = this.totalCalculatoResolver(this.context);\r\n        }\r\n        return this.totalCalculator;\r\n    };\r\n    EqServiceProvider.prototype.registerDataModelResolver = function (resolver) {\r\n        this.modelResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryResolver = function (resolver) {\r\n        this.queryResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerModelLoaderResolver = function (resolver) {\r\n        this.modelLoaderResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryStorageResolver = function (resolver) {\r\n        this.queryStorageResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerDataFetcherResolver = function (resolver) {\r\n        this.dataFetcherResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQuerySyncronizerResolver = function (resolver) {\r\n        this.querySynchronizerResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerValueListResolver = function (resolver) {\r\n        this.vlrResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryFileLoaderResolver = function (resolver) {\r\n        this.queryFileLoaderResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerTotalCalculator = function (resolver) {\r\n        this.totalCalculatoResolver = resolver;\r\n    };\r\n    return EqServiceProvider;\r\n}());\r\nexport { EqServiceProvider };\r\n//# sourceMappingURL=eq_services.js.map","import { EasyDataTable } from '@easydata/core';\r\nvar EasyQueryDataLoader = /** @class */ (function () {\r\n    function EasyQueryDataLoader(context) {\r\n        this.context = context;\r\n    }\r\n    EasyQueryDataLoader.prototype.loadChunk = function (params) {\r\n        var _this = this;\r\n        // We have to refactor page logic in view to make it simplier to integrate \r\n        // different grids\r\n        this.dataLoadPromise = new Promise(function (resolve, reject) {\r\n            _this.context.fetchDataChunk({\r\n                chunk: params,\r\n                success: function (result) {\r\n                    var dataTable = new EasyDataTable({\r\n                        loader: _this.context.dataLoader,\r\n                        chunkSize: _this.context.resultTable.chunkSize\r\n                    });\r\n                    var resultSet = result.resultSet;\r\n                    for (var _i = 0, _a = resultSet.cols; _i < _a.length; _i++) {\r\n                        var col = _a[_i];\r\n                        dataTable.columns.add(col);\r\n                    }\r\n                    dataTable.setTotal(result.meta.totalRecords);\r\n                    for (var _b = 0, _c = resultSet.rows; _b < _c.length; _b++) {\r\n                        var row = _c[_b];\r\n                        dataTable.addRow(row);\r\n                    }\r\n                    var totalRecords = 0;\r\n                    if (result.meta && result.meta.totalRecords) {\r\n                        totalRecords = result.meta.totalRecords;\r\n                    }\r\n                    resolve({\r\n                        table: dataTable,\r\n                        total: totalRecords,\r\n                        hasNext: !params.needTotal || params.offset + params.limit < totalRecords\r\n                    });\r\n                },\r\n                error: function (error) { return reject(error); }\r\n            });\r\n        });\r\n        return this.dataLoadPromise;\r\n    };\r\n    return EasyQueryDataLoader;\r\n}());\r\nexport { EasyQueryDataLoader };\r\n//# sourceMappingURL=eq_data_loader.js.map","var EqServerExporter = /** @class */ (function () {\r\n    function EqServerExporter(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerExporter.prototype.setFormat = function (format, responseType) {\r\n        this.format = format;\r\n        this.responseType = responseType;\r\n    };\r\n    EqServerExporter.prototype.export = function (options) {\r\n        options = options || {};\r\n        var http = this.context.getServices().getHttpClient();\r\n        var format = this.format || \"csv\";\r\n        var query = options.query || this.context.getQuery();\r\n        var modelId = query.getModel().getId();\r\n        var data = {\r\n            'query': query.toJSONData(),\r\n            'settings': options.settings\r\n        };\r\n        var url = this.context.resolveEndpoint('ExportResult', { modelId: modelId, format: format });\r\n        var actionResult = http.post(url, data, { responseType: this.responseType });\r\n        var request = actionResult.getRequest();\r\n        return actionResult.then(function (responseData) {\r\n            var blob = new Blob([responseData]);\r\n            var filename = request.getXMLHttpRequest()\r\n                .getResponseHeader(\"Content-Disposition\").match(/filename=\"(.*)\"/)[1];\r\n            if (window.navigator.msSaveOrOpenBlob) {\r\n                // Internet Explorer\r\n                window.navigator.msSaveOrOpenBlob(blob, filename);\r\n            }\r\n            else {\r\n                var a = document.createElement(\"a\");\r\n                document.body.appendChild(a);\r\n                a.style.display = \"none\";\r\n                a.href = window.URL.createObjectURL(blob);\r\n                a.download = filename;\r\n                a.click();\r\n                window.URL.revokeObjectURL(a.href);\r\n                document.body.removeChild(a);\r\n            }\r\n        });\r\n    };\r\n    return EqServerExporter;\r\n}());\r\nexport { EqServerExporter };\r\n//# sourceMappingURL=eqs_exporter.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { EasyDataTable, EventEmitter, utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { EqServiceProvider } from '../common/eq_services';\r\nimport { QueryChangePart } from '../query/query_events';\r\nimport { EqActionResult } from './action';\r\nimport { WidgetGroup } from '../types/widget_group';\r\nimport { equtils } from '../utils/utils';\r\nimport { EqAction } from './eq_actions';\r\nimport { EqServerExporter } from '../eqs/eqs_exporter';\r\nimport { EasyQueryDataLoader } from '../data/eq_data_loader';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { SortDirection } from '../query/column';\r\n/**\r\n * Encapsulates all information about EasyQuery components on some webpage\r\n * and provides some basic operation over those components\r\n * Each context includes the following main components:\r\n *  - one data model,\r\n *  - one query,\r\n *  - one result set\r\n *  - several UI widgets.\r\n */\r\nvar EqContext = /** @class */ (function () {\r\n    function EqContext() {\r\n        var _this = this;\r\n        this.internalListCache = {};\r\n        this.useBootstrap = false;\r\n        this.loadModelOnStart = true;\r\n        this.loadQueryOnStart = false;\r\n        this.calcTotals = false;\r\n        //----------- endpoint processing functions --------------\r\n        this.endpointVarsRegex = /\\{.*?\\}/g;\r\n        this._predefinedListRequestHandlers = {\r\n            '_DSDE': function (params, onResult) {\r\n                var data = _this.getModel().getAllDateMacros()\r\n                    .map(function (macro) {\r\n                    var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n                    return { id: macro, text: i18n.getText(macroName) };\r\n                });\r\n                onResult(data);\r\n                return true;\r\n            },\r\n            '_DSTE': function (params, onResult) {\r\n                var data = _this.getModel().getAllTimeMacros()\r\n                    .map(function (macro) {\r\n                    var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n                    return { id: macro, text: i18n.getText(macroName) };\r\n                });\r\n                onResult(data);\r\n                return true;\r\n            }\r\n        };\r\n        this._listRequestHandler = function (params, onResult) {\r\n            if (params == null || !params.listName)\r\n                return;\r\n            var query = _this.getQuery();\r\n            var newParams = dataUtils.assign({ listName: params.listName }, params.editorParams);\r\n            var procParams = {};\r\n            var attrPattern = /@{{(.+?)}}/;\r\n            for (var prop in newParams) {\r\n                if (!procParams[prop])\r\n                    continue;\r\n                var dynamicParam = newParams[prop].match(attrPattern);\r\n                if (dynamicParam) {\r\n                    var paramValue = query.getOneValueForAttr(dynamicParam[1]);\r\n                    if (!paramValue) {\r\n                        paramValue = '';\r\n                    }\r\n                    procParams[prop] = newParams[prop].replace(attrPattern, paramValue);\r\n                }\r\n            }\r\n            var requestPrams = {\r\n                listName: procParams.listName,\r\n                editorId: params.editorId,\r\n                queryParams: procParams\r\n            };\r\n            var list = _this.getListFromCache(params);\r\n            if (list && list.length > 0) {\r\n                onResult(list);\r\n                return;\r\n            }\r\n            var processed = false;\r\n            var predefinedHandler = _this._predefinedListRequestHandlers[params.editorId];\r\n            if (predefinedHandler) {\r\n                processed = predefinedHandler(params, onResult);\r\n            }\r\n            if (!processed && _this.clientListRequestHandler) {\r\n                processed = _this.clientListRequestHandler(params, onResult);\r\n            }\r\n            if (!processed) {\r\n                _this.loadValueList({\r\n                    params: requestPrams,\r\n                    success: function (data) {\r\n                        if (data) {\r\n                            _this.addListToCache(params, data);\r\n                        }\r\n                        onResult(data);\r\n                    },\r\n                    error: function (message) {\r\n                        onResult(null);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        this.baseEndpoint = 'api/easyquery';\r\n        this.eqServices = new EqServiceProvider(this);\r\n        this.widgets = new Array();\r\n        this.eventEmitter = new EventEmitter(this);\r\n        this.exporters = new Map();\r\n        this.endpoints = new Map();\r\n        this.dataLoader = new EasyQueryDataLoader(this);\r\n        this.resultTable = new EasyDataTable({\r\n            loader: this.dataLoader\r\n        });\r\n        this.resultTable.id = 'ResultTable';\r\n    }\r\n    EqContext.prototype.getServices = function () {\r\n        return this.eqServices;\r\n    };\r\n    EqContext.prototype.registerExporter = function (format, resolver) {\r\n        this.exporters.set(format, resolver);\r\n    };\r\n    EqContext.prototype.getExporter = function (format) {\r\n        var resolver = this.exporters.get(format);\r\n        if (resolver) {\r\n            return resolver(this);\r\n        }\r\n        return null;\r\n    };\r\n    EqContext.prototype.getExportFormats = function () {\r\n        return Array.from(this.exporters.keys());\r\n    };\r\n    EqContext.prototype.addDefaultExporters = function () {\r\n        this.registerExporter('pdf', function (context) {\r\n            var exporter = new EqServerExporter(context);\r\n            exporter.setFormat('pdf', 'arraybuffer');\r\n            return exporter;\r\n        });\r\n        this.registerExporter('excel', function (context) {\r\n            var exporter = new EqServerExporter(context);\r\n            exporter.setFormat('excel', 'arraybuffer');\r\n            return exporter;\r\n        });\r\n        this.registerExporter('excel-html', function (context) {\r\n            var exporter = new EqServerExporter(context);\r\n            exporter.setFormat('excel-html');\r\n            return exporter;\r\n        });\r\n        this.registerExporter('csv', function (context) {\r\n            var exporter = new EqServerExporter(context);\r\n            exporter.setFormat('csv');\r\n            return exporter;\r\n        });\r\n    };\r\n    EqContext.prototype.resolveEndpoint = function (endpointKey, options) {\r\n        options = options || {};\r\n        var result = this.endpoints.get(endpointKey);\r\n        if (!result) {\r\n            throw endpointKey + ' endpoint is not defined';\r\n        }\r\n        var matches = result.match(this.endpointVarsRegex);\r\n        if (matches) {\r\n            for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\r\n                var match = matches_1[_i];\r\n                var opt = match.substring(1, match.length - 1);\r\n                var optVal = options[opt];\r\n                if (!optVal) {\r\n                    if (opt == 'modelId') {\r\n                        optVal = this.getModel().getId();\r\n                    }\r\n                    else if (opt == 'queryId') {\r\n                        optVal = this.getQuery().getId();\r\n                    }\r\n                    else {\r\n                        throw \"Parameter [\" + opt + \"] is not defined\";\r\n                    }\r\n                }\r\n                result = result.replace(match, optVal);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    EqContext.prototype.setEndpoint = function (key, value) {\r\n        this.endpoints.set(key, value);\r\n    };\r\n    EqContext.prototype.setEnpointIfNotExist = function (key, value) {\r\n        if (!this.endpoints.has(key))\r\n            this.endpoints.set(key, value);\r\n    };\r\n    EqContext.prototype.setDefaultEndpoints = function (endpointBase) {\r\n        this.setEnpointIfNotExist('GetModel', equtils.combinePath(endpointBase, 'models/{modelId}'));\r\n        this.setEnpointIfNotExist('GetQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}'));\r\n        this.setEnpointIfNotExist('SaveQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}'));\r\n        this.setEnpointIfNotExist('SyncQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}/sync'));\r\n        this.setEnpointIfNotExist('NewQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries'));\r\n        this.setEnpointIfNotExist('RemoveQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}'));\r\n        this.setEnpointIfNotExist('GetQueryList', equtils.combinePath(endpointBase, 'models/{modelId}/queries'));\r\n        this.setEnpointIfNotExist('FetchData', equtils.combinePath(endpointBase, 'models/{modelId}/fetch'));\r\n        this.setEnpointIfNotExist('GetValueList', equtils.combinePath(endpointBase, 'models/{modelId}/valuelists/{listId}'));\r\n        this.setEnpointIfNotExist('ExportResult', equtils.combinePath(endpointBase, 'models/{modelId}/export/{format}'));\r\n        this.setEnpointIfNotExist('GetQueryFile', equtils.combinePath(endpointBase, 'models/{modelId}/getqueryfile/{format}'));\r\n        this.setEnpointIfNotExist('UploadQueryFile', equtils.combinePath(endpointBase, 'models/{modelId}/uploadqueryfile'));\r\n    };\r\n    /**\r\n     * Initializes the context\r\n     * @param options\r\n     */\r\n    EqContext.prototype.init = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        if (typeof (options.chunkSize) !== 'undefined') {\r\n            this.resultTable.chunkSize = options.chunkSize;\r\n        }\r\n        var query = this.getQuery();\r\n        if (options.defaultQueryId) {\r\n            query.setId(options.defaultQueryId);\r\n        }\r\n        if (options.listCache) {\r\n            this.setExternalListCache(options.listCache);\r\n        }\r\n        if (options.locale) {\r\n            i18n.setCurrentLocale(options.locale);\r\n        }\r\n        if (options.localeSettings) {\r\n            i18n.updateLocaleSettings(options.localeSettings);\r\n        }\r\n        if (options.endpoint) {\r\n            console.warn('`endpoint` option is deprecated and will be ignored. Use context.useEndpoint(endpoint) instead');\r\n        }\r\n        this.setDefaultEndpoints(this.baseEndpoint);\r\n        this.loadQueryOnStart = false;\r\n        if (options.loadQueryOnStart) {\r\n            this.loadQueryOnStart = options.loadQueryOnStart;\r\n        }\r\n        this.loadModelOnStart = true;\r\n        if (typeof options.loadModelOnStart !== 'undefined') {\r\n            this.loadModelOnStart = options.loadModelOnStart;\r\n        }\r\n        if (options.handlers) {\r\n            if (options.handlers.onInit) {\r\n                this.addEventListener('ready', options.handlers.onInit);\r\n            }\r\n            if (options.handlers.afterLoadModel) {\r\n                this.addEventListener('loadModel', options.handlers.afterLoadModel);\r\n            }\r\n            if (options.handlers.afterLoadQuery) {\r\n                this.addEventListener('loadQuery', options.handlers.afterLoadQuery);\r\n            }\r\n            if (options.handlers.afterSyncQuery) {\r\n                this.addEventListener('syncQuery', options.handlers.afterSyncQuery);\r\n            }\r\n            if (options.handlers.afterFetchData) {\r\n                this.addEventListener('fetchData', options.handlers.afterFetchData);\r\n            }\r\n            if (options.handlers.afterExportResult) {\r\n                this.addEventListener('exportResult', options.handlers.afterExportResult);\r\n            }\r\n            if (options.handlers.onProcessStart) {\r\n                this.addEventListener('processStart', options.handlers.onProcessStart);\r\n            }\r\n            if (options.handlers.onProcessEnd) {\r\n                this.addEventListener('processEnd', options.handlers.onProcessEnd);\r\n            }\r\n            if (options.handlers.onError) {\r\n                this.addEventListener('error', options.handlers.onError);\r\n            }\r\n            else {\r\n                this.addEventListener('error', function (context, msg) {\r\n                    msg.result = EqActionResult.Error;\r\n                    var msgTitle = msg && msg ? msg.action + ' error' : 'Error';\r\n                    var msgText = msg && msg.text ? msg.text : '';\r\n                    if (msg.sourceError.message !== msgText) {\r\n                        msgText += '\\n' + msg.sourceError;\r\n                    }\r\n                    console.error(msgTitle + ': ' + msgText);\r\n                });\r\n            }\r\n            if (options.handlers.onListRequest) {\r\n                this.clientListRequestHandler = options.handlers.onListRequest;\r\n            }\r\n            if (options.handlers.beforeLoadModel) {\r\n                this.beforeLoadModel = options.handlers.beforeLoadModel;\r\n            }\r\n            if (options.handlers.beforeLoadQuery) {\r\n                this.beforeLoadQuery = options.handlers.beforeLoadQuery;\r\n            }\r\n            if (options.handlers.beforeSyncQuery) {\r\n                this.beforeSyncQuery = options.handlers.beforeSyncQuery;\r\n            }\r\n            if (options.handlers.beforeFetchData) {\r\n                this.beforeFetchData = options.handlers.beforeFetchData;\r\n            }\r\n            if (options.handlers.beforeExportResult) {\r\n                this.beforeExportResult = options.handlers.beforeExportResult;\r\n            }\r\n        }\r\n        this.calcTotals = options.calcTotals || false;\r\n        this.initialQuery = options.initialQuery;\r\n        this.defaultQueryId = options.defaultQueryId || '';\r\n        this.defaultModelId = options.defaultModelId || '__default';\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        modelLoader.init(options);\r\n        var queryStorage = this.eqServices.getQueryStorage();\r\n        queryStorage.init(options);\r\n        if (options.useDefaultExporters !== false) {\r\n            this.addDefaultExporters();\r\n        }\r\n        //init widgets\r\n        this.widgets.forEach(function (widget) {\r\n            var widgetOptions = {};\r\n            if (options.widgets && options.widgets[widget.getWidgetType()]) {\r\n                widgetOptions = options.widgets[widget.getWidgetType()];\r\n            }\r\n            widget.init(_this, widgetOptions);\r\n        });\r\n        if (this.loadModelOnStart) {\r\n            this.loadDefaultModel();\r\n        }\r\n        else {\r\n            this.fireEvent('ready');\r\n        }\r\n    };\r\n    /**\r\n     * Sets endpoint for all EasyQuery actions. Should be called before `init` and\r\n     * `useEnterprise` methods\r\n     * @param endpoint\r\n     * @example\r\n     * ```\r\n     * view.getContext()\r\n     *     .useEndpoint('/api/easyquery')\r\n     *     .useEnterprise(function () {\r\n     *          view.init();\r\n     *     });\r\n     * ```\r\n     */\r\n    EqContext.prototype.useEndpoint = function (endpoint) {\r\n        this.baseEndpoint = endpoint;\r\n        return this;\r\n    };\r\n    /**\r\n     * Add a new widget to the context.\r\n     * After that the widget will start to receive messages from other context components.\r\n     * @param widget\r\n     */\r\n    EqContext.prototype.addWidget = function (widget) {\r\n        this.widgets.push(widget);\r\n    };\r\n    /**\r\n     * Returns all widgets with current type.\r\n     * @param widgetType The widget type\r\n     */\r\n    EqContext.prototype.getAllWidgetsByType = function (widgetType) {\r\n        return this.widgets\r\n            .filter(function (widget) { return widget.getWidgetType() === widgetType; });\r\n    };\r\n    /**\r\n     * Returns first registerd widget with current type\r\n     * @param widgetType The widget type\r\n     */\r\n    EqContext.prototype.getWidgetByType = function (widgetType) {\r\n        var widgets = this.getAllWidgetsByType(widgetType);\r\n        return widgets.length > 0 ? widgets[0] : null;\r\n    };\r\n    /**\r\n     * This method is called automatically when some change was made either in context's data model or query\r\n     * @param groups\r\n     */\r\n    EqContext.prototype.refreshWidgets = function (groups) {\r\n        if (groups === void 0) { groups = WidgetGroup.All; }\r\n        this.widgets.forEach(function (widget) {\r\n            if (widget.belongsToGroup(groups)) {\r\n                widget.refresh();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Register a new handler for 'query changed' event\r\n     * @param callback\r\n     */\r\n    EqContext.prototype.addQueryChangedCallback = function (callback) {\r\n        this.getQuery().addChangedCallback(callback);\r\n    };\r\n    /**\r\n     * Removes the function from the list of registerd handlers for 'query changed' event\r\n     * @param callback\r\n     */\r\n    EqContext.prototype.removeQueryChangedCallback = function (callback) {\r\n        this.getQuery().removeChangedCallback(callback);\r\n    };\r\n    /**\r\n     * Creates a new query object using the current instance of EqServices\r\n     */\r\n    EqContext.prototype.createQuery = function () {\r\n        return this.eqServices.createQuery();\r\n    };\r\n    /**\r\n     * Gets the current query\r\n     */\r\n    EqContext.prototype.getQuery = function () {\r\n        if (!this.query) {\r\n            this.query = this.createQuery();\r\n        }\r\n        return this.query;\r\n    };\r\n    /**\r\n     * Gets the current data model\r\n     */\r\n    EqContext.prototype.getModel = function () {\r\n        if (!this.dataModel) {\r\n            this.dataModel = this.eqServices.createDataModel();\r\n        }\r\n        return this.dataModel;\r\n    };\r\n    /**\r\n     * Sets the content of the current data model\r\n    */\r\n    EqContext.prototype.loadModelFromData = function (modelPlainData) {\r\n        this.getQuery().loadModelData(modelPlainData);\r\n        this.dataModel = this.getQuery().getModel();\r\n    };\r\n    /**\r\n     * Sets the ID of the default model\r\n     * @param modelId\r\n     */\r\n    EqContext.prototype.setDefaultModelId = function (modelId) {\r\n        this.defaultModelId = modelId;\r\n    };\r\n    /**\r\n     * Notifies context components about starting of some long process (e.g. model loading)\r\n     * This method raises onProcessStart event in the context and all its widgets\r\n     * @param message\r\n     * @param groups\r\n     */\r\n    EqContext.prototype.startProcess = function (message, groups) {\r\n        this.eventEmitter.fire('processStart', message);\r\n        this.widgets.forEach(function (widget) {\r\n            if (widget.belongsToGroup(groups)) {\r\n                widget.onProcessStart();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Notifies all context components about the finishing of some long process\r\n     * @param action\r\n     * @param groups\r\n     */\r\n    EqContext.prototype.endProcess = function (action, groups) {\r\n        this.eventEmitter.fire('processEnd', action);\r\n        if (action.result === EqActionResult.Error) {\r\n            this.throwError(action);\r\n        }\r\n        this.widgets.forEach(function (widget) {\r\n            if (widget.belongsToGroup(groups)) {\r\n                widget.onProcessEnd();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Throws the error passed in the function parameter.\r\n     * If onError event handler is defined - we call that method.\r\n     * Otherwise - just place the error message to the browser console.\r\n     * @param error\r\n     */\r\n    EqContext.prototype.throwError = function (action) {\r\n        action.result = EqActionResult.Error;\r\n        this.eventEmitter.fire('error', action);\r\n    };\r\n    /**\r\n     * If `defaultModelId` property is define - this method calls `loadModel` function in the broker\r\n     * to load the model with such ID.\r\n     *\r\n     */\r\n    EqContext.prototype.loadDefaultModel = function () {\r\n        var _this = this;\r\n        this.loadModel({\r\n            modelId: this.defaultModelId,\r\n            silent: true,\r\n            success: function () {\r\n                _this.refreshWidgets(WidgetGroup.Model);\r\n                var query = _this.getQuery();\r\n                _this.fireEvent('initialModelLoad');\r\n                if (_this.initialQuery) {\r\n                    query.loadFromData(_this.initialQuery, false);\r\n                }\r\n                if (_this.loadQueryOnStart) {\r\n                    _this.loadQuery({\r\n                        queryId: _this.defaultQueryId,\r\n                        modelId: _this.defaultModelId,\r\n                        success: function () {\r\n                            _this.refreshWidgets(WidgetGroup.Query);\r\n                            //if we load query on start - then we should call 'ready' event only after its successful loading\r\n                            _this.fireEvent('ready');\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    _this.refreshWidgets(WidgetGroup.Query);\r\n                    _this.fireEvent('ready');\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Clears the content of the current query\r\n     */\r\n    EqContext.prototype.clearQuery = function () {\r\n        var query = this.getQuery();\r\n        query.clear();\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.All\r\n        });\r\n    };\r\n    /**\r\n     * Clears all query results (the data set and the statement, if any)\r\n     */\r\n    EqContext.prototype.clearResult = function () {\r\n        this.resultTable.clear(); // do not set resultTable to null. Just clear\r\n        this.resultStatement = null;\r\n        this.resultContent = null;\r\n    };\r\n    /**\r\n     * Sets the external 'list cache' provider - an object which implements `ExternalListCache` inteface\r\n     * @param cache\r\n     */\r\n    EqContext.prototype.setExternalListCache = function (cache) {\r\n        this.externalListCache = cache;\r\n    };\r\n    EqContext.prototype.getListFromCache = function (params) {\r\n        var key = this.getListCacheKey(params);\r\n        if (this.externalListCache) {\r\n            return this.externalListCache.get(key);\r\n        }\r\n        else {\r\n            return this.internalListCache[key];\r\n        }\r\n    };\r\n    EqContext.prototype.getListCacheKey = function (params) {\r\n        var key = params.listName == 'SQL' ? 'SQL_' + params.editorId : params.listName;\r\n        if (params.queryParams) {\r\n            key += '_' + Object.keys(params.queryParams).filter(function (k) { return k != 'listName'; })\r\n                .map(function (k) { return params.queryParams[k]; })\r\n                .join('_');\r\n        }\r\n        return key;\r\n    };\r\n    EqContext.prototype.addListToCache = function (params, list) {\r\n        var key = this.getListCacheKey(params);\r\n        if (this.externalListCache) {\r\n            this.externalListCache.set(key, list);\r\n        }\r\n        else {\r\n            this.internalListCache[key] = list;\r\n        }\r\n    };\r\n    /**\r\n     * Clears the current list cache.\r\n     */\r\n    EqContext.prototype.resetListCache = function () {\r\n        if (this.externalListCache) {\r\n            this.externalListCache.clear();\r\n        }\r\n        else {\r\n            this.internalListCache = {};\r\n        }\r\n    };\r\n    /**\r\n     * Gets the handler for 'GetList' requests\r\n     */\r\n    EqContext.prototype.getListRequestHandler = function () {\r\n        return this._listRequestHandler;\r\n    };\r\n    /**\r\n     * Adds the translations of the EasyQuery messages for some locale\r\n     * @param locale - the ISO code of the locale (like `en` or `uk`)\r\n     * @param localeInfo - Locale settings and translations of EasyQuery texts and messages.\r\n     * We expected an object with the struture of LocaleInfo interface here.\r\n     */\r\n    EqContext.prototype.addLocale = function (locale, localeInfo) {\r\n        i18n.addLocale(locale, localeInfo);\r\n    };\r\n    EqContext.prototype.addEventListener = function (eventType, handler) {\r\n        var _this = this;\r\n        return this.eventEmitter.subscribe(eventType, function (event) { return handler(_this, event.data); });\r\n    };\r\n    /**\r\n     * Remove event handler for event type .\r\n     * @param eventType The event type.\r\n     * @param handlerId The handler id.\r\n     */\r\n    EqContext.prototype.removeEventListener = function (eventType, handlerId) {\r\n        this.eventEmitter.unsubscribe(eventType, handlerId);\r\n    };\r\n    EqContext.prototype.fireEvent = function (eventType, data) {\r\n        this.eventEmitter.fire(eventType, data);\r\n    };\r\n    EqContext.prototype.getBaseEndpoint = function () {\r\n        return this.baseEndpoint;\r\n    };\r\n    /**\r\n     * Sends a `loadValueList` requesthe server and processes the response.\r\n     * @param options A map of options to pass to `loadValueList` function.\r\n     */\r\n    EqContext.prototype.loadValueList = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        this.startProcess({\r\n            action: EqAction.GetValueList,\r\n            text: 'Loading values'\r\n        }, WidgetGroup.Result);\r\n        var valueListResolver = this.eqServices.getValueListResolver();\r\n        valueListResolver.loadValueList(options)\r\n            .then(function (values) {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.GetValueList,\r\n                text: 'Values loaded'\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success(values);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var editorId = options && options.params ? options.params.editorId : 'undefined';\r\n            var errorMessage = \"Can't load the value list for editor \" + editorId + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.GetValueList,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Result);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'GetValueList');\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Starts the process of the model loading.\r\n     * This method can initiate a request to EasyQueryServer backend or get the model from OData or GraphQL endpoint\r\n     * The content of the `options` parameter depends on concrete loader implementation.\r\n     * @param options A map of options to pass to `loadModel` function (can be ommited)\r\n     * @example\r\n     * context.loadModel()\r\n     *    .then(model => {\r\n     *       alert(\"Model loaded!\");\r\n     *    });\r\n     */\r\n    EqContext.prototype.loadModel = function (options) {\r\n        var _this = this;\r\n        if (this.beforeLoadModel) {\r\n            this.beforeLoadModel(this, options);\r\n        }\r\n        var modelId = options.modelId || '__default';\r\n        var silent = options.silent || false;\r\n        this.startProcess({\r\n            action: EqAction.LoadModel,\r\n            text: 'Loading model: ' + modelId\r\n        }, WidgetGroup.Model);\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        return modelLoader.startModelLoading(options)\r\n            .then(function (value) {\r\n            if (value) {\r\n                _this.loadModelFromData(value);\r\n            }\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.LoadModel,\r\n                text: 'Model loaded: ' + modelId\r\n            }, WidgetGroup.Model);\r\n            if (!silent) {\r\n                _this.clearQuery();\r\n                _this.clearResult();\r\n                _this.refreshWidgets();\r\n            }\r\n            if (options.success) {\r\n                options.success(_this.getModel());\r\n            }\r\n            _this.fireEvent('loadModel');\r\n            return _this.getModel();\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't load model \" + modelId + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.LoadModel,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Model);\r\n            if (options.error) {\r\n                options.error(errorMessage, \"LoadModel\");\r\n            }\r\n            return _this.getModel();\r\n        });\r\n    };\r\n    EqContext.prototype.callWhenModelLoaded = function (callFunc) {\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        modelLoader.getModelPromise().then(function () {\r\n            callFunc();\r\n        });\r\n    };\r\n    /**\r\n     * Loads the query\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success`, `error` callbacks and `id` option of query to load.\r\n     * @example\r\n     * context.loadQuery({\r\n     *      id: \"query-id\"\r\n     * });\r\n     */\r\n    EqContext.prototype.loadQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        this.clearResult();\r\n        modelLoader.getModelPromise()\r\n            .then(function () {\r\n            options = options || {};\r\n            var queryId = options.queryId;\r\n            var silent = options.silent || false;\r\n            if (_this.beforeLoadQuery) {\r\n                _this.beforeLoadQuery(_this, options);\r\n            }\r\n            _this.startProcess({\r\n                action: EqAction.LoadQuery,\r\n                text: \"Query loading: \" + queryId\r\n            }, WidgetGroup.Query);\r\n            var queryStorage = _this.eqServices.getQueryStorage();\r\n            queryStorage.loadQuery(options)\r\n                .then(function (data) {\r\n                _this.endProcess({\r\n                    result: EqActionResult.Success,\r\n                    action: EqAction.LoadQuery,\r\n                    text: 'Query loaded: ' + queryId\r\n                }, WidgetGroup.Query);\r\n                if (data)\r\n                    _this.query.loadFromData(data);\r\n                _this.query.resetModified();\r\n                if (!silent) {\r\n                    _this.query.fireChangedEvent({\r\n                        part: QueryChangePart.Properties,\r\n                        wasModified: _this.query.isModified()\r\n                    });\r\n                    _this.refreshWidgets();\r\n                }\r\n                _this.fireEvent('loadQuery');\r\n                if (options.success) {\r\n                    options.success(_this.query);\r\n                }\r\n            })\r\n                .catch(function (error) {\r\n                var query = _this.getQuery();\r\n                error.message = \"Can't sync query [\" + query.getId() + \"]\\n\" + (error.message || \"\");\r\n                _this.endProcess({\r\n                    result: EqActionResult.Error,\r\n                    action: EqAction.LoadQuery,\r\n                    text: error.message,\r\n                    sourceError: error\r\n                }, WidgetGroup.Query);\r\n            });\r\n        })\r\n            .catch(function (error) {\r\n            console.error(error);\r\n        });\r\n    };\r\n    /**\r\n     * Loads the list of queries available for the current user.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success`, `error` callbacks\r\n     */\r\n    EqContext.prototype.loadQueryList = function (options) {\r\n        var _this = this;\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        modelLoader.getModelPromise()\r\n            .then(function () {\r\n            _this.startQueryListLoading(options);\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't load the list of available queries.\\n \" + error.message;\r\n            _this.throwError({\r\n                action: EqAction.LoadQueryList,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            });\r\n        });\r\n    };\r\n    EqContext.prototype.startQueryListLoading = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var queryStorage = this.eqServices.getQueryStorage();\r\n        var queryListLoadingPromise = queryStorage.getQueryList(options);\r\n        queryListLoadingPromise\r\n            .then(function (queries) {\r\n            if (options.success) {\r\n                options.success(queries);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't load the list of available queries.\\n \" + error.message;\r\n            if (options.error) {\r\n                options.error(errorMessage, 'LoadQueryList');\r\n            }\r\n            else {\r\n                _this.throwError({\r\n                    action: EqAction.LoadQueryList,\r\n                    text: errorMessage,\r\n                    sourceError: error\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Creates a new query and returns its content back to the client-side.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success`, `error` callbacks and `silent` option\r\n     * @example\r\n     * context.newQuery({\r\n     *    silent: true\r\n     * });\r\n     */\r\n    EqContext.prototype.newQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var clearQuery = typeof options.clearQuery !== 'undefined' ? options.clearQuery : true;\r\n        this.query.reset(clearQuery);\r\n        if (options.queryId) {\r\n            this.query.setId(options.queryId);\r\n        }\r\n        if (options.name) {\r\n            this.query.setName(options.name);\r\n        }\r\n        var silent = options.silent || false;\r\n        var useStorage = true;\r\n        if (typeof options.useStorage !== 'undefined') {\r\n            useStorage = options.useStorage;\r\n        }\r\n        var onNewQuery = function () {\r\n            var query = _this.getQuery();\r\n            query.isNewbie = true;\r\n            if (!silent) {\r\n                query.fireChangedEvent({\r\n                    part: QueryChangePart.All,\r\n                    wasModified: query.isModified()\r\n                });\r\n            }\r\n        };\r\n        if (useStorage) {\r\n            this.startProcess({\r\n                action: EqAction.NewQuery,\r\n                text: 'New query creation...'\r\n            }, WidgetGroup.Query);\r\n            var queryStorage = this.eqServices.getQueryStorage();\r\n            queryStorage.newQuery(options)\r\n                .then(function (queryData) {\r\n                if (queryData) {\r\n                    _this.query.loadFromData(queryData);\r\n                }\r\n                _this.endProcess({\r\n                    result: EqActionResult.Success,\r\n                    action: EqAction.NewQuery,\r\n                    text: 'A new query has been created'\r\n                }, WidgetGroup.Query);\r\n                onNewQuery();\r\n                if (options.success) {\r\n                    options.success();\r\n                }\r\n            })\r\n                .catch(function (error) {\r\n                var errorMessage = \"Can't create a new query.\\n\" + error.message;\r\n                _this.endProcess({\r\n                    result: EqActionResult.Error,\r\n                    action: EqAction.NewQuery,\r\n                    text: errorMessage,\r\n                    sourceError: error\r\n                }, WidgetGroup.Query);\r\n                if (options.error) {\r\n                    options.error(errorMessage, \"NewQuery\");\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            onNewQuery();\r\n        }\r\n        return this.query;\r\n    };\r\n    /**\r\n     * Saves the current query to some storage on the server-side.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success` and `error` callbacks\r\n     */\r\n    EqContext.prototype.saveQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.SaveQuery,\r\n            text: 'Query saving: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryStorage = this.eqServices.getQueryStorage();\r\n        queryStorage.saveQuery(options)\r\n            .then(function (data) {\r\n            _this.endProcess({\r\n                action: EqAction.SaveQuery,\r\n                result: EqActionResult.Success,\r\n                text: \"Query saved: \" + query.getId()\r\n            }, WidgetGroup.Query);\r\n            if (data) {\r\n                query.loadFromData(data);\r\n            }\r\n            query.resetModified();\r\n            query.isNewbie = false;\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't save query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                action: EqAction.SaveQuery,\r\n                result: EqActionResult.Error,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, \"SaveQuery\");\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Removes the current query from some storage on the server-side.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success` and `error` callbacks\r\n     */\r\n    EqContext.prototype.removeQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.RemoveQuery,\r\n            text: 'Query deleting: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryStorage = this.eqServices.getQueryStorage();\r\n        queryStorage.removeQuery(options)\r\n            .then(function () {\r\n            query.reset();\r\n            _this.endProcess({\r\n                action: EqAction.RemoveQuery,\r\n                result: EqActionResult.Success,\r\n                text: \"Query deleted: \" + query.getId()\r\n            }, WidgetGroup.Query);\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't remove query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                action: EqAction.RemoveQuery,\r\n                result: EqActionResult.Error,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'RemoveQuery');\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Syncronizes the current query.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QuerySyncronizer` implementation.\r\n     * Usually it contains `success` and `error` callbacks\r\n     */\r\n    EqContext.prototype.syncQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var query = this.getQuery();\r\n        if (this.beforeSyncQuery) {\r\n            this.beforeSyncQuery(this, options);\r\n        }\r\n        this.startProcess({\r\n            action: EqAction.SyncQuery,\r\n            text: 'Query syncing: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var querySyncrhonizer = this.eqServices.getQuerySynchronizer();\r\n        querySyncrhonizer.syncQuery(options)\r\n            .then(function (result) {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.SyncQuery,\r\n                text: 'Query synced: ' + query.getId()\r\n            }, WidgetGroup.Query);\r\n            _this.resultStatement = result && result.statement\r\n                ? result.statement\r\n                : '';\r\n            _this.refreshWidgets(WidgetGroup.Statement);\r\n            if (result) {\r\n                if (result.querySaved) {\r\n                    var q = result.query;\r\n                    if (q) {\r\n                        query.setId(q.id);\r\n                        query.setName(q.name);\r\n                        query.setDescription(q.desc);\r\n                        query.extraData = q.extraData;\r\n                    }\r\n                    query.resetModified();\r\n                    _this.refreshWidgets(WidgetGroup.QueryStatus);\r\n                }\r\n                _this.fireEvent('syncQuery');\r\n                if (options.success) {\r\n                    options.success(result);\r\n                }\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't synchronize query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.SyncQuery,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'SyncQuery');\r\n            }\r\n        });\r\n    };\r\n    EqContext.prototype.processQueryForTotals = function () {\r\n        var cols = this.query.getUsedInTotalsColumns();\r\n        cols.forEach(function (col) {\r\n            if (col.sorting == SortDirection.None) {\r\n                col.sorting = SortDirection.Ascending;\r\n            }\r\n        });\r\n        cols = this.query.getColumns();\r\n        SortDirection;\r\n        cols.forEach(function (col, index) {\r\n            col.sortIndex = index;\r\n        });\r\n        this.query.fireChangedEvent({\r\n            part: QueryChangePart.Columns,\r\n            wasModified: false\r\n        });\r\n    };\r\n    /**\r\n     * Fetches the data (usuall by executing current query) and processes the result.\r\n     * @param options\r\n     * The `options` parameter in addition to the options defined in ExecuteQueryOptions structure may also contain `success` and `error` callbacks.\r\n     * @example\r\n     * context.fetchData({ success: function(result) {\r\n     *   //do whatever you want with the result\r\n     * }})\r\n     *\r\n     */\r\n    EqContext.prototype.fetchData = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        options.chunk = options.chunk ||\r\n            {\r\n                offset: 0,\r\n                limit: this.resultTable.chunkSize,\r\n                needTotal: true\r\n            };\r\n        if (!this.query.tryValidate({\r\n            checkExpressions: true\r\n        })) {\r\n            return;\r\n        }\r\n        if (this.calcTotals && this.query.hasEnabledAggrColumns()) {\r\n            this.processQueryForTotals();\r\n        }\r\n        this.fetchDataChunk(__assign({}, options, { success: function (result) {\r\n                if (result.statement) {\r\n                    _this.resultStatement = result.statement;\r\n                    _this.refreshWidgets(WidgetGroup.Statement);\r\n                }\r\n                _this.resultContent = result;\r\n                if (result.resultSet) {\r\n                    _this.resultTable.clear();\r\n                    var resultSet = result.resultSet;\r\n                    for (var _i = 0, _a = resultSet.cols; _i < _a.length; _i++) {\r\n                        var col = _a[_i];\r\n                        _this.resultTable.columns.add(col);\r\n                    }\r\n                    _this.resultTable.setTotal(result.meta.totalRecords);\r\n                    for (var _b = 0, _c = resultSet.rows; _b < _c.length; _b++) {\r\n                        var row = _c[_b];\r\n                        _this.resultTable.addRow(row);\r\n                    }\r\n                }\r\n                if (options.success) {\r\n                    options.success(result);\r\n                }\r\n            } }));\r\n    };\r\n    EqContext.prototype.getQueryFile = function (options) {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.GetQueryFile,\r\n            text: 'Getting query file: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryFileLoader = this.getServices().getQueryFileLoader();\r\n        queryFileLoader.getQueryFile(options)\r\n            .then(function () {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.GetQueryFile,\r\n                text: 'Getting query file: ' + query.getId()\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't get file for query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.GetQueryFile,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'GetQueryFile');\r\n            }\r\n        });\r\n    };\r\n    EqContext.prototype.uploadQueryFile = function (options) {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.UploadQueryFile,\r\n            text: 'Uploading query file: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryFileLoader = this.getServices().getQueryFileLoader();\r\n        queryFileLoader.uploadQueryFile(options)\r\n            .then(function (data) {\r\n            query.loadFromData(data);\r\n            _this.refreshWidgets();\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.UploadQueryFile,\r\n                text: 'Uploading query file: ' + query.getId()\r\n            }, WidgetGroup.Result);\r\n            _this.fireEvent('loadQuery');\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't upload a file for query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.UploadQueryFile,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'UploadQueryFile');\r\n            }\r\n        });\r\n    };\r\n    EqContext.prototype.fetchDataChunk = function (options) {\r\n        var _this = this;\r\n        if (this.beforeFetchData) {\r\n            this.beforeFetchData(this, options);\r\n        }\r\n        var queryId = this.getQuery().getId();\r\n        this.startProcess({\r\n            action: EqAction.FetchData,\r\n            text: 'Fetching data for query: ' + queryId\r\n        }, WidgetGroup.Result);\r\n        var queryExecutor = this.eqServices.getDataFetcher();\r\n        queryExecutor.fetchData(options)\r\n            .then(function (result) {\r\n            if (result.statement) {\r\n                _this.resultStatement = result.statement;\r\n            }\r\n            _this.resultContent = result;\r\n            if (_this.calcTotals && _this.query.hasEnabledAggrColumns()) {\r\n                var calculator = _this.getServices().getTotalCalculator();\r\n                calculator.calculate({\r\n                    maxLevel: _this.query.getColumns()\r\n                        .filter(function (col) { return col.expr.tag == ExprTag.EntityAttribute\r\n                        && col.enabled; }).length\r\n                });\r\n            }\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.FetchData,\r\n                text: 'Data fetching finished for query: ' + queryId\r\n            }, WidgetGroup.Result);\r\n            _this.fireEvent('fetchData');\r\n            if (options.success) {\r\n                options.success(result);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Data fetching error for query \" + queryId + \". \\n\" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.FetchData,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Result);\r\n            if (options.error) {\r\n                options.error(errorMessage, EqAction.FetchData);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Fetches the data for a drill-down query (if defined) and processes the result.\r\n     * @param options\r\n     */\r\n    EqContext.prototype.fetchDrillDownData = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        options.chunk = options.chunk ||\r\n            {\r\n                offset: 0,\r\n                limit: this.resultTable.chunkSize,\r\n                needTotal: true\r\n            };\r\n        var query = options.query;\r\n        var queryId = query.getId();\r\n        this.startProcess({\r\n            action: EqAction.FetchData,\r\n            text: 'DrillDown executing: ' + queryId\r\n        }, WidgetGroup.Result);\r\n        var queryExecutor = this.eqServices.getDataFetcher();\r\n        queryExecutor.fetchData(options)\r\n            .then(function (result) {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.FetchData,\r\n                text: 'DrillDown execution error: ' + queryId\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success(result);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Drill-down data fetching error for query \" + queryId + \". \\n\" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.FetchData,\r\n                text: errorMessage,\r\n            }, WidgetGroup.Result);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'DrillDown');\r\n            }\r\n            else {\r\n                _this.throwError({\r\n                    action: EqAction.FetchData,\r\n                    text: errorMessage\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Fetches the data for defined by this context and exports them to the specified format.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `EqExporter` implementation.\r\n     * Usually it contains `format` property which defines the format of the exported data (e.g. `csv`),\r\n     * and `success` and `error` callbacks\r\n     * @example\r\n     * context.exportResult({\r\n     *      format: csv\r\n     * });\r\n     *\r\n     */\r\n    EqContext.prototype.exportResult = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        if (this.beforeExportResult) {\r\n            this.beforeExportResult(this, options);\r\n        }\r\n        var format = options.format;\r\n        if (format) {\r\n            var exporter = this.getExporter(format);\r\n            if (exporter) {\r\n                var queryId_1 = this.getQuery().getId();\r\n                this.startProcess({\r\n                    action: EqAction.ExportResult,\r\n                    text: 'Exporting result for query: ' + queryId_1\r\n                }, WidgetGroup.Result);\r\n                var localeSettings = i18n.getLocaleSettings();\r\n                options.settings = localeSettings;\r\n                exporter.export(options)\r\n                    .then(function (result) {\r\n                    _this.endProcess({\r\n                        result: EqActionResult.Success,\r\n                        action: EqAction.ExportResult,\r\n                        text: \"The result set for query [\" + queryId_1 + \"] has been successfully exported\"\r\n                    }, WidgetGroup.Result);\r\n                    _this.fireEvent('exportResult');\r\n                    if (options.success) {\r\n                        options.success();\r\n                    }\r\n                })\r\n                    .catch(function (error) {\r\n                    var errorMessage = \"Error on exporting data for query  \" + queryId_1 + \". \\n\" + error.message;\r\n                    _this.endProcess({\r\n                        result: EqActionResult.Error,\r\n                        action: EqAction.ExportResult,\r\n                        text: errorMessage,\r\n                        sourceError: error\r\n                    }, WidgetGroup.Result);\r\n                    if (options.error) {\r\n                        options.error(errorMessage, 'ExportResult');\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n    EqContext.prototype.getDefaultTotalsSettings = function () {\r\n        var model = this.getModel();\r\n        var settings = {\r\n            calcGrandTotals: true,\r\n            cols: {}\r\n        };\r\n        var cols = this.getQuery().getUsedInTotalsColumns();\r\n        var prevEntity;\r\n        cols.forEach(function (col, index) {\r\n            settings.cols[col.id] = {};\r\n            var attr = model.getAttributeById(col.expr.value);\r\n            var entity = attr.entity;\r\n            if (prevEntity === entity) {\r\n                settings.cols[cols[index - 1].id].calcSubTotals = false;\r\n            }\r\n            settings.cols[col.id].calcSubTotals = true;\r\n            prevEntity = entity;\r\n        });\r\n        return settings;\r\n    };\r\n    EqContext.prototype.getTotalsSettings = function () {\r\n        var settings = dataUtils.assign(this.getDefaultTotalsSettings(), this.query.innerData.totalsSettings);\r\n        if (this.wereTotalsColumnsChanged(settings)) {\r\n            settings.cols = this.getDefaultTotalsSettings().cols;\r\n        }\r\n        return settings;\r\n    };\r\n    EqContext.prototype.setTotalsSettings = function (settings, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        this.query.innerData.totalsSettings = settings;\r\n        if (!silent) {\r\n            this.query.fireChangedEvent({\r\n                part: QueryChangePart.Properties,\r\n                wasModified: true\r\n            });\r\n        }\r\n    };\r\n    EqContext.prototype.wereTotalsColumnsChanged = function (settings) {\r\n        settings = settings || this.query.innerData.totalsSettings;\r\n        var cols = this.query.getUsedInTotalsColumns();\r\n        var sCols = settings.cols || {};\r\n        if (cols.length != Object.keys(sCols).length)\r\n            return true;\r\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\r\n            var col = cols_1[_i];\r\n            if (typeof sCols[col.id] === 'undefined')\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    return EqContext;\r\n}());\r\nexport { EqContext };\r\n//# sourceMappingURL=context.js.map","import { utils } from '@easydata/core';\r\n/**\r\n * Represents a widget - a visual element with \"knows\" how to render itself.\r\n * Some widgets just display some information from the context (like the generated SQL or the result set).\r\n * Others - allow user to interact with them to define query conditions or columns.\r\n */\r\nvar Widget = /** @class */ (function () {\r\n    /**\r\n     Initializes a new instance of the `Widget` class\r\n     * @param slot - an HTML element in which we should place our widget.\r\n     */\r\n    function Widget(slot) {\r\n        this.slot = slot;\r\n        this._id = utils.generateId(this.getWidgetType());\r\n    }\r\n    Object.defineProperty(Widget.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Initializes the widget and assign it to some context\r\n     * @param context\r\n     * @param options\r\n     */\r\n    Widget.prototype.init = function (context, options) {\r\n        this.context = context;\r\n    };\r\n    /**\r\n     * Returns current context (the one this widget belongs to)\r\n     */\r\n    Widget.prototype.getContext = function () {\r\n        return this.context;\r\n    };\r\n    /**\r\n     * Refreshes the widget's content\r\n     */\r\n    Widget.prototype.refresh = function () {\r\n        this.refreshCore();\r\n    };\r\n    /**\r\n     * This function is called from `refresh` function.\r\n     * It does nothing in the base `Widget` class\r\n     * but can be overridden in derived classes\r\n     * to implement the functionality specific for a particular widget\r\n     */\r\n    Widget.prototype.refreshCore = function () {\r\n    };\r\n    /**\r\n     * This function is called on the start of some process this widget participates in.\r\n     * For example, some widgets can show a spinner or a progress bar\r\n     * at the beginning of some long process (e.g. model loading).\r\n     */\r\n    Widget.prototype.onProcessStart = function () {\r\n        this.onProcessStartCore();\r\n    };\r\n    /**\r\n     * This function is called from `onProcessStart` function.\r\n     * It does nothing in the base `Widget` class\r\n     * but can be overridden in derived classes\r\n     * to implement the functionality specific for a particular widget.\r\n     */\r\n    Widget.prototype.onProcessStartCore = function () {\r\n    };\r\n    /**\r\n     * This function is called on the end of some process this widget participates in.\r\n     * For example, some widgets should be updated on model loading\r\n     * or after the execution of the current query\r\n     */\r\n    Widget.prototype.onProcessEnd = function () {\r\n        this.onProcessEndCore();\r\n    };\r\n    /**\r\n     * This function is called from `onProcessEnd` function.\r\n     * It does nothing in the base `Widget` class\r\n     * but can be overridden in derived classes\r\n     * to implement the functionality specific for a particular widget.\r\n     */\r\n    Widget.prototype.onProcessEndCore = function () {\r\n    };\r\n    /**\r\n     * Returns `true` if the widget belongs to one of the groups specified in the parameter\r\n     * @param groups\r\n     */\r\n    Widget.prototype.belongsToGroup = function (groups) {\r\n        if (typeof groups != 'undefined' && groups != null) {\r\n            if ((groups & this.group) === 0)\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    Widget.prototype.destroy = function () {\r\n        this.destroyCore();\r\n    };\r\n    Widget.prototype.destroyCore = function () {\r\n    };\r\n    return Widget;\r\n}());\r\nexport { Widget };\r\n//# sourceMappingURL=widget.js.map","var EqVersionInfo = /** @class */ (function () {\r\n    function EqVersionInfo(major, minor, update) {\r\n        this.major = major;\r\n        this.minor = minor;\r\n        this.update = update;\r\n    }\r\n    EqVersionInfo.prototype.toString = function () {\r\n        return this.major + \".\" + this.minor + \".\" + this.update;\r\n    };\r\n    return EqVersionInfo;\r\n}());\r\nexport var versionInfo = new EqVersionInfo(6, 2, 0);\r\n//# sourceMappingURL=version_info.js.map","import { i18n } from '@easydata/core';\r\nfunction addEasyQueryCoreTexts() {\r\n    i18n.updateDefaultTexts({\r\n        NewQueryName: '[New query]',\r\n        //DateTime macroses\r\n        Today: 'Today',\r\n        Yesterday: 'Yesterday',\r\n        Tomorrow: 'Tomorrow',\r\n        FirstDayOfMonth: 'First day of the month',\r\n        LastDayOfMonth: 'Last day of the month',\r\n        FirstDayOfWeek: 'First day of the week',\r\n        FirstDayOfYear: 'First day of the year',\r\n        FirstDayOfNextWeek: 'First day of the next week',\r\n        FirstDayOfNextMonth: 'First day of the next month',\r\n        FirstDayOfNextYear: 'First day of the next year',\r\n        Now: 'Now',\r\n        HourStart: 'This hour start',\r\n        Midnight: 'Midnight',\r\n        Noon: 'Noon',\r\n        Entities: {},\r\n        Attributes: {},\r\n        Operators: {},\r\n        AggreateFunctions: {}\r\n    });\r\n}\r\naddEasyQueryCoreTexts();\r\n//# sourceMappingURL=text_resources.js.map","export * from './utils/utils';\r\nexport * from './utils/constants';\r\nexport * from './common/eq_services';\r\nexport * from './common/tree';\r\nexport * from './data/eq_data_loader';\r\nexport * from './data/google_data_converter';\r\nexport * from './data/eq_totals_container';\r\nexport * from './types/data_kind';\r\nexport * from './types/link_type';\r\nexport * from './types/cond_tag';\r\nexport * from './types/cond_part';\r\nexport * from './types/expr_tag';\r\nexport * from './types/eq_editor_tag';\r\nexport * from './types/widget_group';\r\nexport * from './dm/aggr_function';\r\nexport * from './dm/data_model';\r\nexport * from './dm/entity';\r\nexport * from './dm/operator';\r\nexport * from './dm/value_editor';\r\nexport * from './main/eq_actions';\r\nexport * from './main/model_loader';\r\nexport * from './main/query_storage';\r\nexport * from './main/context';\r\nexport * from './main/widget';\r\nexport * from './main/action';\r\nexport * from './query/column';\r\nexport * from './query/condition';\r\nexport * from './query/expression';\r\nexport * from './query/query';\r\nexport * from './query/query_events';\r\nexport * from './eqs/eqs_exporter';\r\nexport * from './eqs/eqs_model_loader';\r\nexport * from './eqs/eqs_data_fetcher';\r\nexport * from './eqs/eqs_query_synchronizer';\r\nexport * from './eqs/eqs_value_list_resolver';\r\nexport * from './eqs/eqs_query_file_loader';\r\nexport * from './utils/format_parser';\r\nexport * from './utils/version_info';\r\n//for backward compatibility\r\nexport { i18n } from '@easydata/core';\r\nimport './i18n/text_resources';\r\n//# sourceMappingURL=public_api.js.map","import { eqCssMobile } from './utils';\r\nexport var browserUtils;\r\n(function (browserUtils) {\r\n    var _isFirefox = null;\r\n    var _isIE = null;\r\n    function IsIE() {\r\n        return eval('/*@cc_on!@*/false || !!document.documentMode');\r\n        // if (_isIE === null) {\r\n        //     const ua = navigator.userAgent;\r\n        //     /* MSIE used to detect old browsers and Trident used to newer ones*/\r\n        //     _isIE = ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n        // }\r\n        // return _isIE;\r\n    }\r\n    browserUtils.IsIE = IsIE;\r\n    function IsFirefox() {\r\n        if (_isFirefox === null) {\r\n            var ua = navigator.userAgent;\r\n            _isFirefox = ua.toLowerCase().indexOf('firefox') > -1;\r\n        }\r\n        return _isFirefox;\r\n    }\r\n    browserUtils.IsFirefox = IsFirefox;\r\n    var _detectedIsMobileMode = false;\r\n    var _isMobileMode = undefined;\r\n    var detectIsMobileMode = function () {\r\n        var oldValue = isMobileMode();\r\n        _detectedIsMobileMode = window.matchMedia('only screen and (max-width: 840px)').matches\r\n            || window.matchMedia('only screen and (max-height: 420px)').matches;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    };\r\n    detectIsMobileMode();\r\n    window.addEventListener('resize', function () { return detectIsMobileMode(); });\r\n    function isMobileMode() {\r\n        if (_isMobileMode !== undefined) {\r\n            return _isMobileMode;\r\n        }\r\n        else {\r\n            return _detectedIsMobileMode;\r\n        }\r\n    }\r\n    browserUtils.isMobileMode = isMobileMode;\r\n    function setIsMobileMode(value) {\r\n        var oldValue = isMobileMode();\r\n        _isMobileMode = value;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    }\r\n    browserUtils.setIsMobileMode = setIsMobileMode;\r\n    var mobileModeChangeHandler;\r\n    function onMobileModeChanged(callback) {\r\n        mobileModeChangeHandler = callback;\r\n    }\r\n    browserUtils.onMobileModeChanged = onMobileModeChanged;\r\n    function getMobileCssClass() {\r\n        return isMobileMode() ? eqCssMobile : null;\r\n    }\r\n    browserUtils.getMobileCssClass = getMobileCssClass;\r\n})(browserUtils || (browserUtils = {}));\r\n//# sourceMappingURL=browser_utils.js.map","import { domel } from '@easydata/ui';\r\nexport function getViewportSize() {\r\n    var width = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n    var height = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\r\n    return {\r\n        width: width,\r\n        height: height\r\n    };\r\n}\r\n// simetimes setting focus in the main thread doesn't work correctly (in Firefox). So we need to 'hack' it.\r\nexport function safeFocus(element) {\r\n    setTimeout(function (_) {\r\n        if (element) {\r\n            element.focus();\r\n        }\r\n    }, 100);\r\n}\r\nexport var eqCssPrefix = 'eqjs';\r\nexport var eqCssMobile = 'eqjs-mobile';\r\nexport function makeElementMaximizable(element) {\r\n    domel(element)\r\n        .addClass(eqCssPrefix + \"-maximizable\")\r\n        .addChild('div', function (b) {\r\n        b.addClass(eqCssPrefix + \"-max-button\")\r\n            .on('click', function (e) {\r\n            e.preventDefault();\r\n            domel(element)\r\n                .toggleClass(eqCssPrefix + \"-maximized\");\r\n        });\r\n    });\r\n}\r\n//# sourceMappingURL=utils.js.map","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","export var browserUtils;\r\n(function (browserUtils) {\r\n    var _isFirefox = null;\r\n    var _isIE = null;\r\n    function IsIE() {\r\n        // return eval('/*@cc_on!@*/false || !!document.documentMode');\r\n        if (_isIE === null) {\r\n            var ua = navigator.userAgent;\r\n            /* MSIE used to detect old browsers and Trident used to newer ones*/\r\n            _isIE = ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n        }\r\n        return _isIE;\r\n    }\r\n    browserUtils.IsIE = IsIE;\r\n    function IsEdge() {\r\n        return !IsIE() && eval('!!window.StyleMedia');\r\n    }\r\n    browserUtils.IsEdge = IsEdge;\r\n    function IsFirefox() {\r\n        if (_isFirefox === null) {\r\n            var ua = navigator.userAgent;\r\n            _isFirefox = ua.toLowerCase().indexOf('firefox') > -1;\r\n        }\r\n        return _isFirefox;\r\n    }\r\n    browserUtils.IsFirefox = IsFirefox;\r\n    var _detectedIsMobileMode = false;\r\n    var _isMobileMode = undefined;\r\n    var detectIsMobileMode = function () {\r\n        var oldValue = isMobileMode();\r\n        _detectedIsMobileMode = window.matchMedia('only screen and (max-width: 840px)').matches\r\n            || window.matchMedia('only screen and (max-height: 420px)').matches;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    };\r\n    detectIsMobileMode();\r\n    window.addEventListener('resize', function () { return detectIsMobileMode(); });\r\n    function isMobileMode() {\r\n        if (_isMobileMode !== undefined) {\r\n            return _isMobileMode;\r\n        }\r\n        else {\r\n            return _detectedIsMobileMode;\r\n        }\r\n    }\r\n    browserUtils.isMobileMode = isMobileMode;\r\n    function setIsMobileMode(value) {\r\n        var oldValue = isMobileMode();\r\n        _isMobileMode = value;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    }\r\n    browserUtils.setIsMobileMode = setIsMobileMode;\r\n    var mobileModeChangeHandler;\r\n    function onMobileModeChanged(callback) {\r\n        mobileModeChangeHandler = callback;\r\n    }\r\n    browserUtils.onMobileModeChanged = onMobileModeChanged;\r\n    function getMobileCssClass() {\r\n        return isMobileMode() ? 'k-mobile' : null;\r\n    }\r\n    browserUtils.getMobileCssClass = getMobileCssClass;\r\n})(browserUtils || (browserUtils = {}));\r\n//# sourceMappingURL=browser_utils.js.map","import { DataType } from \"@easydata/core\";\r\n/**\r\n * Represents Google data table class\r\n */\r\nvar GoogleDataConverter = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param data The table instance or its JSON representation.\r\n     */\r\n    function GoogleDataConverter(data) {\r\n        if (!data) {\r\n            data = {\r\n                cols: [],\r\n                rows: []\r\n            };\r\n        }\r\n        if (typeof data === \"string\") {\r\n            this.loadFromJSON(data);\r\n        }\r\n        else {\r\n            this.tableObj = data;\r\n        }\r\n    }\r\n    /**\r\n     * Loads data table from JSON.\r\n     * @param json The JSON representation.\r\n     */\r\n    GoogleDataConverter.prototype.loadFromJSON = function (json) {\r\n        this.tableObj = JSON.parse(json);\r\n    };\r\n    /**\r\n     * Saves data table to JSON.\r\n     * @returns The JSON representation.\r\n     */\r\n    GoogleDataConverter.prototype.toJSON = function () {\r\n        return JSON.stringify(this.tableObj);\r\n    };\r\n    /**\r\n     * Gets the google data table object.\r\n     * @returns The data table.\r\n     */\r\n    GoogleDataConverter.prototype.getObject = function () {\r\n        return this.tableObj;\r\n    };\r\n    /**\r\n     * Cheсks wether the table is empty\r\n     * @returns `true` if the table is empty, `false` if it is not.\r\n     */\r\n    GoogleDataConverter.prototype.isEmpty = function () {\r\n        return this.getNumberOfColumns() == 0 || this.getNumberOfRows() == 0;\r\n    };\r\n    /**\r\n     * Gets the number of columns\r\n     * @returns The number.\r\n     */\r\n    GoogleDataConverter.prototype.getNumberOfColumns = function () {\r\n        return this.tableObj.cols.length;\r\n    };\r\n    /**\r\n     * Gets the column object.\r\n     * @param colIndex The column index.\r\n     * @returns The column object.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnObject = function (colIndex) {\r\n        return colIndex < this.tableObj.cols.length ? this.tableObj.cols[colIndex] : null;\r\n    };\r\n    /**\r\n     * Gets the column ID.\r\n     * @param colIndex The column index.\r\n     * @returns The column ID.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnId = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.id : null;\r\n    };\r\n    /**\r\n     * Gets the column LABEL.\r\n     * @param colIndex The column index.\r\n     * @returns The column ID.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnLabel = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.label : null;\r\n    };\r\n    /**\r\n     *  Gets the column type.\r\n     * @param colIndex The column index.\r\n     * @returns The column type.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnType = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.type : null;\r\n    };\r\n    /**\r\n     * Gets the column properties.\r\n     * @param colIndex The column index.\r\n     * @returns The column properties.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnProperties = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.p : null;\r\n    };\r\n    /**\r\n     * Gets the number of rows.\r\n     * @returns The number.\r\n     */\r\n    GoogleDataConverter.prototype.getNumberOfRows = function () {\r\n        return this.tableObj.rows.length;\r\n    };\r\n    GoogleDataConverter.prototype.convertValue = function (value, colIndex) {\r\n        var colType = this.googleDataTypeToDataType(this.getColumnType(colIndex));\r\n        if ([DataType.Date, DataType.DateTime, DataType.Time].includes(colType)) {\r\n            return eval(\"new \" + value);\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     *  Gets the value.\r\n     * @param rowIndex\r\n     * @param colIndex\r\n     */\r\n    GoogleDataConverter.prototype.getValue = function (rowIndex, colIndex) {\r\n        var row = rowIndex < this.tableObj.rows.length ? this.tableObj.rows[rowIndex] : null;\r\n        if (row) {\r\n            var cell = colIndex < this.tableObj.cols.length ? row.c[colIndex] : null;\r\n            if (cell) {\r\n                return this.convertValue(cell.v, colIndex);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    GoogleDataConverter.prototype.getRow = function (rowIndex) {\r\n        var _this = this;\r\n        var googleRow = rowIndex < this.tableObj.rows.length ? this.tableObj.rows[rowIndex] : null;\r\n        var googleCells = googleRow.c;\r\n        var row = googleCells.map(function (obj, idx) { return _this.convertValue(obj.v, idx); }, this);\r\n        return row;\r\n    };\r\n    GoogleDataConverter.prototype.convertTo = function (dataTable) {\r\n        var colCount = this.getNumberOfColumns();\r\n        for (var i = 0; i < colCount; i++) {\r\n            dataTable.columns.add({\r\n                id: this.getColumnId(i),\r\n                label: this.getColumnLabel(i),\r\n                type: this.googleDataTypeToDataType(this.getColumnType(i))\r\n            });\r\n        }\r\n        var rowCount = this.getNumberOfRows();\r\n        for (var i = 0; i < rowCount; i++) {\r\n            dataTable.addRow(this.getRow(i));\r\n        }\r\n    };\r\n    GoogleDataConverter.prototype.googleDataTypeToDataType = function (googleDataType) {\r\n        switch (googleDataType) {\r\n            case 'string':\r\n                return DataType.String;\r\n            case 'number':\r\n                return DataType.Float;\r\n            case 'boolean':\r\n                return DataType.Bool;\r\n            case 'date':\r\n                return DataType.Date;\r\n            case 'datetime':\r\n                return DataType.DateTime;\r\n            case 'timeofday':\r\n                return DataType.Time;\r\n            default:\r\n                return DataType.String;\r\n        }\r\n    };\r\n    return GoogleDataConverter;\r\n}());\r\nexport { GoogleDataConverter };\r\n//# sourceMappingURL=google_data_converter.js.map","require('../node_modules/@easyquery/ui/dist/assets/css/easyquery.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eq-icons-default.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/easyquery-mobile.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eqview.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/easychart.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eq-grid.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eq-grid-mobile.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/easyfacets.css');\r\nrequire('../node_modules/@easydata/ui/dist/assets/css/easy-grid.css');\r\nrequire('../node_modules/@easydata/ui/dist/assets/css/easy-dialog.css');\r\nrequire('../node_modules/@easydata/ui/dist/assets/css/easy-forms.css');","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"* {\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv hr {\\r\\n    margin:0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-panel {\\r\\n    background: #f9f9f9;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-panel *, .eqjs-qc-panel *, .eqjs-ep-panel *, .eqjs-cb-panel * {\\r\\n    outline: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-panel *:focus, .eqjs-qc-panel *:focus, .eqjs-ep-panel *:focus, .eqjs-cb-panel *:focus {\\r\\n    border: 1px dotted #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-ep-panel input[type=checkbox]:focus {\\r\\n    outline: 1px dotted #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row-column-entattr.active a:focus {\\r\\n    border-color: white;    \\r\\n}\\r\\n\\r\\n.eqjs-addrow {\\r\\n    padding: 10px 0 0 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-addrow, .eqjs-qc-addrow {\\r\\n\\tflex-grow: 1;\\r\\n}\\r\\n\\r\\n.eqjs-addrow a {\\r\\n    margin: 0 10px;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-addrow-empty {\\r\\n    padding: 5px 0 0 0;\\r\\n}\\r\\n\\r\\n.eqjs-addrow a {\\r\\n    font-weight: bold;\\r\\n    font-size: 13px;\\r\\n    color: #333333;\\r\\n    text-decoration: none;\\r\\n    border-bottom: 1px dashed;\\r\\n}\\r\\n\\r\\n.eqjs-addrow > a:hover{\\r\\n    border-bottom: 1px solid;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-qc-panel {\\r\\n    background: #f9f9f9;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qc-header {\\r\\n    font: normal 15px Calibri;\\r\\n    border-bottom: 1px solid silver;\\r\\n    padding: 0 0 2px 0;\\r\\n    overflow: hidden;\\r\\n    white-space: nowrap;\\r\\n    flex: 0 0 auto;\\r\\n}\\r\\n\\r\\n.eqjs-qc-header div {\\r\\n    font: bold 15px Calibri;\\r\\n    color: #666;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.eqjs-qc-header-expression {\\r\\n    margin-left: 28px;\\r\\n    min-width: 300px;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row {\\r\\n    min-height: 28px;\\r\\n    position:relative;\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-offset {\\r\\n    display: inline-block;\\r\\n    width: 20px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row{\\r\\n    padding-left: 10px;\\r\\n    min-height: 27px;\\r\\n    cursor: pointer;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-qc-col-landing-slot, .eqjs-qp-cond-landing-slot {\\r\\n    border-left: 2px solid #fb9c2f;\\r\\n    border-right: 2px solid #fb9c2f;\\r\\n    height: 18px;\\r\\n    padding: 8px 0;\\r\\n    margin: 0 2px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-col-landing-slot > div, .eqjs-qp-cond-landing-slot > div {\\r\\n    height: 2px;\\r\\n    width: 100%;\\r\\n    background-color: #fb9c2f;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row:hover, .eqjs-qc-row:hover, .eqjs-cb-row:hover, .eqjs-sb-row:hover {\\r\\n    background: #ece9e9;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row.active, .eqjs-qc-row.active, .eqjs-cb-row.active, .eqjs-sb-row.active .eqjs-sortable-helper {\\r\\n    background: #ece9e9;\\r\\n}\\r\\n\\r\\n.eqjs-sortable-helper {\\r\\n    background-color: white;\\r\\n    padding: 3px 20px;\\r\\n    border: 2px solid #fb9c2f;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-group {\\r\\n    margin-left:0px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-group-root {\\r\\n    font-weight: bold;\\r\\n    font-size: 13px;\\r\\n    padding: 0 0 0 10px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-group-root .eqjs-qp-grvalueelement a {\\r\\n    font-size: 13px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-qp-group-root {\\r\\n\\toverflow: auto;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-conditions-root {\\r\\n\\tmax-height: none;\\r\\n}\\r\\n\\r\\n.eqjs-qp-group-root > .eqjs-qp-conditions{\\r\\n    overflow-y: auto;\\r\\n    padding: 0 0 6px 0;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-qp-group {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-condition.eqjs-qp-condition-injoin {\\r\\n    margin-left: 1px;\\r\\n    box-shadow: inset 3px 0px 0px 0px #3abb1b;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-condition.eqjs-qp-condition-parameterized {\\r\\n    margin-left: 1px;\\r\\n    box-shadow: inset 3px 0px 0px 0px #a74cf1;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-condition.eqjs-qp-condition-parameterized.eqjs-qp-condition-injoin {\\r\\n    margin-left: 1px;\\r\\n    box-shadow: inset 3px 0px 0px 0px #a74cf1, inset 4px 0px 0px 0px white, inset 7px 0px 0px 0px #3abb1b;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement {\\r\\n    margin: 5px 8px 0 0;\\r\\n    padding: 1px;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n\\tflex: 0 0 auto;\\r\\n\\toverflow: hidden;\\r\\n\\ttext-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement.eqjs-qp-attrelement-wide {\\r\\n    flex-shrink: 1;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement.eqjs-qp-valueelement {\\r\\n    flex-shrink: 2;\\r\\n}\\r\\n\\r\\n.eqjs-qc-colelement {\\r\\n    display : inline-block;\\r\\n    margin: 3px 8px 0 0;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n.eqjs-qc-hidden .eqjs-qc-colelement {\\r\\n    opacity: 0.5;\\r\\n}\\r\\n\\r\\n.eqjs-qc-expr-block{\\r\\n    display:inline-block;\\r\\n    min-width:300px;\\r\\n    margin-left: 28px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block, .eqjs-qc-params-block span {\\r\\n    display:inline-block;\\r\\n    vertical-align: middle;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block {\\r\\n    margin-right: 8px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block .eqjs-qp-valueelement {\\r\\n    margin-right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block .eqjs-qp-valueelement input[type=\\\"text\\\"] {\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-qc-column-checkbox{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-checkbox.enabled{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-grelement {\\r\\n    margin: 5px 8px 0 0;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    height: fit-content;\\r\\n\\tflex: 0 0 auto;\\r\\n\\twidth: auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement > a, a.eqjs-qp-condelement, .eqjs-qp-grelement > a, a.eqjs-qp-grelement {\\r\\n    border-bottom: 1px dotted #AEAEAE;\\r\\n    color: #0099CC;\\r\\n    text-decoration: none;\\r\\n    white-space: nowrap;\\r\\n\\theight: fit-content;\\r\\n}\\r\\n\\r\\n.eqjs-qc-colelement > a, a.eqjs-qc-colelement {\\r\\n    border-bottom: 1px dotted #AEAEAE;\\r\\n    color: #0099CC;\\r\\n    display: inline-block;\\r\\n    overflow: hidden;\\r\\n    text-decoration: none;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement > a:hover, a.eqjs-qp-condelement:hover, .eqjs-qp-grelement > a:hover, a.eqjs-qp-grelement:hover, .eqjs-qc-colelement > a:hover, a.eqjs-qc-colelement:hover {\\r\\n    border-bottom: 1px solid #aeaeae;\\r\\n}\\r\\n\\r\\n.eqjs-qp-valueelement {\\r\\n\\tflex: 0 1 auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-valueelement a, a.eqjs-qp-valueelement {\\r\\n    color: #074B7A;\\r\\n}\\r\\n\\r\\n.eqjs-qc-attrelement > a, a.eqjs-qc-attrelement {\\r\\n    max-width: 285px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-captionelement > a, a.eqjs-qc-captionelement {\\r\\n    max-width: 285px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-disabled .eqjs-qp-valueelement span, .eqjs-qp-readonly .eqjs-qp-valueelement span{\\r\\n    max-width: 167px;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.eqjs-qp-valueelement input[type=\\\"text\\\"]{\\r\\n    font-size: 15px;\\r\\n    padding: 2px 5px;\\r\\n    border: 1px solid silver;\\r\\n    outline: none;\\r\\n    background: #fff;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    bottom: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-disabled span, .eqjs-qc-disabled span  {\\r\\n    color: #9E9E9E;\\r\\n    font-weight: normal;\\r\\n    margin-bottom: 2px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-readonly span {\\r\\n    color: #333333;\\r\\n}\\r\\n\\r\\n.eqjs-qp-error {\\r\\n    color: red;\\r\\n    font-weight:bold;\\r\\n}\\r\\n\\r\\n.eqjs-qp-ve-loader {\\r\\n    width:16px;\\r\\n    height:11px;\\r\\n}\\r\\n\\r\\n/* levels */\\r\\n.eqjs-qp-level-1 {\\r\\n    padding-left: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-2 {\\r\\n    padding-left: 20px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-3 {\\r\\n    padding-left: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-4 {\\r\\n    padding-left: 40px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-5 {\\r\\n    padding-left: 50px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-6 {\\r\\n    padding-left: 60px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-7 {\\r\\n    padding-left: 70px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-8 {\\r\\n    padding-left: 80px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-9 {\\r\\n    padding-left: 90px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-10 {\\r\\n    padding-left: 100px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-11 {\\r\\n    padding-left: 110px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-12 {\\r\\n    padding-left: 120px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-13 {\\r\\n    padding-left: 130px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-14 {\\r\\n    padding-left: 140px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-15 {\\r\\n    padding-left: 150px;\\r\\n}\\r\\n\\r\\n/* levels end */\\r\\n\\r\\n/* dialog */\\r\\n.eqjs-dialog{\\r\\n    overflow: visible !important;    \\r\\n}\\r\\n\\r\\n.eqjs-qp-ve-subquery{\\r\\n    overflow: visible !important;\\r\\n    overflow: visible !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-buttonsBlock {\\r\\n    width: auto;\\r\\n    display: none;\\r\\n\\tmargin-left: auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row[data-show-buttons] > .eqjs-qp-condition-buttonsBlock {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-column-buttonsBlock{\\r\\n    max-width: 100px;\\r\\n    position: absolute;\\r\\n    right: 3px;\\r\\n    top: 0;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.eqjs-button-placeholder, .eqjs-qp-button-placeholder {\\r\\n\\tmargin: 3px 2px 0 2px;\\r\\n    width: 22px;\\r\\n    height: 22px;\\r\\n}\\r\\n\\r\\n.eqjs-gp-column-button {\\r\\n    width: 23px;\\r\\n    height: 23px;\\r\\n}\\r\\n\\r\\n.eqjs-gp-column-button-menu {\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.eqjs-gp-col-landing-slot {\\r\\n    width: 2px;\\r\\n    background-color: #fb9c2f !important;\\r\\n}\\r\\n\\r\\n.eqjs-qc-sortbutton-placeholder {\\r\\n    float: none;\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\n.eqjs-button {\\r\\n    cursor: pointer;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button, .eqjs-qc-column-button, .eqjs-qc-sortbutton {\\r\\n    cursor: pointer;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row  .eqjs-qc-buttonsBlock {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row  .eqjs-column-sortbutton {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row[data-show-buttons]  .eqjs-qc-buttonsBlock {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row[data-show-buttons]  .eqjs-column-sortbutton {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox.enabled{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-panel {\\r\\n    background: #f9f9f9;\\r\\n    height: 100%;\\r\\n    min-height: 200px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity{\\r\\n    clear: both;    \\r\\n}\\r\\n\\r\\n.eqjs-ep-panel > div.eqjs-ep-entity{\\r\\n    bottom: 41px;\\r\\n    left: 0;\\r\\n    overflow-x: auto;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-filter-box{\\r\\n    left: 0;\\r\\n    padding: 4px;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 0;\\r\\n    height: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-filter-box-input{\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-block{\\r\\n    display: block;\\r\\n    color: black;\\r\\n    font: normal 12px Arial;\\r\\n    margin: 0 10px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node{\\r\\n    border-bottom: 1px solid #E4E4E4;\\r\\n    padding: 3px 0;\\r\\n\\twhite-space:nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-label{\\r\\n    display: inline-block;\\r\\n    cursor: pointer;\\r\\n    font: bold 15px Calibri;\\r\\n    white-space:nowrap;\\r\\n\\tmargin: 0;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-label input{\\r\\n    margin: 0 5px 0 0;\\r\\n\\tvertical-align: bottom;\\r\\n\\tposition: relative;\\r\\n\\ttop: -3px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-block input{\\r\\n    margin: 0 5px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-offset{\\r\\n    display: inline-block;\\r\\n    width: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-attr-label{\\r\\n    color: #333;\\r\\n    font-size: 14px;\\r\\n    font-weight:normal;\\r\\n    padding: 5px 0 0 5px;\\r\\n    display: inline-block;\\r\\n    cursor: pointer;\\r\\n    white-space:nowrap;\\r\\n\\tmargin: 0;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-attr-label.draggable {\\r\\n    cursor: move;\\r\\n}\\r\\n\\r\\n/* root entity attribute class */\\r\\n.eqjs-ep-entity-attr-root {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-attr-label input{\\r\\n    margin: 0 5px 0 0;\\r\\n\\tvertical-align: bottom;\\r\\n\\tposition: relative;\\r\\n\\ttop: -3px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-button{\\r\\n    display:inline-block;\\r\\n    padding: 4px 10px 7px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel{\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    padding-top: 8px;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    height: 41px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel div.eqjs-ep-tool-panel-left-side{\\r\\n    float: left;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel div.eqjs-ep-tool-panel-right-side{\\r\\n    float: right;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel div div{\\r\\n    float: inherit;\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n    cursor: pointer;\\r\\n    margin: 0 10%;\\r\\n}\\r\\n\\r\\n.eqjs-highlight{\\r\\n    height: 20px;\\r\\n}\\r\\n\\r\\n.eqjs-drophover {\\r\\n    border: 1px dotted black;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity > .eqjs-ep-entity-children{\\r\\n    float: left;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-menu-close-btn {\\r\\n    position:absolute;\\r\\n    bottom: 0;\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n    font-size: 1.1em;\\r\\n    width: 100%;\\r\\n    height: 40px;\\r\\n    border-top: 1px solid #666;\\r\\n}\\r\\n\\r\\n.eqjs-menu-rootLevel{\\r\\n    background-color: #888;\\r\\n}\\r\\n\\r\\n.eqjs-menu-levelDiv{\\r\\n    background: #fff;\\r\\n    border: 1px solid silver;\\r\\n    padding: 5px 0;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-menu-searchDiv{\\r\\n    border-bottom: 1px solid silver;\\r\\n    background-color: white;\\r\\n    cursor: pointer;\\r\\n    padding: 5px 10px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-searchBox{\\r\\n    width: 93%;\\r\\n    padding: 2px 5px;\\r\\n    font-weight: normal;\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-searchBox.eqjs-dialog {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-menu-scrollDiv{\\r\\n    min-width: 140px;\\r\\n    white-space: nowrap;\\r\\n    overflow: auto;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-scrollDiv:focus {\\r\\n    outline:none;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv input{\\r\\n    margin: 4px 10px 0 0;\\r\\n    vertical-align: top;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv{\\r\\n    font-size: 1em;\\r\\n    color: #333333;\\r\\n    padding: 5px 10px 5px 20px;\\r\\n    cursor: pointer;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv.eqjs-menu-selected {\\r\\n    padding-left: 3px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv.eqjs-menu-selected:before {\\r\\n    content:  \\\"\\\\2713 \\\";\\r\\n    margin-right: 5px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-arrow {\\r\\n    position: absolute;\\r\\n    right: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-menu-itemDiv-hasChildren{\\r\\n    padding: 5px 20px 5px 20px;\\r\\n    font-size: 1em;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-filter-hasChildren {\\r\\n    padding: 5px 20px 5px 20px;\\r\\n    font-size: 1em;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-highlight {\\r\\n    color: black;\\r\\n    background-color: yellow;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv:hover, .eqjs-menu-itemDiv.active{\\r\\n    background: #ecf3f5;\\r\\n    color: #1776b1;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-text{\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.eqjs-menu-applyDiv{\\r\\n    padding: 5px;\\r\\n    border-bottom: 1px solid silver;\\r\\n    margin: 0 0 5px 0;\\r\\n}\\r\\n\\r\\n.eqjs-menu-applyDiv button{\\r\\n    padding: 0 5px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.eqjs-menu-cancel{\\r\\n    margin: 0 0 0 15px;\\r\\n}\\r\\n\\r\\n\\r\\n/* Columns panel */\\r\\n\\r\\n.eqjs-qc-columns{\\r\\n    overflow-y: auto;\\r\\n    padding: 4px 0;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-drag{\\r\\n    opacity: 0.7;\\r\\n    cursor: n-resize !important;\\r\\n    background: #F1F1F1;\\r\\n    width: 664px;\\r\\n    position:relative;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-drag-forbidden{\\r\\n    background: #F7819F;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-sort{\\r\\n    opacity: 0.7;\\r\\n    cursor: n-resize !important;\\r\\n    background: #E8F3FF;\\r\\n    padding: 0 20px !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-container {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header {\\r\\n    height: 30px;\\r\\n    line-height: 30px;\\r\\n    background-color: grey;\\r\\n    color: white;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-link:hover {\\r\\n    cursor: pointer;\\r\\n    text-decoration: underline;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-fb-querypanelblock {\\r\\n    border: 1px solid #aaa;\\r\\n}\\r\\n\\r\\n.eqjs-fb-querypanel {\\r\\n    background: none repeat scroll 0 0 #f9f9f9;\\r\\n    border-bottom: 1px dotted #AAA;\\r\\n}\\r\\n\\r\\n.eqjs-fb-querypanel > .eqjs-qp-group-root > .eqjs-qp-conditions {\\r\\n    max-height: 200px !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-querypanel .eqjs-qp-addrow {\\r\\n    margin-bottom: 8px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon {\\r\\n    width: 30px;\\r\\n    height: 100%;\\r\\n    display: inline-block;\\r\\n    background-color: #099cff !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon span {\\r\\n    padding-left: 8px;\\r\\n    padding-top: 8px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-arrowblock {\\r\\n    width: 26px;\\r\\n    height: 100%;\\r\\n    display: inline-block;\\r\\n    padding-top: 11px;\\r\\n    padding-left: 6px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-arrow {\\r\\n\\tborder-color: white transparent;\\r\\n\\tborder-style: solid;\\r\\n\\tborder-width: 7px 7px 0px 7px;\\r\\n\\theight: 0px;\\r\\n\\twidth: 0px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-arrowUp {\\r\\n\\tborder-width: 0px 7px 7px 7px !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-textblock {\\r\\n    display: inline-block;\\r\\n    padding-left: 6px;\\r\\n    padding-right: 2px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-textblock a {\\r\\n    color: white;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-text {\\r\\n    display: inline-block;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-fb-buttonsblock {\\r\\n    margin-top: 4px;\\r\\n    margin-bottom: 4px;\\r\\n    padding-left: 4px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button {\\r\\n    -moz-user-select: none;\\r\\n    background-image: none;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 4px;\\r\\n    cursor: pointer;\\r\\n    display: inline-block;\\r\\n    font-size: 14px;\\r\\n    font-weight: 400;\\r\\n    line-height: 1.42857;\\r\\n    margin-bottom: 0;\\r\\n    padding: 2px 12px;\\r\\n    text-align: center;\\r\\n    vertical-align: middle;\\r\\n    white-space: nowrap;\\r\\n    color: #fff;\\r\\n    box-shadow: 0 1px 0 rgba(255, 255, 255, 0.15) inset, 0 1px 1px rgba(0, 0, 0, 0.075);\\r\\n    text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.2);\\r\\n    text-decoration: none;\\r\\n    margin-right:10px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button:hover, .eqjs-fb-button:active, .eqjs-fb-button:focus {\\r\\n    text-decoration: none;\\r\\n    outline: 0 none;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-apply {\\r\\n    background-image: linear-gradient(to bottom, #5cb85c 0px, #419641 100%);\\r\\n    background-repeat: repeat-x;\\r\\n    border-color: #3e8f3e;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-clear {\\r\\n    background-image: linear-gradient(to bottom, #428bca 0px, #2d6ca2 100%);\\r\\n    background-repeat: repeat-x;\\r\\n    border-color: #2b669a;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-apply:hover, .eqjs-fb-button-apply:active, .eqjs-fb-button-apply:focus {\\r\\n    background-color: #419641;\\r\\n    border-color: #3e8f3e;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-clear:hover, .eqjs-fb-button-clear:active, .eqjs-fb-button-clear:focus {\\r\\n    background-color: #2d6ca2;\\r\\n    border-color: #2b669a;\\r\\n}\\r\\n\\r\\n/*  Progress indicator  */\\r\\n.eqjs-progress-win8 {\\r\\n    width: 40px;\\r\\n    height: 40px;\\r\\n    margin: auto;\\r\\n    position: absolute;\\r\\n    top: 0; left: 0; bottom: 0; right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 .wBall {\\r\\n    position: absolute;\\r\\n    width: 38px;\\r\\n    height: 38px;\\r\\n    opacity: 0;\\r\\n    -moz-transform: rotate(225deg);\\r\\n    -moz-animation: orbit 7.15s infinite;\\r\\n    -webkit-transform: rotate(225deg);\\r\\n    -webkit-animation: orbit 7.15s infinite;\\r\\n    -ms-transform: rotate(225deg);\\r\\n    -ms-animation: orbit 7.15s infinite;\\r\\n    -o-transform: rotate(225deg);\\r\\n    -o-animation: orbit 7.15s infinite;\\r\\n    transform: rotate(225deg);\\r\\n    animation: orbit 7.15s infinite;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 .wBall .wInnerBall {\\r\\n    position: absolute;\\r\\n    width: 5px;\\r\\n    height: 5px;\\r\\n    background: #000000;\\r\\n    left: 0px;\\r\\n    top: 0px;\\r\\n    -moz-border-radius: 5px;\\r\\n    -webkit-border-radius: 5px;\\r\\n    -ms-border-radius: 5px;\\r\\n    -o-border-radius: 5px;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_1 {\\r\\n-moz-animation-delay: 1.56s;\\r\\n-webkit-animation-delay: 1.56s;\\r\\n-ms-animation-delay: 1.56s;\\r\\n-o-animation-delay: 1.56s;\\r\\nanimation-delay: 1.56s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_2 {\\r\\n-moz-animation-delay: 0.31s;\\r\\n-webkit-animation-delay: 0.31s;\\r\\n-ms-animation-delay: 0.31s;\\r\\n-o-animation-delay: 0.31s;\\r\\nanimation-delay: 0.31s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_3 {\\r\\n-moz-animation-delay: 0.62s;\\r\\n-webkit-animation-delay: 0.62s;\\r\\n-ms-animation-delay: 0.62s;\\r\\n-o-animation-delay: 0.62s;\\r\\nanimation-delay: 0.62s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_4 {\\r\\n-moz-animation-delay: 0.94s;\\r\\n-webkit-animation-delay: 0.94s;\\r\\n-ms-animation-delay: 0.94s;\\r\\n-o-animation-delay: 0.94s;\\r\\nanimation-delay: 0.94s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_5 {\\r\\n-moz-animation-delay: 1.25s;\\r\\n-webkit-animation-delay: 1.25s;\\r\\n-ms-animation-delay: 1.25s;\\r\\n-o-animation-delay: 1.25s;\\r\\nanimation-delay: 1.25s;\\r\\n}\\r\\n\\r\\n@-moz-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -moz-transform: rotate(180deg);\\r\\n        -moz-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(300deg);\\r\\n        -moz-animation-timing-function: linear;\\r\\n        -moz-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(410deg);\\r\\n        -moz-animation-timing-function: ease-in-out;\\r\\n        -moz-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(645deg);\\r\\n        -moz-animation-timing-function: linear;\\r\\n        -moz-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(770deg);\\r\\n        -moz-animation-timing-function: ease-out;\\r\\n        -moz-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(900deg);\\r\\n        -moz-animation-timing-function: ease-out;\\r\\n        -moz-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -moz-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -moz-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@-webkit-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -webkit-transform: rotate(180deg);\\r\\n        -webkit-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(300deg);\\r\\n        -webkit-animation-timing-function: linear;\\r\\n        -webkit-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(410deg);\\r\\n        -webkit-animation-timing-function: ease-in-out;\\r\\n        -webkit-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(645deg);\\r\\n        -webkit-animation-timing-function: linear;\\r\\n        -webkit-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(770deg);\\r\\n        -webkit-animation-timing-function: ease-out;\\r\\n        -webkit-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(900deg);\\r\\n        -webkit-animation-timing-function: ease-out;\\r\\n        -webkit-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -webkit-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -webkit-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@-ms-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -ms-transform: rotate(180deg);\\r\\n        -ms-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(300deg);\\r\\n        -ms-animation-timing-function: linear;\\r\\n        -ms-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(410deg);\\r\\n        -ms-animation-timing-function: ease-in-out;\\r\\n        -ms-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(645deg);\\r\\n        -ms-animation-timing-function: linear;\\r\\n        -ms-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(770deg);\\r\\n        -ms-animation-timing-function: ease-out;\\r\\n        -ms-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(900deg);\\r\\n        -ms-animation-timing-function: ease-out;\\r\\n        -ms-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -ms-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -ms-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@-o-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -o-transform: rotate(180deg);\\r\\n        -o-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(300deg);\\r\\n        -o-animation-timing-function: linear;\\r\\n        -o-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(410deg);\\r\\n        -o-animation-timing-function: ease-in-out;\\r\\n        -o-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(645deg);\\r\\n        -o-animation-timing-function: linear;\\r\\n        -o-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(770deg);\\r\\n        -o-animation-timing-function: ease-out;\\r\\n        -o-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(900deg);\\r\\n        -o-animation-timing-function: ease-out;\\r\\n        -o-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -o-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -o-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        transform: rotate(180deg);\\r\\n        animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(300deg);\\r\\n        animation-timing-function: linear;\\r\\n        origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(410deg);\\r\\n        animation-timing-function: ease-in-out;\\r\\n        origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(645deg);\\r\\n        animation-timing-function: linear;\\r\\n        origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(770deg);\\r\\n        animation-timing-function: ease-out;\\r\\n        origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(900deg);\\r\\n        animation-timing-function: ease-out;\\r\\n        origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n/*  End of Progress indicator  */\\r\\n\\r\\n\\r\\n\\r\\n/* ColumnsBar START */\\r\\n.eqjs-cb-panel, .eqjs-sb-panel {\\r\\n    display: flex;\\r\\n    background: #f9f9f9;\\r\\n    min-height: 40px;\\r\\n    position: relative;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n}\\r\\n\\r\\n.eqjs-cb-header, .eqjs-sb-header {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns, .eqjs-sb-columns {\\r\\n    position: relative;\\r\\n    white-space: normal;\\r\\n    overflow-y: unset;\\r\\n    min-height: 40px;\\r\\n    padding: 0;\\r\\n    max-height: 1000px !important;\\r\\n}\\r\\n\\r\\n.eqjs-gp-addrow,\\r\\n.eqjs-cb-addrow,\\r\\n.eqjs-sb-addrow {\\r\\n    margin: 5px 2px 2px 2px;\\r\\n    position: relative;\\r\\n    flex: 0 0 auto;\\r\\n    vertical-align: baseline;\\r\\n    height: 23px;\\r\\n    width: 23px;\\r\\n    padding:0;\\r\\n}\\r\\n\\r\\n.eqjs-gp-addrow a,\\r\\n.eqjs-cb-addrow a,\\r\\n.eqjs-sb-addrow a {\\r\\n  background: scroll 0 0 rgba(0, 0, 0, 0);\\r\\n  border-bottom: none;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  margin:0;\\r\\n\\r\\n  text-indent: 100%;\\r\\n  white-space: nowrap;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.eqjs-gp-addrow > a:hover,\\r\\n.eqjs-cb-addrow > a:hover,\\r\\n.eqjs-sb-addrow > a:hover{\\r\\n    border-bottom: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row, .eqjs-sb-row {\\r\\n    position: relative;\\r\\n    height: 27px;\\r\\n    cursor: pointer;\\r\\n    display: inline-block;\\r\\n    margin: 2px;\\r\\n    background-color: white;\\r\\n    border: 1px solid #0099CC;\\r\\n    min-width: 80px;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-disabled {\\r\\n    background-color: lightgray;\\r\\n    border: 1px dotted #999;\\r\\n    color: #999;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-readonly {\\r\\n    background-color: white;\\r\\n    border: 1px dotted #999;\\r\\n    color: #999;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row  .eqjs-cb-buttonsBlock {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row  .eqjs-column-sortbutton {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row[data-show-buttons]  .eqjs-cb-buttonsBlock {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row[data-show-buttons]  .eqjs-column-sortbutton {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.eqjs-cb-expr-block {\\r\\n    display:none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement,\\r\\n.eqjs-sb-colelement {\\r\\n    display: inline-block;\\r\\n    margin: 4px 8px 0 0;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement:first-child,\\r\\n.eqjs-sb-colelement:first-child {\\r\\n    margin-left: 8px !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement > a,\\r\\n.eqjs-sb-colelement > a {\\r\\n    border-bottom: none;\\r\\n    pointer-events: none;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement > a,\\r\\n.eqjs-sb-colelement > a {\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-cb-captionelement input {\\r\\n    margin-top: -4px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-captionelement input:focus {\\r\\n    border: 1px dashed #0099cc;\\r\\n    box-shadow: none;\\r\\n    outline: none;    \\r\\n}\\r\\n\\r\\n.eqjs-cb-row.active a, .eqjs-cb-row:hover a {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.active, .eqjs-cb-row:hover {\\r\\n    background-color: #0099CC;\\r\\n    color: white;\\r\\n    padding-left: 0;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row, .eqjs-cb-row.active, .eqjs-cb-row:hover {\\r\\n    border-radius: 0.25em;\\r\\n    font-size: 75%;\\r\\n    font-weight: 700;\\r\\n    text-align: center;\\r\\n    vertical-align: baseline;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-disabled.active, .eqjs-cb-row.eqjs-cb-disabled:hover {\\r\\n    background-color: lightgray;\\r\\n    color: #666;\\r\\n    border-color: #666;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-readonly.active, .eqjs-cb-row.eqjs-cb-readonly:hover {\\r\\n    background-color: white;\\r\\n    color: #666;\\r\\n    border-color: #666;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row .eqjs-button-placeholder {\\r\\n    margin: 2px 0 2px 1px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.active .eqjs-cb-button-placeholder, .eqjs-cb-row:hover .eqjs-cb-button-placeholder {\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row .eqjs-cb-sortimage-placeholder,\\r\\n.eqjs-sb-row .eqjs-sb-sortimage-placeholder {\\r\\n\\tmargin: 2px 0;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-cb-img-sorting,\\r\\n.eqjs-sb-img-sorting {\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-buttonsBlock {\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    height: 27px;\\r\\n    top: -27px;\\r\\n    max-width: none;\\r\\n    left: 0;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.eqjs-cb-buttonsBlock div {\\r\\n    width: 22px;\\r\\n    height: 22px;\\r\\n    margin: 2px 0 2px 2px;\\r\\n}\\r\\n\\r\\n.eqjs-sortable-helper .eqjs-cb-buttonsBlock {\\r\\n    display: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns,\\r\\n.eqjs-sb-columns {\\r\\n    display: inline-flex;\\r\\n    flex-wrap: wrap;\\r\\n    flex: 1 1 auto;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns .eqjs-highlight,\\r\\n.eqjs-sb-columns .eqjs-highlight {\\r\\n    height: 27px;\\r\\n    top: 2px;\\r\\n    width: 100px;\\r\\n    position: relative;\\r\\n    background: #ffc107 !important;\\r\\n}\\r\\n\\r\\n/* ColumnsBar END */\\r\\n\\r\\n\\r\\n/* QueryName Widget */\\r\\n.eqjs-query-name {\\r\\n    position: relative;\\r\\n    margin-top: 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-text {\\r\\n    white-space: nowrap;\\r\\n    text-overflow: ellipsis;\\r\\n    overflow: hidden;\\r\\n    margin: 0 !important;\\r\\n    padding: 5px 10px 5px 5px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-query-name:hover .eqjs-query-name-text {\\r\\n    box-shadow: none;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-asterisk {\\r\\n    position: absolute;\\r\\n    right: 3px;\\r\\n    top: 0;\\r\\n    z-index: 10000;\\r\\n\\r\\n    color: red;\\r\\n    font-size: 1rem;\\r\\n    font-weight: 700;\\r\\n}\\r\\n\\r\\n.eqjs-query-name .eqjs-query-name-tooltip {\\r\\n    visibility: hidden;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-theme {\\r\\n    font: normal 12pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n/* QueryName Widget END */\\r\\n\\r\\n/* Process Bar start */\\r\\n.eqjs-process-bar {\\r\\n    display: 'none';\\r\\n    height: 4px;\\r\\n    width: 100%;\\r\\n    position: fixed;\\r\\n    top: 0;\\r\\n\\tleft: 0;\\r\\n    z-index: 65000;\\r\\n    overflow: hidden;\\r\\n    background-color: #ddd;\\r\\n  }\\r\\n  .eqjs-process-bar:before{\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    content: \\\"\\\";\\r\\n    left: -200px;\\r\\n    width: 200px;\\r\\n    height: 4px;\\r\\n    background-color: #2980b9;\\r\\n    animation: eqjs-process-bar-loading 2s linear infinite;\\r\\n  }\\r\\n  \\r\\n  @keyframes eqjs-process-bar-loading {\\r\\n      from {left: -200px; width: 30%;}\\r\\n      50% {width: 30%;}\\r\\n      70% {width: 70%;}\\r\\n      80% { left: 50%;}\\r\\n      95% {left: 120%;}\\r\\n      to {left: 100%;}\\r\\n  }\\r\\n\\r\\n  .eqjs-process-bar.local {\\r\\n      position: absolute;\\r\\n      display: 'block';\\r\\n  }\\r\\n/* Process Bar end */\\r\\n\\r\\na.eqjs-disabled {\\r\\n    color: currentColor;\\r\\n    cursor: not-allowed;\\r\\n    opacity: 0.5;\\r\\n    text-decoration: none;\\r\\n} \\r\\n\\r\\n\\r\\ninput.eqjs-invalid {\\r\\n    border:1px solid red !important;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.eqjs-maximized-2window {\\r\\n    position: fixed !important;\\r\\n    background-color: white;\\r\\n    overflow: auto;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    z-index: 1000;\\r\\n    transition: 1s;\\r\\n    padding: 5px;\\r\\n}\\r\\n\\r\\n.eqjs-maximized-2container {\\r\\n    position: absolute !important;\\r\\n    background-color: white;\\r\\n    overflow: auto;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    z-index: 1000;\\r\\n    transition: 1s;\\r\\n}\\r\\n\\r\\n.eqjs-maximizable {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-container-4max {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-max-button {\\r\\n    position: absolute;\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n    background-color: white;\\r\\n    right: 4px;\\r\\n    top: 4px;\\r\\n    z-index: 10000;\\r\\n    border: 1px solid gray;\\r\\n    border-radius: 4px;\\r\\n    cursor: pointer;\\r\\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAr0lEQVQ4jaWTwQ2DMAxFn1EPDMAyVTl1g94Yg7IIWyBVHKrORWfo7yWUyBKKK76UQ+z8/+3EMUkcwSlyyMw64ObCL0lTSMDhCjRABUxICi+gBwQswCwp1kJqowdG4A5cfomg85Cch7Sf1woi5DYnp1gHdFGBGmh38wXnumjgS3I97zp7ge1SNnIfuuBcIHvnENkLLP+SJVFls9IAb+BsZo80/0Wsk/gEPhGChx39zl8oCGZnXNzK6gAAAABJRU5ErkJggg==');\\r\\n    background-position: 3px 3px;\\r\\n    background-repeat: no-repeat;\\r\\n    opacity: 0.6;\\r\\n}\\r\\n\\r\\n.eqjs-max-button:hover {\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.eqjs-maximized > .eqjs-max-button {\\r\\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAvklEQVQ4jaWTuw3CMBCGvz8lygA0rJIBKKMUDJABIhgH5mAAVknDBJT8FHlgmSg2cNLJOp3v870s2/wjxS9BklpJhyyApEpSH9gdcAZKAGyvKtAM1wzQAQa62Z8LWAr+FmDg+OHPANQBYNJ+8is1RkkbYB81/G77BrwBkipgG1x6Alfbj9UXglT7hVTrVIlFANrZFnAK+OlFixo2j2o8m2STl4JHOx8AtMQbNvSkSgFkm/FjlLYvyZojSe5BSl4yFEh5bRiMkwAAAABJRU5ErkJggg==');\\r\\n}\", \"\"]);\n\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-icons-default.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-icons-default.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-icons-default.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".eqjs-qc-column-checkbox {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiUlEQVR42qXM3QYFIRiF4d3dJpIhI5FKJCOSSHe7f9gn4ztZo3Wwzt6HvTbHfhdCeD8Nvw27Ad57OI4xUsA5BwMpJQpYa2Eg50wBYwwMlFIocJ4nDFzXRQGtNQzUWilwHAcMtNYooJSCgd47BaSUMDDGoIAQAgbmnBTgnMPAWosCcP3fDdjZNvABvRhVEQglsV8AAAAASUVORK5CYII=') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-checkbox.enabled {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAuklEQVR42qWScQfFIBTF27dNzIxMxtREkpjE7Nu+98q7U+96T0/nj3Vv55wfsYF0akgfpdTj3+KrM1QAKWVzed93DNi2rRmgtcaAdV1/lowxBDJpRgAhxNeytTafkEk7AizLkk3nHIEZdlCZQQDOeTa99/lMO8ywg9I9AszznM3jONATwAOlDAJM03QHQgj3XN6XPgKM41iFYozk8670EIAx1vgXEHKeJwZQSpsB13VhQHP7rQrQo27AE+MRcBFOD9LhAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-ve-loader {\\r\\n    background: url('data:image/gif;base64,R0lGODlhEAALAPQAAP///xd3sd3q89Tl8Ovz9xx6shd3sUCPvo282G6qzsDZ6TWJu1qex5TA2nGsz8Pb6jmLvBp5sl2gyOjx9tvp8vT4+kmUwd/r8/P3+rzX6KjM4c7i7u/1+QAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable, .eqjs-column-button-enable{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAAWCAYAAAA7FknZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABIhJREFUeNrUmU1s22QYx3+289k2TiFRwpZ2pVn3gSp2GBJIO4BU8bEDQvTKAUaRJg4g7TAuSAxWLgguSBw2IQ4TJ8SBIVGBAE1iHCaQmqFJHUXQ0pRl8bomVZqkTpM4DodkxcxJGruu1DySZeX1x///82O/ed73FWZnZ4eAaWASkIEa1kMEJOAW8DFwEVBPXIdKHYA+4HXgDDDc1NBt6EhAHrgMnKuffixlPJhIJHqWxQW8D5y6z4jdGAbOAyrwGaABLuDlZvuAwYRkU2MQeBUQmntj9CyL2Hx7nIwB4ITBnNT8PeCwzmSXbT3BIgJ+K1fU641t16Le3PR6Y98+/F229QSLi+1OMdxTqDf6A4R7DQ4b1+sIgISASxSoAdXOlrpp6wkWV6d7RSIRwuEwPp8PQWg41fUam+UySvoOa2tZBEHYOmYn3hiPcPqRMEcGfXjExn02tBrKRpkLv9/l4s0saq0Ows6e1F5naZkIQRCIxWJEo1FzSSFK9Pn7OHBgGK1apVAs2DLtEgU+eiLGmUfNGv0uibFgH+8eH2J+rcJ3t/K239heYRFbGY9EIi2NG8PtdjMaH8Xn81k27pUE3hyPtDRuDNnr4sJTD3PoQZ/tJBhZisUii4uLzM3NMT8/j6Io6LruKMu1lSKTPyxy8Is5jn81z/mEwmZN35bFlIhAIEAkEunKhMfjIRwOWzb/5L4AZ491pzEy4GHqcNhWIowsxWKRhYUFcrkc5XIZVVVJp9MsLS2h67ojLD8rRU5+u8DXyRx/58v8llF5L5HmpStLqJrekcWUiGAwiMfj6dpIMBi0bP7FkSD7+rvXeGEkaCsRRpZUKkWtZh7f5XI5stmsIyxv/ZqiUDVrXE7muPRntiOLKRFWP0+v12vZ/NFBn6Uu/6DstZUII4uqqm3Py+fzjrDcyLbX+DGV78iyk5Gn7bBamAjs3eiWRa93ZjElolwuWzJSqVQsm/9r3ZpGslCx9ZCMLH6/v+N/iRMs4w+015iIBTqymBKxvr5OtVrt2si9z9pKzPyzTqbUvcb3qbytRBhZYrEYomjuAGRZJhQKOcLyweMx/C6zxnNDMlNHQh1ZTFcVCgVWV1e7MqFpGplMxrL5K7cLfHKzO427JY1P/8jYSoSRRZZlxsbGkGUZt9uN1+slGo0Sj8eRJMkRlmeGZGZOjvHskEzU7+ZQ0MvZY1G+fDpOwC11ZDEN6HRdZ2VlZdtyTtM0kskkpVLJsnlV0/nwxgqjAx5OHW2vka9ovHY1ydxayVYi7mcJBAJb3dBusUzsDzCxP2CZxdUOYHl5mUqlQigU+l81oev6Vg1eKNgbiQJs1nSmri6zVKzwyuEQcUM1UdJ0ZjMq52bT/JS2r9FLLB3nmhRFQUnfps7O5mDaznQJMH1dYTqhNKZBxd2rj/Y6i2vb6lAQd798FLAzqSdYrnT3MIsIlOjNaDV66lkWkcaaqZNRAH7hv/XiGnCt2e5kfNOirWdZXMA7gBd4HuhnZwvud2gsuF+iscZLc/85EKSx4P4QO1tw3wBmgLdbHO9Zln8HAFmmWehmZmCMAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-delete, .eqjs-column-button-delete{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-addPredicate{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-addCondition, .eqjs-cb-addrow a, .eqjs-sb-addrow a, .eqjs-srtb-addrow a, .eqjs-gp-addrow a{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-gp-column-button-menu,\\r\\n.eqjs-qp-condition-button-menu,\\r\\n.eqjs-column-button-menu{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiUlEQVR42qXM3QYFIRiF4d3dJpIhI5FKJCOSSHe7f9gn4ztZo3Wwzt6HvTbHfhdCeD8Nvw27Ad57OI4xUsA5BwMpJQpYa2Eg50wBYwwMlFIocJ4nDFzXRQGtNQzUWilwHAcMtNYooJSCgd47BaSUMDDGoIAQAgbmnBTgnMPAWosCcP3fDdjZNvABvRhVEQglsV8AAAAASUVORK5CYII=') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox.enabled{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAuklEQVR42qWScQfFIBTF27dNzIxMxtREkpjE7Nu+98q7U+96T0/nj3Vv55wfsYF0akgfpdTj3+KrM1QAKWVzed93DNi2rRmgtcaAdV1/lowxBDJpRgAhxNeytTafkEk7AizLkk3nHIEZdlCZQQDOeTa99/lMO8ywg9I9AszznM3jONATwAOlDAJM03QHQgj3XN6XPgKM41iFYozk8670EIAx1vgXEHKeJwZQSpsB13VhQHP7rQrQo27AE+MRcBFOD9LhAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-button-type{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-sortbutton-none{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-sortbutton-asc{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-sortbutton-desc{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-button{\\r\\n    background: url('data:image/png;base64,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') no-repeat center;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-button-open{\\r\\n    background: url('data:image/png;base64,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') no-repeat center;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-select-all{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-select-all:hover{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-deselect-all{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-deselect-all:hover{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-columns{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-columns:hover{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-cond{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-cond:hover{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon {\\r\\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAAYElEQVQ4jd2SwQ2AQAgEWXuwPlu5r63YnCWMHx+XnJwQfLlfmIEEZHcALBlJyjKjpLrBUt2gF+xJduwHGrE0VxuQ+HBA8g5PJI/w9BH603pP8+kZfyrYzOwsTQBW4PDqF8s0kLND0MqbAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n\\r\\n/* positions */\\r\\n.eqjs-qp-condition-button:hover, .eqjs-column-button:hover, .eqjs-column-sortbutton:hover, .eqjs-cb-addrow > a:hover, .eqjs-sb-addrow > a:hover,  .eqjs-gp-addrow > a:hover{\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable.enabled, .eqjs-column-button-enable.enabled, .eqjs-column-sortbutton-asc, .eqjs-column-sortbutton-desc{\\r\\n    background-position: -51px 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable.enabled:hover, .eqjs-column-button-enable.enabled:hover {\\r\\n    background-position: -76px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable, .eqjs-column-button-enable, .eqjs-qp-condition-button-addCondition, .active .eqjs-column-sortbutton-asc, .active .eqjs-column-sortbutton-desc{\\r\\n    background-position: 0 0;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-apply:hover, .eqjs-fb-button-apply:active, .eqjs-fb-button-apply:focus, .eqjs-fb-button-clear:hover, .eqjs-fb-button-clear:active, .eqjs-fb-button-clear:focus{\\r\\n    background-position: 0 -15px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-img-sorting{\\r\\n    background-position: -56px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-sb-img-sorting{\\r\\n    background-position: 0 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon {\\r\\n\\tbackground-position: 50%;\\r\\n}\\r\\n\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery-mobile.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery-mobile.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery-mobile.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"\\r\\n/* ColumnsBar */\\r\\n.eqjs-mobile .eqjs-cb-row .eqjs-button-placeholder {\\r\\n    margin: 0 2px;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-button-placeholder {\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-mobile,\\r\\n.eqjs-sb-row.eqjs-mobile {\\r\\n    height: auto;\\r\\n    margin: 4px 3px;\\r\\n    padding: 8px 0;\\r\\n    min-width: 55px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement.eqjs-mobile,\\r\\n.eqjs-sb-colelement.eqjs-mobile {\\r\\n    margin: 0 8px 0 0;\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement.eqjs-mobile > a,\\r\\n.eqjs-sb-colelement.eqjs-mobile > a {\\r\\n    vertical-align: inherit;\\r\\n}\\r\\n\\r\\n.eqjs-cb-addrow.eqjs-mobile,\\r\\n.eqjs-sb-addrow.eqjs-mobile {\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n    margin: 4px 4px 0 3px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-addrow.eqjs-mobile a, .eqjs-cb-addrow.eqjs-mobile a:hover,\\r\\n.eqjs-sb-addrow.eqjs-mobile a, .eqjs-sb-addrow.eqjs-mobile a:hover {\\r\\n    background-position: 0 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns.eqjs-mobile,\\r\\n.eqjs-sb-columns.eqjs-mobile {\\r\\n    padding: 5px 3px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-panel.eqjs-mobile,\\r\\n.eqjs-sb-panel.eqjs-mobile {\\r\\n    padding: 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row .eqjs-cb-sortimage-placeholder.eqjs-mobile,\\r\\n.eqjs-sb-row .eqjs-sb-sortimage-placeholder.eqjs-mobile {\\r\\n    margin: -3px 0 0 0;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/* Buttons */\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile {\\r\\n    position: absolute;\\r\\n    right: 3px;\\r\\n    left: 3px;\\r\\n    height: 54px;\\r\\n    border: 1px solid #0099cc;\\r\\n    border-radius: 6px;\\r\\n    background-color: #FFFFE0;\\r\\n    z-index: 10000;\\r\\n    transform: translate(0, -32px);\\r\\n    max-width: none;\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile.show-below {\\r\\n    transform: translate(0, 14px);\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile i {\\r\\n    position: absolute;\\r\\n    top:100%;\\r\\n    margin-left:-20px;\\r\\n    width:40px;\\r\\n    height:20px;\\r\\n    overflow:hidden;\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile.show-below i {\\r\\n    position: absolute;\\r\\n    top:initial;\\r\\n    bottom:100%;\\r\\n    margin-left:-20px;\\r\\n    width:40px;\\r\\n    height:20px;\\r\\n    overflow:hidden;\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile i::after {\\r\\n    content: '';\\r\\n    position: absolute;\\r\\n    background-color: #FFFFE0;\\r\\n    border: 1px solid #0099cc;\\r\\n    width:20px;\\r\\n    height:20px;\\r\\n    left:50%;\\r\\n    transform:translate(-50%,-50%) rotate(45deg);\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile.show-below i::after {\\r\\n    content: '';\\r\\n    position: absolute;\\r\\n    background-color: #FFFFE0;\\r\\n    border: 1px solid #0099cc;\\r\\n    width:20px;\\r\\n    height:20px;\\r\\n    left:50%;\\r\\n    transform:translate(-50%,50%) rotate(45deg);\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-cb-addrow.eqjs-mobile a,\\r\\n.eqjs-sb-addrow.eqjs-mobile a {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxOTY2MUFDRUZDQkUxMUU5OTc2N0I1NUVGNTkwRDY1NSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxOTY2MUFDREZDQkUxMUU5OTc2N0I1NUVGNTkwRDY1NSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0Nzk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pg3rCBgAAADfSURBVHjaYmSYdZ4BCuyBuAiIjYFYmoG64CkQnwXiPiA+CBJggkpUAPEBIPajgaUMUDP9oHaA7GJgBPoY5NO9QMzMQB/wF4gdQD5uoaOlDFC7WkAW6zLQHxiALOYfAIv5mRgGCLCQl0Z5Gf57KcO5jLMvkGzEgPl41OLhbzHeVK1jIM5w2VSSoCH/Uw2wijNuuwusHj6PBjUDrHb6P1qAjFo8mqpHg5pci78PgL3fmaAtfHqDsyCLOwbA4g6QxVuBeCIdLQXZtRWWuAqAOAiIT0G7GLQAp6B2gOxiAAgwAF/XKrMmSkwEAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-sortbutton-none {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFRjY4REE1MkZGRjQxMUU5OEQ5NEYxQkE0MzU3MTAzMiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFRjY4REE1MUZGRjQxMUU5OEQ5NEYxQkE0MzU3MTAzMiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiNTCjUAAAFjSURBVHjaYvz//z/DQAAmhgECoxYPf4tZiFH09cT1/zxfRRm+OoswcDEwMKLL3997+b/Svb9QHgdDY6oGQx0WdaRZfPv2f56rPxkY/j1j4ObnZfhvwk6HoP716n/Fma9AS0EcIHHlPsPktwz/aWzxl/+bdzxn6PyCJPT7B0Pe7nsMhxgotxynxd+OPmLwe4nF/M+fGez3vmH4RqHlOC3mstZi/J9qwLhJHMl8Hl6Gg6n6DP+dRRi5CCSe0Xw8avGoxSSB/5du/WdcBCynH/1DEv3JUL/oMgPjhgf/L+DJ6xRZzKgnxbBJAGjpH2TzgezfzAzZxgoMBnjyOoVBzcPo6yHJUMvLiGqkrgLDFFn8BQzlccwmxthkzIUwSVaM4asZF50Sl6oq4xddYHXJy8twwEmCgZjilJFQ8/bHu0//X/6Exh4TG4OYOAcOg//8//mLhYGdjbgynHG0XT1q8bCzGCDAABDGbp/Wh83TAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button-delete {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0M5OTk3NUZGRjgxMUU5QjhCMkI2NjIxRDY0M0I4QyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0M5OTk3NEZGRjgxMUU5QjhCMkI2NjIxRDY0M0I4QyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrtIPjoAAAU2SURBVHja7Fc7bxxVFD73Me9d79rrtR3HNo7j4DyQwkMBoggBAhIqoAEJKT8AiTQUVCEFEjVEiIoCEYmCKlaKSAEKIKA0QRGPSImMY0LidWJ77X3YM7Mzcx+cGdshFGu020RCjDSemb33nud3vnNMtNbwIC4KD+hqqzhJEhAiwTd1/01AiWx9ph6++MHVyodrfvhkHG/t0wS0BMBzGr+VVm0V83+3jWw8lBqtRuJgKBSLdESmfl1+C36rHjMBeo/tKJTLNk9cThtFRq4Coz7Bcxrap5G0y7EQAjgjttQwer3ZOjA933jz1Fz9MPhyAMLEghjPUYaOSQKcCihYGjzyw/vDuS+PT/bPTOTMWRRfaRfUtorR2p7rteCFd6+vnDw/U3scGjE6gUIY3gSjwEh6ejPC+BR4S/zg+HvZbpza2/fFicnC6QHXne1IcUuK145cnHvvypXqY+CaAiwmMWkhhlyiASY6shFLkrnENq1N9yR4OAdMm5+8NH767YcH3+kox7hAjw/mZq8U60P4YaNrHMIoQu9qYBs2KnEgkQY4RoTKOUjNMAUUTaiCxzHsFkzlrahjVHPGvn1luPcsULMMPimAZzdgsjQLnleGiA1D3gXYO7AAxOjD7z5wHQ77B+bAccchIH1g8Jv7PD7deR0rWcOCWMQ3E/PHD4zkr1WfHv4IcsYN8IV9aKzndnBk9FPIWXUEmtE7Vvx58fDY59DvRBBh2bnWqq/o750rRoyYjKyCxVdSALmM3yoVvJ8gj/nG+hwzObUY5bgvSEH2qsPuOpz/gjn202RDzuRlk9ldMBcBA0gNqF5IBV2OxSj+VkJDwgx8SvNIqBzmPCt0lxFvXUgTgcVT5Jc5kwUDAdm5xxQMkxvQYysQeD6WeWSlXpBSbBXEJl2litWAySpBnDBYi/LAGOznpEUZtLrymAER6HEukx2rWmrMbs8upHWsNz3dukaZEqEmLuKBplL7KAmRYJKumoRBiQ82n8kIIomHNOZ2ymAL6do/YsiIHPPsSisRg0jXBhoLEyYJcCXuUjHI5wyymIElUMSPZXHEgMJGlO9XTPVOx7yzHCcNiNBJi8OenNXESHWRY1RmM6Kf7XN1RpGa9PsS7JLF7gClGUNubkPuIsomenFFUittUCltjpntw7y94kwwIfs8U2MTAPSkWI9FLZb6Uhp65EhK/g41Ehgbx/VnshxYfG3QNea2k78NqrH1Kli/G0TfZLsEyKVEV7mSy1jHWpHNszqTwlxKdi1FcmeGB07rBU6WulOcLlIiV9bCaygoDXchULDrIdeU6JFMG9E9XBOq0M7WNT++kxUXhcCkUEnniY4HAfL9H2nzB6gFEYaygYxUbCk1NOqaMYKJJ+j1vapTSaCVvMwJncg8ZrTu0BSU3eT4VgNgfh1DjLVs8zUkEKgJtSiVvI1GBJQQjmE2UBHFltkwDOO7eaz6LPQ2lSXb9LtT3I80228BFLCoXM6xBUIoZG7Cs0Kss9gB3XIs9mc2BfTYC4zRQz821/dlQNQYp1hWt1PcNtRP5M3sWWIk+lrAItbPjjOV5uurQXQDc2p9tbwup2+uHoRQerht4uytlRPQTHaDgXiP4/nPZu6KJiLw5MGRzkYfH4mAYMHUomRo5FLlDFxdPYqdSSMrYbckKB2fWL9YPjwjlHQeEfhXKv38UzvOnX908A2c15KcwTrz2DM2ZiuLGNGFR0oXXkZahJvNKSRBJ503Mv4W2eCjN97RPa4bsCd/8ePJ4jmHI4FsM96S//+T+M8r/kuAAQDKIU6GdlAyfgAAAABJRU5ErkJggg==') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button-type {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCOTNBODU2MEZGRjIxMUU5ODE5RkZDNzk3MDE3MkFDNSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCOTNBODU1RkZGRjIxMUU5ODE5RkZDNzk3MDE3MkFDNSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pud7uPcAAAEMSURBVHjaYvz//z/DQAAmhgECA2YxCzGKGGdfINY8Byh9ACbwP9WAZj5WAOIFIDuAeD8U/4eK0SyoE4D4PhDHY5EDiTXQwmKQpfOR+BeBOBCIE5HEDCiKYxxxiWzpQqhDYKAAiPXxBTe5Fi/AYynMp6C4f0DNoA4AYnko+yEWS2HgAbUTVwASu4GeBUgAkm8X0MtiUKLih7I30LzkwhHMH9CC+gIpjiHW4gaopfpIYvVoag7SwuJ6ItQcoEVQF0ILBXm0hHWAHEtJsXgCNF+uRypAGihJXKSkagNyg5VSixWILZWGjcX2UPojPdtcDmgFxYA09uhq8QVoC+MjpWU0vAE52qAftZhWACDAAKIDOGACHIO9AAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button-close-block {\\r\\n    position: absolute;\\r\\n    right: 2px;\\r\\n    top: 2px;\\r\\n    width: 12px;\\r\\n    height: 12px;\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU5Q0M5MDJCRkZFRDExRTlBRUJCODkzNTI5RUEzRTUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU5Q0M5MDJDRkZFRDExRTlBRUJCODkzNTI5RUEzRTUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTlDQzkwMjlGRkVEMTFFOUFFQkI4OTM1MjlFQTNFNTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTlDQzkwMkFGRkVEMTFFOUFFQkI4OTM1MjlFQTNFNTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz45TUrxAAAAuUlEQVR42mL8//8/AymABURsZTQyB1L2QNyFQ10ZEB/1/n/uKBNUwAmIO4G4B4viPqicC9wGqIAwEBcDMSOUhikuhNKtyBr+AXEJEINsLALiH1CNhVBbS1H8gARAir8DcRWU3wbE1cgKmLC4mREHG6sNMDe3QRVXAjEb1LkoGpigboW5GeYMNmgAMEP98YcFKZxBinuRPQg1GaS4AIg/AHEjTMNhIK4F4hYsfgIZ9BaqhoGR1KQBEGAAmoYoMbhpLS4AAAAASUVORK5CYII=') no-repeat;\\r\\n    background-position: 0 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button {\\r\\n    width: 38px;\\r\\n    height: 38px;\\r\\n    margin: 7px 0 0 7px;\\r\\n    border: 1px solid #0099cc;\\r\\n    border-radius: 5px;\\r\\n    background-color: white;\\r\\n    background-position: 50% 50% !important;\\r\\n}\\r\\n/* Buttons end */\\r\\n/* ColumnsBar - end */\\r\\n\\r\\n\\r\\n/* QueryPanel */\\r\\n\\r\\n.eqjs-qp-panel.eqjs-mobile {\\r\\n    padding-left: 0;\\r\\n    padding-right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-conditions-root.eqjs-mobile {\\r\\n    max-height: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row.eqjs-mobile {\\r\\n    background-color: white;\\r\\n    border: 1px dotted lightgray;\\r\\n    border-radius: 4px;\\r\\n    margin-bottom: 4px;\\r\\n    padding: 10px;\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement.eqjs-mobile, .eqjs-mobile a.eqjs-qp-grelement, .eqjs-mobile .eqjs-qp-grelement, .eqjs-mobile .eqjs-qp-condelement {\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row.eqjs-mobile.active {\\r\\n    border: 1px solid #0099cc;\\r\\n}\\r\\n\\r\\n.eqjs-qp-conditions.eqjs-mobile {\\r\\n    border-left: 1px dotted lightgray;\\r\\n    margin-left: 3px;\\r\\n    padding-left: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-qp-condition-buttonsBlock.eqjs-mobile {\\r\\n    position: absolute;\\r\\n    top: 3px;\\r\\n    right: 3px;\\r\\n    background-color: transparent;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-qp-condition-button-menu {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-qp-valueelement input[type=\\\"text\\\"] {\\r\\n    top: auto;\\r\\n    bottom: auto;\\r\\n    width: 100%;\\r\\n    height: 1.2rem;\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n/* QueryPanel end */\\r\\n\\r\\n/* ColumnsPanel */\\r\\n\\r\\n.eqjs-qc-panel.eqjs-mobile {\\r\\n    padding-left: 0;\\r\\n    padding-right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qc-columns.eqjs-mobile {\\r\\n    max-height: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row.eqjs-mobile {\\r\\n    background-color: white;\\r\\n    border: 1px dotted lightgray;\\r\\n    border-radius: 4px;\\r\\n    margin-bottom: 4px;\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-colelement.eqjs-mobile, .eqjs-qc-colelement.eqjs-mobile > a {\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row.eqjs-mobile.active {\\r\\n    border: 1px solid #0099cc;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-column-buttonsBlock.eqjs-mobile {\\r\\n    top: 3px;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-column-button-menu {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-qc-expr-block.eqjs-mobile {\\r\\n    min-width: unset;\\r\\n    margin-left: 0;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-qc-button-placeholder {\\r\\n    width: 22px;\\r\\n    height: 22px;\\r\\n}\\r\\n\\r\\n/* QueryPanel end */\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eqview.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eqview.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eqview.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/*setting to all page */\\r\\n#eqv-main{\\r\\n    width:1174px;\\r\\n    background: #fff;\\r\\n    margin:auto;\\r\\n    padding-top:10px;\\r\\n}\\r\\n\\r\\n/* error text */\\r\\n.eqv-error, .eqv-error div{\\r\\n    color: Red;\\r\\n    font: normal 20px Calibri;\\r\\n}\\r\\n\\r\\n/* title */\\r\\n.eqv-title{\\r\\n    float: left;\\r\\n    background: url('data:image/png;base64,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') no-repeat center left;\\r\\n    padding: 0 0 0 35px;\\r\\n    color: #3A94D4;\\r\\n    font: bold 25px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n}\\r\\n\\r\\n/* sub-title*/\\r\\n.eqv-sub-title{\\r\\n    margin: 14px 0 0 10px;\\r\\n    float: left;\\r\\n    font: bold 11px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n\\tcolor: #3a94d4;\\t\\r\\n}\\r\\n\\r\\n/* header */\\r\\n.eqv-header{\\r\\n    display:block;\\r\\n    height:40px;\\r\\n}\\r\\n\\r\\n.eqv-global-message {\\r\\n    display: none;\\r\\n    background-color: coral;\\r\\n    border-radius: 10px;\\r\\n    color: white;\\r\\n    float: right;\\r\\n    padding: 5px 10px 8px;\\r\\n}\\r\\n\\r\\n.eqv-header-panel{\\r\\n    height: 494px;\\r\\n}\\r\\n.eqv-header-panel > div{\\r\\n    height: 494px;\\r\\n    margin: 0 0 20px 0;\\r\\n}\\r\\n\\r\\n/* content */\\r\\n#eqv-content{\\r\\n    background: #f6f6f6;\\r\\n    border:2px solid #dedede;\\r\\n    padding:20px;\\r\\n}\\r\\n\\r\\n.eqv-hr{\\r\\n    height: 6px;\\r\\n    border: none;\\r\\n    margin: 0 0;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-bottom-panel{\\r\\n    height : 313px;\\r\\n}\\r\\n\\r\\n.eqv-bottom-panel > div{\\r\\n    height : 287px;\\r\\n    margin: 0 0 20px 0;\\r\\n}\\r\\n\\r\\n/* central block */\\r\\n.eqv-central-block{\\r\\n    width: 59%;\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n/* copyright */\\r\\n#eqv-footer{\\r\\n    margin: 10px 0;\\r\\n    padding: 0 0 20px 0;\\r\\n    font: normal 12px Calibri;\\r\\n    color: #000;\\r\\n}\\r\\n\\r\\n.eqv-copyright{\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.eqv-power-by{\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.eqv-copyright a, .eqv-power-by a{\\r\\n    color: #237901;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/* entities panel */\\r\\n\\r\\n.eqv-entities-block{    \\r\\n    width: 20%;\\r\\n    float: left;\\r\\n    margin: 0 20px 0 0 !important;\\r\\n    background: #fff;\\r\\n    border: 1px solid silver;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqv-entities-hr{\\r\\n    background: #7BC4F8;\\r\\n}\\r\\n\\r\\n.eqv-entities-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #7BC4F8;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n.eqv-entities-panel-container {\\r\\n    position:absolute;\\r\\n    left:0;\\r\\n    right:0;\\r\\n    bottom: 0;\\r\\n    top:44px;\\r\\n}\\r\\n\\r\\n\\r\\n/* conditions block */\\r\\n.eqv-query-panel-container {\\r\\n    position:absolute;\\r\\n    left:0;\\r\\n    right:0;\\r\\n    bottom: 0;\\r\\n    top:44px;\\r\\n}\\r\\n\\r\\n.eqv-conditions-block{\\r\\n    background: white;\\r\\n    border: 1px solid silver;\\r\\n    height: 294px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqv-conditions-hr{\\r\\n    background: #1777B1;\\r\\n}\\r\\n\\r\\n.eqv-conditions-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #1777B1;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n/* columns block */\\r\\n.eqv-columns-block, .eqv-columns-sorting-block{\\r\\n    background: white;\\r\\n    border: 1px solid silver;\\r\\n    height: 180px;\\r\\n    margin: 0 0 20px 0;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqv-columns-sorting-block {\\r\\n    height: auto;\\r\\n    margin-top: -21px;\\r\\n}\\r\\n\\r\\n.eqv-columns-hr{\\r\\n    background: #1777B1;\\r\\n}\\r\\n\\r\\n.eqv-columns-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #1777B1;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n.eqv-columns-panel-container {\\r\\n    position:absolute;\\r\\n    left:0;\\r\\n    right:0;\\r\\n    bottom: 0;\\r\\n    top:44px;\\r\\n}\\r\\n\\r\\n.eqv-columns-sorting-title {\\r\\n    z-index: 1000;\\r\\n    position: absolute;\\r\\n    top: -12px;\\r\\n    left: 20px;\\r\\n    background-color: white;\\r\\n    padding: 0 10px 2px 10px;\\r\\n    border: 1px solid lightgrey;\\r\\n    border-radius: 7px;\\r\\n    font: normal 10pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n}\\r\\n\\r\\n.eqv-columns-sorting-container {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n/* menu block */\\r\\n.eqv-menu-block{\\r\\n    width: 17%;\\r\\n    float: right;\\r\\n    background: #fff;\\r\\n    border: 1px solid silver;\\r\\n}\\r\\n\\r\\n.eqv-menu-hr{\\r\\n    background: #AE67DF;\\r\\n}\\r\\n\\r\\n.eqv-menu-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #1777B1;\\r\\n}\\r\\n\\r\\n.eqv-menu-content{\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n.eqv-menu-content div{\\r\\n    margin: 10px 0;\\r\\n}\\r\\n\\r\\n/* menu block - buttons */\\r\\n.eqv-button {\\r\\n    width: 100%;\\r\\n    border: solid 1px #AE67DF;\\r\\n    font-family: Segoe UI;\\r\\n    font-size: 15px;\\r\\n    color: #4F4F4F;\\r\\n    cursor: pointer;\\r\\n    padding: 3px 10px 3px 10px;\\r\\n    display: inline-block;\\r\\n    margin: 10px 0;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.eqv-button:hover {\\r\\n    background-color: #AE67DF;\\r\\n    color: white !important; \\r\\n}\\r\\n\\r\\n.eqv-button-execute {\\r\\n\\tborder-color: #237901;\\r\\n\\tmargin-top: 40px;\\r\\n}\\r\\n\\r\\n.eqv-button-execute:hover {\\r\\n\\tbackground-color: #237901;\\r\\n}\\r\\n\\r\\n/* sql panel */\\r\\n.eqv-sql-panel{\\r\\n    width: 25%;\\r\\n    border: 1px solid #C4D6E5;\\r\\n    background: white;\\r\\n    float: left;\\r\\n    position:relative;\\r\\n}\\r\\n\\r\\n.eqv-sql-panel-hr{\\r\\n    background: #A8ABAD;\\r\\n}\\r\\n\\r\\n.eqv-sql-panel-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #A8ABAD;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n/* sql panel - block */\\r\\n.eqv-sql-block{\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    overflow: auto;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 44px;\\r\\n}\\r\\n\\r\\n/* sql panel - result block */\\r\\n.eqv-sql-panel-result{\\r\\n    padding: 7px;\\r\\n    overflow-y: auto;\\r\\n    overflow-x: hidden;\\r\\n    font: normal 11px Verdana;\\r\\n}\\r\\n\\r\\n/* result panel */\\r\\n#eqv-ResultExportButtons {\\r\\n    display: none;\\r\\n    float: right;\\r\\n    margin-right: 5px;\\r\\n    margin-top: 3px;\\r\\n    font-size:12pt;\\r\\n    padding:4px;\\r\\n}\\r\\n\\r\\n.eqv-result-panel{\\r\\n    background: white;\\r\\n    position: relative;\\r\\n    border: 1px solid #C1D5E4;\\r\\n    width: 73%;\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-hr{\\r\\n    background: #237901;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-title{\\r\\n    border-bottom: 1px solid #237901;\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F8F7F7;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-title a {\\r\\n    font-family: Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    font-weight: bold;\\r\\n    font-size: 13px;\\r\\n    color: #333333;\\r\\n    text-decoration: none;\\r\\n    border-bottom: 1px dashed;\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-title a:hover {\\r\\n     color: #333333;\\r\\n     border-bottom: 1px solid;\\r\\n     text-decoration: none;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-result-panel-content{\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    overflow: hidden;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 44px;\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-content table{\\r\\n    font: normal 12px Calibri;\\r\\n\\tborder: solid 1px rgba(0,0,0,.125);\\r\\n}\\r\\n\\r\\n.eqv-result-panel-content table td{\\r\\n    padding: 5px;\\r\\n    color: #4F4F4F;\\r\\n    font: 10px Arial;\\r\\n    border-bottom: 1px solid #E4E4E4;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-error{\\r\\n    color: Red;\\r\\n    font: normal 20px Calibri;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.eqv-result-panel.loader{\\r\\n    background: url('data:image/gif;base64,R0lGODlhEAAQAPYAAP///wAAAPr6+pKSkoiIiO7u7sjIyNjY2J6engAAAI6OjsbGxjIyMlJSUuzs7KamppSUlPLy8oKCghwcHLKysqSkpJqamvT09Pj4+KioqM7OzkRERAwMDGBgYN7e3ujo6Ly8vCoqKjY2NkZGRtTU1MTExDw8PE5OTj4+PkhISNDQ0MrKylpaWrS0tOrq6nBwcKysrLi4uLq6ul5eXlxcXGJiYoaGhuDg4H5+fvz8/KKiohgYGCwsLFZWVgQEBFBQUMzMzDg4OFhYWBoaGvDw8NbW1pycnOLi4ubm5kBAQKqqqiQkJCAgIK6urnJyckpKSjQ0NGpqatLS0sDAwCYmJnx8fEJCQlRUVAoKCggICLCwsOTk5ExMTPb29ra2tmZmZmhoaNzc3KCgoBISEiIiIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCAAAACwAAAAAEAAQAAAHaIAAgoMgIiYlg4kACxIaACEJCSiKggYMCRselwkpghGJBJEcFgsjJyoAGBmfggcNEx0flBiKDhQFlIoCCA+5lAORFb4AJIihCRbDxQAFChAXw9HSqb60iREZ1omqrIPdJCTe0SWI09GBACH5BAkIAAAALAAAAAAQABAAAAdrgACCgwc0NTeDiYozCQkvOTo9GTmDKy8aFy+NOBA7CTswgywJDTIuEjYFIY0JNYMtKTEFiRU8Pjwygy4ws4owPyCKwsMAJSTEgiQlgsbIAMrO0dKDGMTViREZ14kYGRGK38nHguHEJcvTyIEAIfkECQgAAAAsAAAAABAAEAAAB2iAAIKDAggPg4iJAAMJCRUAJRIqiRGCBI0WQEEJJkWDERkYAAUKEBc4Po1GiKKJHkJDNEeKig4URLS0ICImJZAkuQAhjSi/wQyNKcGDCyMnk8u5rYrTgqDVghgZlYjcACTA1sslvtHRgQAh+QQJCAAAACwAAAAAEAAQAAAHZ4AAgoOEhYaCJSWHgxGDJCQARAtOUoQRGRiFD0kJUYWZhUhKT1OLhR8wBaaFBzQ1NwAlkIszCQkvsbOHL7Y4q4IuEjaqq0ZQD5+GEEsJTDCMmIUhtgk1lo6QFUwJVDKLiYJNUd6/hoEAIfkECQgAAAAsAAAAABAAEAAAB2iAAIKDhIWGgiUlh4MRgyQkjIURGRiGGBmNhJWHm4uen4ICCA+IkIsDCQkVACWmhwSpFqAABQoQF6ALTkWFnYMrVlhWvIKTlSAiJiVVPqlGhJkhqShHV1lCW4cMqSkAR1ofiwsjJyqGgQAh+QQJCAAAACwAAAAAEAAQAAAHZ4AAgoOEhYaCJSWHgxGDJCSMhREZGIYYGY2ElYebi56fhyWQniSKAKKfpaCLFlAPhl0gXYNGEwkhGYREUywag1wJwSkHNDU3D0kJYIMZQwk8MjPBLx9eXwuETVEyAC/BOKsuEjYFhoEAIfkECQgAAAAsAAAAABAAEAAAB2eAAIKDhIWGgiUlh4MRgyQkjIURGRiGGBmNhJWHm4ueICImip6CIQkJKJ4kigynKaqKCyMnKqSEK05StgAGQRxPYZaENqccFgIID4KXmQBhXFkzDgOnFYLNgltaSAAEpxa7BQoQF4aBACH5BAkIAAAALAAAAAAQABAAAAdogACCg4SFggJiPUqCJSWGgkZjCUwZACQkgxGEXAmdT4UYGZqCGWQ+IjKGGIUwPzGPhAc0NTewhDOdL7Ykji+dOLuOLhI2BbaFETICx4MlQitdqoUsCQ2vhKGjglNfU0SWmILaj43M5oEAOwAAAAAAAAAAAA==') no-repeat;\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n\\r\\n/* result grid */\\r\\n.eqv-result-grid {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\toverflow: auto;\\r\\n\\tflex: 100 1 auto;\\r\\n}\\r\\n\\r\\n.eqv-result-grid-header td{\\r\\n    font: bold 14px Calibri;\\r\\n    border-bottom: 1px solid silver !important;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-result-grid-header th{\\r\\n    background-color: #F6F6F6;\\r\\n    color: #4F4F4F;\\r\\n    height: 30px;\\r\\n    font: bold 11px Arial !important;\\r\\n    border-bottom: 1px solid #E4E4E4;\\r\\n    text-align: left;\\r\\n    padding-left: 4px;\\r\\n    padding-right: 4px;\\r\\n}\\r\\n\\r\\n.eqv-grid-panel {\\r\\n\\toverflow: auto;\\r\\n\\tflex-grow: 100;\\r\\n}\\r\\n\\r\\n.eqv-grid-panel.eqjs-mobile {\\r\\n\\toverflow: hidden;\\r\\n}\\r\\n\\r\\n/* chart */\\r\\n.eqv-chart-panel {\\r\\n    flex: 0 0 360px;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/* pagination */\\r\\n.pagination {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.eqv-pagination {\\r\\n    display: inline-block;\\r\\n    padding-left: 0;\\r\\n    margin: 0;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li {\\r\\n    display: inline;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li > a, .eqv-pagination > li > span {\\r\\n    font-size: 12px;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #ddd;\\r\\n    color: #428bca;\\r\\n    float: left;\\r\\n    line-height: 1.42857;\\r\\n    margin-left: -1px;\\r\\n    padding: 5px 10px;\\r\\n    position: relative;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li > a:hover, .eqv-pagination > li > span:hover, .eqv-pagination > li > a:focus, .eqv-pagination > li > span:focus {\\r\\n    background-color: #eee;\\r\\n    border-color: #ddd;\\r\\n    color: #2a6496;\\r\\n}\\r\\n\\r\\n.eqv-pagination > .active > a, .eqv-pagination > .active > span, .eqv-pagination > .active > a:hover, .eqv-pagination > .active > span:hover, .eqv-pagination > .active > a:focus, .eqv-pagination > .active > span:focus {\\r\\n    background-color: #428bca;\\r\\n    border-color: #428bca;\\r\\n    color: #fff;\\r\\n    cursor: default;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n.eqv-pagination > .disabled > span, .eqv-pagination > .disabled > span:hover, .eqv-pagination > .disabled > span:focus, .eqv-pagination > .disabled > a, .eqv-pagination > .disabled > a:hover, .eqv-pagination > .disabled > a:focus {\\r\\n    background-color: #fff;\\r\\n    border-color: #ddd;\\r\\n    color: #999;\\r\\n    cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li:first-child > a, .eqv-pagination > li:first-child > span {\\r\\n    border-bottom-left-radius: 3px;\\r\\n    border-top-left-radius: 3px;\\r\\n    margin-left: 0;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li:last-child > a, .eqv-pagination > li:last-child > span {\\r\\n    border-bottom-right-radius: 3px;\\r\\n    border-top-right-radius: 3px;\\r\\n}\\r\\n\\r\\n.eqv-export-buttons {\\r\\n    float: right;\\r\\n    margin-right: 5px;\\r\\n    margin-top: 3px;\\r\\n    font-size: 12pt;\\r\\n    padding: 4px;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-select {\\r\\n    font-size: 12px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n/* Dropdown button styles */\\r\\n\\r\\n.eqv-drop-button {\\r\\n    margin-top: 0 !important;\\r\\n    margin-bottom: 0 !important;\\r\\n}\\r\\n\\r\\n/* The container <div> - needed to position the dropdown content */\\r\\n.eqv-dropdown-container {\\r\\n    width: 100%;\\r\\n    position: relative;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n/* Dropdown Content (Hidden by Default) */\\r\\n.eqv-dropdown-content {\\r\\n    display: none;\\r\\n    position: absolute;\\r\\n    min-width: 160px;\\r\\n    z-index: 1;\\r\\n    border: 1px solid silver;\\r\\n    border-radius: 0 0 4px 4px;\\r\\n    padding: 6px 0;\\r\\n    box-shadow: 4px 8px 15px 0px rgba(0,0,0,.16);\\r\\n    margin-top: 0 !important;\\r\\n    background-color: white;\\r\\n\\tright: 0;\\r\\n}\\r\\n\\r\\n/* Links inside the dropdown */\\r\\n.eqv-dropdown-content a {\\r\\n    font-size: 0.9rem;\\r\\n    color: #333333;\\r\\n    padding: 5px 14px;\\r\\n    text-decoration: none;\\r\\n    display: block;\\r\\n\\twhite-space: nowrap;\\r\\n}\\r\\n\\r\\n/* Change color of dropdown links on hover */\\r\\n.eqv-dropdown-content a:hover {\\r\\n    background-color: #ecf3f5;\\r\\n    color: #1776b1;\\r\\n}\\r\\n\\r\\n/* Show the dropdown menu (use JS to add this class to the .eqv-dropdown-content container when the user clicks on the dropdown button) */\\r\\n.eqv-dropdown-show {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n/* Dropdown button styles - END */\\r\\n\\r\\n\\r\\n/* Query Label Styles */\\r\\n.eqjs-query-name .eqjs-query-name-tooltip {\\r\\n    visibility: hidden;\\r\\n    background-color: white;\\r\\n    padding: 5px;\\r\\n   \\r\\n    /* Position the tooltip text */\\r\\n    position: absolute;\\r\\n    z-index: 1;    \\r\\n\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n.eqjs-query-name:hover .eqjs-query-name-tooltip {\\r\\n    visibility: visible;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-theme {\\r\\n    color: #7a10c3;\\r\\n    border-bottom: 1px solid silver;\\r\\n}\\r\\n\\r\\n/* Query Label Styles */\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easychart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easychart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easychart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/* EasyChart START */\\r\\n\\r\\n.eqjs-chart-header {\\r\\n    background-color: #DDD;\\r\\n    padding:4px;\\r\\n    font-size:10px;\\r\\n    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings {\\r\\n    background-color: #EEE;\\r\\n    padding:4px;\\r\\n    border: 1px solid #DDD;\\r\\n    font-size:14px;\\r\\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\r\\n    width: 100%;\\r\\n    min-height: 200px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings.sliding {\\r\\n    min-height: 0;\\r\\n}\\r\\n\\r\\n.eqjs-chart-main {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-header {\\r\\n    width: 100%;\\r\\n    font-size:20px;\\r\\n    font-weight: bold;\\r\\n    text-align: center;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-icon {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASCAYAAAAzI3woAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpCNDk0M0YwQTg1RTJFNjExOTZFREQxNTc2MzY0NDE3OCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RkI5QTQ1RkUzQUExMUU2ODAwN0Y1Q0FGN0NFOTJBRSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RkI5QTQ1RUUzQUExMUU2ODAwN0Y1Q0FGN0NFOTJBRSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCNDk0M0YwQTg1RTJFNjExOTZFREQxNTc2MzY0NDE3OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCNDk0M0YwQTg1RTJFNjExOTZFREQxNTc2MzY0NDE3OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlO9hMwAAAIySURBVHja7JbPS1RRFMdnxEVbFxWOEkomU60MWk0ZM4SVBkbayjGYGkJiEDMHNcowkQanAl3MIogGBQ0XFSLOlESgLQY3QaWJIS4EEfEPMCRf3wffB6frvc9ZzqIDH+65P96Zc88577zxWpblKSQp8hSYFDtKPB7X7Z8D89SbwFv1QDKZ/GfuTS3r7JwFC9RbwLh6wLrrN0aoEQxSPy3Wazg+ALfyuGwDSFA/KdbPODEAd4wREs68p14LfGLPdiIAguLZlwZnLoFpEeUjYi/My4U4PwRGTA5VKemS4lMcPOESneNCDyh7R4kj1W5F/RxkxPwVOAbKwAux/pUhN0lKRNqWMVDBCyXE+hKImVIW4m38nL8GUbF/H+yCblDOOpsDHxRnLoDzov4mwE2x3wt+g8egFDylnYwaoXfgCajkPK25+SjHwyzuSc2ZKTAgUupmpwT0gDe6lKkd0qsxpK7puupeHnaKTHbkxlXQCX5xHtUYus1xk6G/pjlzBXSAny52Ihy3wUNwXVdDX0gdwx3m7frBHxZxG89uKMUpJUeC7D/NTG0f2AH3QDvPbomepw1dF7gs5nZXXQGrwhmnuQ25vGUx9jRHbjBia8IZW07JHqRz6IfQZ+mMI+sgK+bfXRxaFPonkT4nuhnDb+5zKMuW/4ipk70nzfqwU9fK3mKSz+zWdrovKum1v2P1rLOI2u2LNcZmiC3fxLrzcXyW54f7I1GjmeM4rHvI+///0AHyV4ABAGIbcSD7TTsfAAAAAElFTkSuQmCC');\\r\\n    background-position: 0 0;\\r\\n    float: right;\\r\\n    cursor: pointer;\\r\\n    width: 18px;\\r\\n    height: 18px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-icon:hover {\\r\\n    background-position: -18px 0;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-single {\\r\\n    max-width: 100%;\\r\\n    margin: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-single span {\\r\\n    width: 30%;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-single select {\\r\\n    width: 60%;\\r\\n    font-size:12px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-no-data {\\r\\n    position: absolute;\\r\\n    left: 50%;\\r\\n    top: 30px;\\r\\n    -webkit-transform: translate(-50%, 0);\\r\\n    transform: translate(-50%, 0);\\r\\n    font-size: 20px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n/* EasyChart END */\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".eqjs-gp-table {\\r\\n    display: flex;\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n    flex-direction: column;\\r\\n    overflow-x: auto;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-head {\\r\\n    height: 50px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-body {\\r\\n    flex-grow: 1;\\r\\n    height: calc(100% - 50px);\\r\\n    width: 100%;\\r\\n    overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-row {\\r\\n    display: flex;\\r\\n    min-height: 50px;\\r\\n    border-bottom: 1px solid grey;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-col {\\r\\n    display: flex;\\r\\n    flex: 1;\\r\\n    align-items:center;\\r\\n    justify-content:center;\\r\\n    min-width: 150px;\\r\\n    border-left: 1px solid grey;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-row .eqjs-gp-table-col:first-child {\\r\\n    flex: 0 0 50px;\\r\\n    min-width: 50px;\\r\\n    border-left: none;\\r\\n}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid-mobile.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid-mobile.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid-mobile.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyfacets.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyfacets.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyfacets.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".eqjs-facets-panel * {\\r\\n    outline: none;    \\r\\n}\\r\\n\\r\\n.eqjs-facets-header {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    flex-wrap: wrap-reverse;\\r\\n    border-bottom: 1px solid #9c9c9c;\\r\\n}\\r\\n\\r\\n.eqjs-facets-manage {\\r\\n    display: flex;\\r\\n    flex: 1 auto;\\r\\n    margin-bottom: 5px;\\r\\n    justify-content: space-between;\\r\\n}\\r\\n\\r\\n.eqjs-facets-total-recs {\\r\\n    margin-right: 20px;\\r\\n    align-self: flex-end;\\r\\n}\\r\\n\\r\\n.eqjs-facets-tabs {\\r\\n    display: flex;\\r\\n    flex: 100 auto;\\r\\n}\\r\\n\\r\\n.eqjs-facets-body {\\r\\n    padding-top: 10px;\\r\\n    min-height: 200px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs {\\r\\n    margin: 0;\\r\\n    list-style: none;\\r\\n    padding-left: 0;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    flex: 0 auto;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs:before {\\r\\n    display: table;\\r\\n    content: ' ';\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li {\\r\\n    float: left;\\r\\n    margin-right: 3px;\\r\\n    margin-bottom: -1px;\\r\\n    position: relative;\\r\\n    display: flex;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 8px 8px 0 0;\\r\\n    background-color: #e2e1e1;\\r\\n    color: #181d1f;\\r\\n    padding: 3px 0;\\r\\n    margin-top: 5px;\\r\\n    height: 2em;\\r\\n    border-bottom: 1px solid #9c9c9c;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li.active {\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #9c9c9c;\\r\\n    border-bottom-color: transparent;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li:hover, .eqjs-facets-nav-tabs > li:focus-within {\\r\\n    cursor: pointer;\\r\\n    border-color: #0099CC;\\r\\n    border-bottom-color: transparent;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li.active:hover {\\r\\n    cursor: default;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li > a {\\r\\n    position: relative;\\r\\n    display: inline-block;\\r\\n    padding: 0 22px 0 10px;\\r\\n    text-decoration: none !important;\\r\\n    margin-right: 2px;\\r\\n    color: #181d1f;\\r\\n    align-self: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li:hover .eqjs-facet-close::before, .eqjs-facets-nav-tabs > li:focus .eqjs-facet-close::before, .eqjs-facets-nav-tabs > li.active .eqjs-facet-close::before {\\r\\n    content: \\\"\\\\1F7A9\\\";\\r\\n    font-size: 15px;\\r\\n    font-weight: 900;\\r\\n}\\r\\n\\r\\n.eqjs-facet-close {\\r\\n    position: absolute;\\r\\n    top: 3px;\\r\\n    right: 3px;\\r\\n    line-height: 10px;\\r\\n    color: #bababa;\\r\\n}\\r\\n\\r\\n.eqjs-facet .pivot-grid-totals-row .keg-row:last-child {\\r\\n    font-weight: 900;\\r\\n}\\r\\n\\r\\n.eqjs-facet-close:hover, .eqjs-facet-close:focus {\\r\\n    color: #d32727;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-facets-nav-tabs > li.active > .eqjs-facet-settings::before {\\r\\n    content: \\\"\\\\2261\\\";\\r\\n    font-size: 1.2em;\\r\\n    line-height: 1.2em;\\r\\n    font-weight: 900;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-facet-settings {\\r\\n    margin-left: 10px;\\r\\n    color: #acacac;\\r\\n}\\r\\n\\r\\n.eqjs-facet-settings:hover, .eqjs-facet-settings:focus {\\r\\n    color: #7a7a7a;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.eqjs-facets-spinner {\\r\\n    position: relative;\\r\\n    height: 200px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button {\\r\\n    margin: auto 10px;\\r\\n    height: 22px;\\r\\n    width: 22px;\\r\\n    flex: 0 0 auto;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button > a {\\r\\n    background: url(data:image/png;base64,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) no-repeat;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button > a:hover {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button > a:focus {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-facets-total-buttons {\\r\\n    align-self: flex-end;\\r\\n    max-height: 26px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button {\\r\\n    vertical-align: top;\\r\\n    border: 1px solid #dbdbdb;\\r\\n    border-radius: 4px;\\r\\n    box-shadow: none;\\r\\n    display: inline-flex;\\r\\n    height: 24px;\\r\\n    width: 24px;\\r\\n    padding: 0;\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n\\r\\n    background-color: #fff;\\r\\n    cursor: pointer;\\r\\n\\r\\n    -webkit-touch-callout:none;\\r\\n    -webkit-user-select:none;\\r\\n    -moz-user-select:none;\\r\\n    -ms-user-select:none;\\r\\n    user-select:none;\\r\\n    outline: 0;\\r\\n\\r\\n    opacity: 0.6;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:not(:last-child) {\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:hover {\\r\\n    border-color: #b5b5b5;\\r\\n    color: #363636;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:focus {\\r\\n    outline: none;\\r\\n    border-color: #3273dc;\\r\\n    color: #363636;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:active {\\r\\n    border-color: #4a4a4a;\\r\\n    color: #363636;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-refresh {\\r\\n    background:   url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABRElEQVQ4jY3SPUtbcRQG8F+SDi0UcejQQcVBaqBQcJA6hgo6GQS/g4U6iVCqUDhQBHEpDkoHv0MF0dnBgO6OQguNSynBqRTE2OH+Q29uEu2ZnsNznvNe0s/CDFbwFKvC975xKBWEsIkPuMRr4XqQGB4V/GVsJLz2kBjKueqPU3X4ieOHxN0JeINnCZ8J7Z7oMCG8GJTgVQ43+4iHcITDhEFJOMQ4nuc6+JXGaArzQhlfUU/8AZaEdhmfUc2JJVxNHNli6zl+Ee+h4sQ3NbeYLTT9SdgX5rCveHJqahqVBBuYwmQij/HWiTs1X3Aj29eTxLfwAy//ZQ3DOE+B0z0/EHbxLnnrwhbdf3CNBSwMeKCRHL7ogOJc/S27wpXsUi2MCr+7O7jf5pIYPnbE/5cge5rOObexl6fvHyGMYQd/sCucFkP+At9kRqAIrYjQAAAAAElFTkSuQmCC') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-export {\\r\\n    background:   url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAw0lEQVQ4jZ2QsQ6CMBRFD6YhzP4HxrgZXYijP9WfMkxs4CwJA5/gpCuTcfCBpbRFvFvfu/e8m0b4pFkDF3md0TxctigQLoCtTG7AyQWZAqbhXk7IKhBujU0rs0I8HgDkRjgz5pkByUOAF9AAGZq70ewukEY8XsAeSEfhMSQVzyBlmcJy7O0Gi6UG6tx1W/rboAJq9II2H28NVArYAQkQA51lvXoQMbABOuUx9JcOc2VMQLLgHxIX4Plz3GpQAsd/wkD5BtqYLERYDKv1AAAAAElFTkSuQmCC') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-maximize {\\r\\n    background:   url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAr0lEQVQ4jaWTwQ2DMAxFn1EPDMAyVTl1g94Yg7IIWyBVHKrORWfo7yWUyBKKK76UQ+z8/+3EMUkcwSlyyMw64ObCL0lTSMDhCjRABUxICi+gBwQswCwp1kJqowdG4A5cfomg85Cch7Sf1woi5DYnp1gHdFGBGmh38wXnumjgS3I97zp7ge1SNnIfuuBcIHvnENkLLP+SJVFls9IAb+BsZo80/0Wsk/gEPhGChx39zl8oCGZnXNzK6gAAAABJRU5ErkJggg==') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-restore {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAvklEQVQ4jaWTuw3CMBCGvz8lygA0rJIBKKMUDJABIhgH5mAAVknDBJT8FHlgmSg2cNLJOp3v870s2/wjxS9BklpJhyyApEpSH9gdcAZKAGyvKtAM1wzQAQa62Z8LWAr+FmDg+OHPANQBYNJ+8is1RkkbYB81/G77BrwBkipgG1x6Alfbj9UXglT7hVTrVIlFANrZFnAK+OlFixo2j2o8m2STl4JHOx8AtMQbNvSkSgFkm/FjlLYvyZojSe5BSl4yFEh5bRiMkwAAAABJRU5ErkJggg==') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-grid.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-grid.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-grid.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".keg-container * {\\r\\n    outline: none;    \\r\\n}\\r\\n\\r\\n\\r\\n.keg-container {\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.keg-header {\\r\\n    background-color: #f8f8f8;\\r\\n    border-bottom: 1px solid #babfc7;\\r\\n    overflow: hidden;\\r\\n\\r\\n}\\r\\n\\r\\n.keg-root {\\r\\n    font-family: \\\"Roboto\\\", Arial;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    border: 1px solid #babfc7;\\r\\n}\\r\\n\\r\\n.keg-body {\\r\\n/*\\r\\n    flex-grow: 1;\\r\\n    height: calc(100% - 50px);\\r\\n    width: 100%;\\r\\n*/    \\r\\n    overflow: hidden;\\r\\n\\r\\n    /* !!! temp */\\r\\n    /*height: 340px;*/\\r\\n}\\r\\n\\r\\n.keg-body-viewport {\\r\\n    overflow-x: auto;\\r\\n    overflow-y: auto;\\r\\n    height: 100%;\\r\\n    border: 1px solid transparent;\\r\\n}\\r\\n\\r\\n.keg-body-viewport:focus, .keg-body-viewport:focus-within {\\r\\n    border: 1px solid #838383;\\r\\n}\\r\\n\\r\\n.keg-header-row {\\r\\n    min-height: 30px;\\r\\n    display: flex;\\r\\n    font-size: 12px;\\r\\n    font-weight: 600;\\r\\n    color: rgba(0,0,0,.54);\\r\\n}\\r\\n\\r\\n.keg-row {\\r\\n    display: flex;\\r\\n    font-size: 12px;\\r\\n    background-color: #fff;\\r\\n    color: #181d1f;\\r\\n    outline: none;\\r\\n    border-color: #dde2eb;\\r\\n    border-width: 1px;\\r\\n    border-bottom-style: solid;\\r\\n    height: 26px;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.keg-row:not(.keg-row-active):not(.keg-row-totals):hover {\\r\\n    background-color: #fffae9;\\r\\n}\\r\\n\\r\\n.keg-row-odd {\\r\\n    background-color: #fcfcfc;\\r\\n}\\r\\n\\r\\n.keg-row-active {\\r\\n    background-color: #fff3cf;\\r\\n}\\r\\n\\r\\n.keg-cell, .keg-header-cell {\\r\\n    display: flex;\\r\\n/*\\r\\n    flex: 1;\\r\\n    min-width: 150px;\\r\\n*/\\r\\n}\\r\\n\\r\\n.keg-header-cell {\\r\\n    position: relative;\\r\\n    align-items: center;\\r\\n    padding: 2px 15px;\\r\\n}\\r\\n\\r\\n.keg-header-cell-resize {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    position: absolute;\\r\\n    z-index: 2;\\r\\n    height: 100%;\\r\\n    width: 8px;\\r\\n    top: 0;\\r\\n    /*cursor: ew-resize;*/\\r\\n    right: -4px;\\r\\n}\\r\\n\\r\\n.keg-header-cell-resize:after {\\r\\n    content: \\\"\\\";\\r\\n    position: absolute;\\r\\n    z-index: 1;\\r\\n    display: block;\\r\\n    left: calc(50% - 1px);\\r\\n    width: 2px;\\r\\n    height: 50%;\\r\\n    top: 25%;\\r\\n    background-color: rgba(186,191,199,.5);    \\r\\n}\\r\\n\\r\\n.keg-header-cell-label {\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n    word-break: break-word;\\r\\n    -ms-word-wrap: break-word;\\r\\n}\\r\\n\\r\\n.keg-cell {\\r\\n    padding: 0 15px;\\r\\n    border-right-width: 1px;\\r\\n    border-right: solid transparent;\\r\\n    align-items: center;\\r\\n    height: 100%;\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n.keg-cell-value {\\r\\n    width: 100%;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n    max-height: 100%;\\r\\n}\\r\\n\\r\\n/*\\r\\n.keg-row .keg-cell:first-child, .keg-header-row .keg-header-cell:first-child {\\r\\n    flex: 0 0 55px;\\r\\n    min-width: 55px;\\r\\n}\\r\\n*/\\r\\n\\r\\n.keg-cell-align-left, .keg-cell-value-align-left {\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\n.keg-cell-align-right, .keg-cell-value-align-right {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n.keg-cell-align-center, .keg-cell-value-align-center {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.keg-cell-value-bool {\\r\\n    margin: 0 auto;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.keg-cell-value-true::before {\\r\\n    content: \\\"✔\\\";\\r\\n    color: #28a745;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.keg-cell-value-false::before {\\r\\n    content: \\\"✖\\\";\\r\\n    color: #dc3545;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.keg-addrow {\\r\\n    position: relative;\\r\\n    height: 23px;\\r\\n    width: 23px;\\r\\n}\\r\\n\\r\\n.keg-addrow a {\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.keg-addrow a:hover {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n/* Pagination */\\r\\n.keg-pagination {\\r\\n    display: inline-block;\\r\\n    padding-left: 0;\\r\\n    margin: 0;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.keg-page-item {\\r\\n    display: inline;\\r\\n}\\r\\n\\r\\n.keg-page-link {\\r\\n    font-size: 12px;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #ddd;\\r\\n    color: #428bca;\\r\\n    float: left;\\r\\n    line-height: 1.42857;\\r\\n    margin-left: -1px;\\r\\n    padding: 5px 10px;\\r\\n    position: relative;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.keg-page-link:hover, .keg-page-link:focus {\\r\\n    background-color: #eee;\\r\\n    border-color: #ddd;\\r\\n    color: #2a6496;\\r\\n    border-bottom: #ffd148 2px solid !important;\\r\\n}\\r\\n\\r\\n.keg-page-item.active > .keg-page-link, .keg-page-item.active > .keg-page-link:hover, .keg-page-item.active > .keg-page-link:focus {\\r\\n    background-color: #428bca;\\r\\n    border-color: #428bca;\\r\\n    color: #fff;\\r\\n    cursor: default;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n.keg-page-item.disabled > .keg-page-link, .keg-page-item.disabled > .keg-page-link:hover, .keg-page-item.disabled > .keg-page-link:focus {\\r\\n    background-color: #fff;\\r\\n    border-color: #ddd;\\r\\n    color: #999;\\r\\n    cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.keg-page-item:first-child > .keg-page-link {\\r\\n    border-bottom-left-radius: 3px;\\r\\n    border-top-left-radius: 3px;\\r\\n    margin-left: 0;\\r\\n}\\r\\n\\r\\n.keg-page-item:last-child > .keg-page-link {\\r\\n    border-bottom-right-radius: 3px;\\r\\n    border-top-right-radius: 3px;\\r\\n}\\r\\n\\r\\n.keg-footer {\\r\\n    display: flex;\\r\\n    /*justify-content: space-between;*/\\r\\n    margin-top: 5px;\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.keg-page-info {\\r\\n    padding: 5px 10px;\\r\\n    font-size: 16px;\\r\\n    white-space: nowrap;\\r\\n    flex: 1 1 auto;\\r\\n    text-align: end;\\r\\n    color: rgba(0,0,0,.54);\\r\\n}\\r\\n\\r\\n.keg-page-info > span {\\r\\n    color: #212529;\\r\\n}\\r\\n\\r\\n.keg-row-totals {\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.keg-totals-lv0 {\\r\\n    background-color: #ACE1AF;\\r\\n}\\r\\n\\r\\n.keg-totals-lv1 {\\r\\n    background-color: #D0F0C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv2 {\\r\\n    background-color: #D0F2C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv3 {\\r\\n    background-color: #D0F4C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv4 {\\r\\n    background-color: #D0F6C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv5 {\\r\\n    background-color: #D0F8C0;\\r\\n}\\r\\n\\r\\n.keg-sortable-helper {\\r\\n    background-color: white;\\r\\n    padding: 3px 20px;\\r\\n    border: 2px solid #fb9c2f;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-dialog.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-dialog.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-dialog.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".kdlg-modal, .kdlg-modal-background {\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 0;\\r\\n}\\r\\n\\r\\n.kdlg-modal-background {\\r\\n    background-color: rgba(10,10,10,0.5);\\r\\n}\\r\\n\\r\\n.kdlg-modal {\\r\\n    font-family: \\\"Roboto\\\", Arial;\\r\\n    font-size: 16px;\\r\\n    font-weight: 400;\\r\\n    line-height: 1.5;\\r\\n\\r\\n    align-items: center;\\r\\n    display: none;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    overflow: hidden;\\r\\n    position: fixed;\\r\\n    z-index: 9999999999;\\r\\n}\\r\\n\\r\\n.kdlg-modal.is-active {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n\\r\\n.kdlg-modal-window, .kdlg-modal-window.size-default {\\r\\n    margin: 0 20px;\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    max-height: calc(100vh - 40px);\\r\\n    overflow: hidden;\\r\\n    -ms-overflow-y: visible;    \\r\\n}\\r\\n\\r\\n@media screen and (min-width: 481px), print {\\r\\n    .kdlg-modal-window.size-small {\\r\\n        margin: 0 auto;\\r\\n        width: 400px;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 769px), print {\\r\\n    .kdlg-modal-window, .kdlg-modal-window.size-default {\\r\\n        margin: 0 auto;\\r\\n        width: 640px;\\r\\n    }\\r\\n\\r\\n    .kdlg-modal-window.size-large, .kdlg-modal-window.size-xl {\\r\\n        margin: 0 20px;\\r\\n        width: 100%;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 1025px), print {\\r\\n    .kdlg-modal-window.size-large {\\r\\n        margin: 0 auto;\\r\\n        width: 900px;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 1383px), print {\\r\\n    .kdlg-modal-window.size-xl {\\r\\n        margin: 0 auto;\\r\\n        width: 1200px;\\r\\n    }\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.kdlg-footer, .kdlg-header {\\r\\n    align-items: center;\\r\\n    /*background-color: #f5f5f5;*/\\r\\n    background-color: #fff;\\r\\n    display: flex;\\r\\n    flex-shrink: 0;\\r\\n    justify-content: flex-start;\\r\\n    padding: 20px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.kdlg-footer.align-right {\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.kdlg-header {\\r\\n    border-top-left-radius: 6px;\\r\\n    border-top-right-radius: 6px;\\r\\n}\\r\\n\\r\\n.kdlg-header.has-border {\\r\\n    border-bottom: 1px solid #dbdbdb;\\r\\n}\\r\\n\\r\\n.kdlg-footer {\\r\\n    min-height: 10px;\\r\\n    border-bottom-left-radius: 6px;\\r\\n    border-bottom-right-radius: 6px;\\r\\n}\\r\\n\\r\\n.kdlg-footer.has-border {\\r\\n    border-top: 1px solid #dbdbdb;\\r\\n}\\r\\n\\r\\n.kdlg-header-title {\\r\\n    color: #363636;\\r\\n    flex-grow: 1;\\r\\n    flex-shrink: 0;\\r\\n    font-size: 1.6rem;\\r\\n    line-height: 1;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close {\\r\\n    -webkit-touch-callout: none;\\r\\n    -webkit-user-select: none;\\r\\n    -moz-user-select: none;\\r\\n    -ms-user-select: none;\\r\\n    user-select: none;\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n    background-color: rgba(10,10,10,.2);\\r\\n    border: none;\\r\\n    border-radius: 290486px;\\r\\n    cursor: pointer;\\r\\n    pointer-events: auto;\\r\\n    display: inline-block;\\r\\n    flex-grow: 0;\\r\\n    flex-shrink: 0;\\r\\n    font-size: 0;\\r\\n    height: 24px;\\r\\n    max-height: 24px;\\r\\n    max-width: 24px;\\r\\n    min-height: 24px;\\r\\n    min-width: 24px;\\r\\n    outline: 0;\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n    width: 24px;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close::before, .kdlg-modal-close::after {\\r\\n    background-color: #fff;\\r\\n    content: \\\"\\\";\\r\\n    display: block;\\r\\n    left: 50%;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    transform: translateX(-50%) translateY(-50%) rotate(45deg);\\r\\n    transform-origin: center center;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close::before {\\r\\n    height: 2px;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close::after {\\r\\n    height: 50%;\\r\\n    width: 2px;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close:focus, .kdlg-modal-close:hover {\\r\\n    background-color: rgba(255,1,1,.48);\\r\\n}\\r\\n\\r\\n\\r\\n.kdlg-body {\\r\\n    -webkit-overflow-scrolling: touch;\\r\\n    background-color: #fff;\\r\\n    flex-grow: 1;\\r\\n    flex-shrink: 1;\\r\\n    overflow: auto;\\r\\n    padding: 20px;\\r\\n    font-size: 1em;\\r\\n    color: #4a4a4a;\\r\\n}\\r\\n\\r\\n\\r\\n/** alerts start **/\\r\\n\\r\\n.kdlg-alert-container {\\r\\n    max-height: 150px;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n.kdlg-alert {\\r\\n    padding: 20px;\\r\\n    background-color: #e2f5ff;\\r\\n    color: #004aef;\\r\\n}\\r\\n\\r\\n.kdlg-alert.success {\\r\\n    color: #0c7905;\\r\\n    background-color: #efffe6;\\r\\n}\\r\\n\\r\\n.kdlg-alert.warning {\\r\\n    color: #e49e02;\\r\\n    background-color: #fff7e5;\\r\\n}\\r\\n\\r\\n.kdlg-alert.error {\\r\\n    color: red;\\r\\n    background-color: #ffe2e2;\\r\\n}\\r\\n\\r\\n.kdlg-alert-closebtn {\\r\\n    margin-left: 15px;\\r\\n    float: right;\\r\\n    font-size: 22px;\\r\\n    line-height: 20px;\\r\\n    cursor: pointer;\\r\\n    transition: 0.3s;\\r\\n}\\r\\n\\r\\n/** alerts end **/\\r\\n\\r\\n\\r\\n/** progress starts **/\\r\\n.kdlg-progress-line {\\r\\n    width: 100%;\\r\\n    overflow: hidden;\\r\\n    background-color: #e0e0e0;\\r\\n    padding: 3px;\\r\\n    border-radius: 3px;\\r\\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2);\\r\\n}\\r\\n\\r\\n.kdlg-progress-line .fill {\\r\\n    display: block;\\r\\n    height: 22px;\\r\\n    background-color: #659cef;\\r\\n    border-radius: 3px;\\r\\n    transition: width 500ms ease-in-out;\\r\\n}\\r\\n\\r\\n.kdlg-progress-line .fill.indeterminate  {\\r\\n    position: relative;\\r\\n    left: -200px;\\r\\n    width: 200px;\\r\\n    animation: kdlg-progress-line-loading 2s linear infinite;\\r\\n    transition: none;\\r\\n}\\r\\n\\r\\n  @keyframes kdlg-progress-line-loading {\\r\\n      from { left: -200px; }\\r\\n      to {  left: 120%;}\\r\\n  }\\r\\n\\r\\n/** progress ends **/\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-forms.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-forms.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-forms.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/* BUTTONS */\\r\\n\\r\\n.kfrm-buttons {\\r\\n    align-items: center;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: flex-start;\\r\\n}\\r\\n\\r\\n.kfrm-buttons.align-right {\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.kfrm-buttons.align-center {\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.kfrm-buttons:last-child {\\r\\n    margin-bottom: -.5rem;\\r\\n}\\r\\n\\r\\n.kfrm-buttons .kfrm-button {\\r\\n    margin-bottom: .5rem;\\r\\n}\\r\\n\\r\\n.kfrm-button {\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n    line-height: 1.5;\\r\\n    align-items: center;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 4px;\\r\\n    box-shadow: none;\\r\\n    display: inline-flex;\\r\\n    font-size: 1rem;\\r\\n    height: 2.5em;\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n\\r\\n\\r\\n    background-color: #fff;\\r\\n    border-color: #dbdbdb;\\r\\n    border-width: 1px;\\r\\n    color: #363636;\\r\\n    cursor: pointer;\\r\\n    justify-content: center;\\r\\n    padding-bottom: calc(.5em - 1px);\\r\\n    padding-left: 1em;\\r\\n    padding-right: 1em;\\r\\n    padding-top: calc(.5em - 1px);\\r\\n    text-align: center;\\r\\n    white-space: nowrap;\\r\\n\\r\\n    -webkit-touch-callout:none;\\r\\n    -webkit-user-select:none;\\r\\n    -moz-user-select:none;\\r\\n    -ms-user-select:none;\\r\\n    user-select:none\\r\\n}\\r\\n\\r\\n.kfrm-button:not(:last-child) {\\r\\n    margin-right: .5em;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-hovered, .kfrm-button:hover {\\r\\n    border-color: #b5b5b5;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-focused, .kfrm-button:focus {\\r\\n    outline: none;\\r\\n    border-color: #3273dc;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-focused:not(:active), .kfrm-button:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-active, .kfrm-button:active {\\r\\n    border-color: #4a4a4a;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.kfrm-button[disabled], fieldset[disabled] .kfrm-button {\\r\\n    background-color: #fff;\\r\\n    border-color: #dbdbdb;\\r\\n    box-shadow: none;\\r\\n    opacity: .5;\\r\\n    cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-loading {\\r\\n    color: transparent!important;\\r\\n    pointer-events: none;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-loading::after {\\r\\n    -webkit-animation:spinAround .5s infinite linear;\\r\\n    animation:spinAround .5s infinite linear;\\r\\n    border:2px solid #dbdbdb;\\r\\n    border-radius:290486px;\\r\\n    border-right-color:transparent;\\r\\n    border-top-color:transparent;\\r\\n    content:\\\"\\\";\\r\\n    display:block;\\r\\n    height:1em;\\r\\n    width:1em;\\r\\n\\r\\n    left: calc(50% - (1em / 2));\\r\\n    top: calc(50% - (1em / 2));\\r\\n    position: absolute!important;\\r\\n}\\r\\n\\r\\n@keyframes spinAround {\\r\\n    from {\\r\\n        transform:rotate(0deg);\\r\\n    }\\r\\n    to {\\r\\n        transform:rotate(360deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n/* SIZES */\\r\\n\\r\\n.kfrm-button.size-small,\\r\\n.kfrm-buttons.size-small .kfrm-button:not(.size-default):not(.size-medium):not(.size-large) {\\r\\n    border-radius: 2px;\\r\\n    font-size: .75rem;\\r\\n}\\r\\n\\r\\n.kfrm-button.size-default\\r\\n.kfrm-buttons.size-default .kfrm-button:not(.size-small):not(.size-medium):not(.size-large) {\\r\\n    font-size: 1rem;\\r\\n}\\r\\n\\r\\n.kfrm-button.size-medium,\\r\\n.kfrm-buttons.size-medium .kfrm-button:not(.size-small):not(.size-default):not(.size-large) {\\r\\n    font-size: 1.25rem;\\r\\n}\\r\\n\\r\\n.kfrm-button.size-large\\r\\n.kfrm-buttons.size-large .kfrm-button:not(.size-small):not(.size-default):not(.size-medium) {\\r\\n    font-size: 1.5rem;\\r\\n}\\r\\n\\r\\n/* SIZES END */\\r\\n\\r\\n\\r\\n\\r\\n/* COLORS */\\r\\n\\r\\n/* white */\\r\\n.kfrm-button.is-white {\\r\\n    background-color: #fff;\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-hovered, .kfrm-button.is-white:hover {\\r\\n    background-color: #f9f9f9;\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-focused, .kfrm-button.is-white:focus {\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-focused:not(:active), .kfrm-button.is-white:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(150,150,150,.15);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-active, .kfrm-button.is-white:active {\\r\\n    background-color: #f2f2f2;\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n/* dark */\\r\\n\\r\\n.kfrm-button.is-dark {\\r\\n    background-color: #363636e6;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-hovered, .kfrm-button.is-dark:hover {\\r\\n    background-color: #2f2f2f;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-focused, .kfrm-button.is-dark:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-focused:not(:active), .kfrm-button.is-dark:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(54,54,54,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-active, .kfrm-button.is-dark:active {\\r\\n    background-color: #292929;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n/* primary */\\r\\n\\r\\n.kfrm-button.is-primary {\\r\\n    background-color: #00d1b2;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-hovered, .kfrm-button.is-primary:hover {\\r\\n    background-color: #00c4a7;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-focused, .kfrm-button.is-primary:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-focused:not(:active), .kfrm-button.is-primary:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(0,209,178,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-active, .kfrm-button.is-primary:active {\\r\\n    background-color: #00b89c;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* link */\\r\\n\\r\\n.kfrm-button.is-link {\\r\\n    background-color: #3273dc;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-hovered, .kfrm-button.is-link:hover {\\r\\n    background-color: #276cda;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-focused, .kfrm-button.is-link:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-focused:not(:active), .kfrm-button.is-link:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-active, .kfrm-button.is-link:active {\\r\\n    background-color: #2366d1;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* info */\\r\\n\\r\\n.kfrm-button.is-info {\\r\\n    background-color: #3298dc;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-hovered, .kfrm-button.is-info:hover {\\r\\n    background-color: #2793da;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-focused, .kfrm-button.is-info:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-focused:not(:active), .kfrm-button.is-info:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,152,220,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-active, .kfrm-button.is-info:active {\\r\\n    background-color: #238cd1;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* success */\\r\\n\\r\\n.kfrm-button.is-success {\\r\\n    background-color: #48c774;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-hovered, .kfrm-button.is-success:hover {\\r\\n    background-color: #3ec46d;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-focused:not(:active), .kfrm-button.is-success:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(72,199,116,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-active, .kfrm-button.is-success:active {\\r\\n    background-color: #3abb67;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* warning */\\r\\n\\r\\n.kfrm-button.is-warning {\\r\\n    background-color: #ffdd57;\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-hovered, .kfrm-button.is-warning:hover {\\r\\n    background-color: #ffdb4a;\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-focused, .kfrm-button.is-warning:focus {\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-focused:not(:active), .kfrm-button.is-warning:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(255,221,87,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-active, .kfrm-button.is-warning:active {\\r\\n    background-color: #ffd83d;\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-loading::after {\\r\\n    border-color: transparent transparent rgba(0,0,0,.7) rgba(0,0,0,.7)!important;\\r\\n}\\r\\n\\r\\n/* danger */\\r\\n\\r\\n.kfrm-button.is-danger {\\r\\n    background-color: #f14668;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-hovered, .kfrm-button.is-danger:hover {\\r\\n    background-color: #f03a5f;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-focused, .kfrm-button.is-danger:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-focused:not(:active), .kfrm-button.is-danger:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(241,70,104,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-active, .kfrm-button.is-danger:active {\\r\\n    background-color: #ef2e55;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* COLORS END */\\r\\n\\r\\n\\r\\n/* BUTTONS END *//* COLUMNS */\\r\\n\\r\\n.kfrm-row {\\r\\n    margin-left: -.75rem;\\r\\n    margin-right: -.75rem;\\r\\n    margin-top: -.75rem;\\r\\n}\\r\\n\\r\\n.kfrm-row:not(:last-child) {\\r\\n    margin-bottom: calc(1.5rem - .75rem);\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 769px), print {\\r\\n    .kfrm-row {\\r\\n        display: flex;\\r\\n        flex-wrap: wrap;\\r\\n    }\\r\\n\\r\\n    .kdlg-modal-window.size-small .kfrm-row {\\r\\n        display: block;\\r\\n    }\\r\\n\\r\\n\\r\\n    /* 12 columns grid */\\r\\n    .kfrm-column.size-1 {\\r\\n        flex: none;\\r\\n        width: 8.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-2 {\\r\\n        flex: none;\\r\\n        width: 16.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-3 {\\r\\n        flex: none;\\r\\n        width: 25%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-4 {\\r\\n        flex: none;\\r\\n        width: 33.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-5 {\\r\\n        flex: none;\\r\\n        width: 41.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-6 {\\r\\n        flex: none;\\r\\n        width: 50%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-7 {\\r\\n        flex: none;\\r\\n        width: 58.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-8 {\\r\\n        flex: none;\\r\\n        width: 66.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-9 {\\r\\n        flex: none;\\r\\n        width: 75%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-10 {\\r\\n        flex: none;\\r\\n        width: 83.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-11 {\\r\\n        flex: none;\\r\\n        width: 91.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-12 {\\r\\n        flex: none;\\r\\n        width: 100%;\\r\\n    }\\r\\n\\r\\n\\r\\n\\r\\n}\\r\\n\\r\\n.kfrm-column {\\r\\n    display: block;\\r\\n    flex-basis: 0;\\r\\n    flex-grow: 1;\\r\\n    flex-shrink: 1;\\r\\n    padding: .75rem;\\r\\n}\\r\\n\\r\\n/* COLUMNS END */\\r\\n\\r\\n/* CONTROLS */\\r\\n\\r\\n.kfrm-form .errors-block {\\r\\n    color: red;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-form .control {\\r\\n    box-sizing: border-box;\\r\\n    clear: both;\\r\\n    position: relative;\\r\\n    text-align: inherit;\\r\\n    display: inline-flex;\\r\\n    width: 100%;\\r\\n    max-width: 100%;\\r\\n    padding: 0 !important;\\r\\n}\\r\\n\\r\\n.kfrm-form .icon {\\r\\n    align-items: center;\\r\\n    display: inline-flex;\\r\\n    justify-content: center;\\r\\n    height: 1.5em;\\r\\n    width: 1.5em;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-left input, .kfrm-form .control.has-icons-left .select select {\\r\\n    padding-left: 2.5em;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-right input, .kfrm-form .control.has-icons-right .select select {\\r\\n    padding-right: 2.5em;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-left .icon.is-left {\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-right .icon.is-right {\\r\\n    right: 0;\\r\\n}\\r\\n\\r\\n.kfrm-form .control .icon {\\r\\n    color: #dbdbdb;\\r\\n    height: 2.5em;\\r\\n    pointer-events: none;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    width: 2.5em;\\r\\n    z-index: 4;\\r\\n}\\r\\n\\r\\n.kfrm-form .control .icon.is-clickable {\\r\\n    pointer-events: auto;\\r\\n}\\r\\n\\r\\n/*\\r\\n.kfrm-form .control input:focus~.icon, .kfrm-form .control .select:focus~.icon {\\r\\n    color: #4a4a4a;\\r\\n}\\r\\n*/\\r\\n\\r\\n.kfrm-form .control .icon.is-clickable:hover {\\r\\n    color: #4a4a4a;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-form input.is-valid:not([type='checkbox']),\\r\\n.kfrm-form input.is-valid:not([type='checkbox']):hover {\\r\\n    border-color: green;\\r\\n}\\r\\n\\r\\n.kfrm-form input.is-invalid:not([type='checkbox']),\\r\\n.kfrm-form input.is-invalid:not([type='checkbox']):hover {\\r\\n    border-color: red;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']):read-only {\\r\\n    background-color: #e9ecef;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']), .kfrm-select select, .kfrm-form textarea {\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n    align-items: center;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 4px;\\r\\n    box-shadow: none;\\r\\n    display: inline-flex;\\r\\n    font-size: 1em;\\r\\n    height: 2.5em;\\r\\n    justify-content: flex-start;\\r\\n    line-height: 1.5;\\r\\n    padding-bottom: calc(.5em - 1px);\\r\\n    padding-left: calc(.75em - 1px);\\r\\n    padding-right: calc(.75em - 1px);\\r\\n    padding-top: calc(.5em - 1px);\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']), .kfrm-select select, .kfrm-form textarea {\\r\\n    background-color: #fff;\\r\\n    border-color: #dbdbdb;\\r\\n    border-radius: 4px;\\r\\n    color: #363636;\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']), .kfrm-form textarea {\\r\\n    box-shadow: inset 0 0.0625em 0.125em rgba(10,10,10,.05);\\r\\n    max-width: 100%;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']):hover, .kfrm-form input:not([type='checkbox']).is-hovered, .kfrm-form textarea:hover, .kfrm-form textarea.is-hovered, .kfrm-select select:hover, .kfrm-select select.is-hovered {\\r\\n    border-color: #b5b5b5;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']):active, .kfrm-form input:not([type='checkbox']).is-active, .kfrm-form textarea:active, .kfrm-form textarea.is-active, .kfrm-select select:active, .kfrm-select select.is-active, \\r\\n.kfrm-form input:not([type='checkbox']):focus, .kfrm-form input:not([type='checkbox']).is-focused, .kfrm-form textarea:focus, .kfrm-form textarea.is-focused, .kfrm-select select:focus, .kfrm-select select.is-focused {\\r\\n    border-color: #3273dc;\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-select {\\r\\n    display: inline-block;\\r\\n    max-width: 100%;\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n    padding: 0;\\r\\n    width: max-content;\\r\\n}\\r\\n\\r\\n.kfrm-select select::-ms-expand {\\r\\n    display: none !important;\\r\\n}\\r\\n\\r\\n.kfrm-select:not(.is-multiple) {\\r\\n    height: 2.5em;\\r\\n}\\r\\n\\r\\n.kfrm-select select {\\r\\n    cursor: pointer;\\r\\n    display: block;\\r\\n    font-size: 1em;\\r\\n    max-width: 100%;\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.kfrm-select select:not([multiple]) {\\r\\n    padding-right: 2.5em;\\r\\n}\\r\\n\\r\\n .kfrm-select:not(.is-multiple):not(.is-loading)::after {\\r\\n    border: 3px solid #3273dc;\\r\\n    border-radius: 2px;\\r\\n    border-right: 0;\\r\\n    border-top: 0;\\r\\n    content: \\\" \\\";\\r\\n    display: block;\\r\\n    height: .425em;\\r\\n    margin-top: -.5em;\\r\\n    pointer-events: none;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    transform: rotate(-45deg);\\r\\n    transform-origin: center;\\r\\n    width: .425em;\\r\\n    right: .7em;\\r\\n    z-index: 4;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-form textarea {\\r\\n    display: block;\\r\\n    max-width: 100%;\\r\\n    min-width: 100%;\\r\\n    padding: calc(.75em - 1px);\\r\\n    resize: vertical;\\r\\n}\\r\\n\\r\\n.kfrm-form textarea:not([rows]) {\\r\\n    max-height: 40em;\\r\\n    min-height: 8em;\\r\\n}\\r\\n\\r\\n/* CONTROLS END */\\r\\n\\r\\n/* FORMS */\\r\\n.kfrm-form {\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.kfrm-form fieldset {\\r\\n    border: 1px solid #dbdbdb;\\r\\n    border-radius: 6px;\\r\\n    padding: 20px;\\r\\n}\\r\\n\\r\\n.kfrm-form fieldset > legend {\\r\\n    padding-inline-start: 10px;\\r\\n    padding-inline-end: 10px;\\r\\n    font-weight: 600;\\r\\n    width: auto;\\r\\n    font-size: 16px;\\r\\n    margin-bottom: 0;\\r\\n}\\r\\n\\r\\n.kfrm-break, .kfrm-break-50 {\\r\\n    margin-top: 50px;\\r\\n}\\r\\n\\r\\n.kfrm-break-10 {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n.kfrm-break-20 {\\r\\n    margin-top: 20px;\\r\\n}\\r\\n\\r\\n.kfrm-break-30 {\\r\\n    margin-top: 30px;\\r\\n}\\r\\n\\r\\n.kfrm-break-40 {\\r\\n    margin-top: 40px;\\r\\n}\\r\\n\\r\\n.kfrm-break-60 {\\r\\n    margin-top: 60px;\\r\\n}\\r\\n\\r\\n.kfrm-break-70 {\\r\\n    margin-top: 70px;\\r\\n}\\r\\n\\r\\n.kfrm-break-80 {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-fields, .kfrm-fields.col-a {\\r\\n    display: grid;\\r\\n    grid-template-columns: auto;\\r\\n    grid-gap: 10px;\\r\\n    grid-auto-rows: auto;\\r\\n}\\r\\n\\r\\n.kfrm-fields:not(:last-child) {\\r\\n    margin-bottom: calc(1.5rem - .75rem);\\r\\n}\\r\\n\\r\\n.kfrm-fields > label {\\r\\n    padding: .5em 0;\\r\\n}\\r\\n\\r\\nfieldset .kfrm-fields > label {\\r\\n    padding: 0;\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.kfrm-fields > label:not(.checkbox) {\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.kfrm-fields.label-above > label:not(.checkbox) {\\r\\n    padding: 0.5em 0 0 0;\\r\\n    margin-bottom: -0.5em;\\r\\n}\\r\\n\\r\\n.kfrm-fields.label-align-right > label:not(.checkbox) {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-a-1 {\\r\\n    grid-template-columns: auto 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-a {\\r\\n    grid-template-columns: 1fr auto;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-a-a {\\r\\n    grid-template-columns: auto auto;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-1 {\\r\\n    grid-template-columns: 1fr 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-2 {\\r\\n    grid-template-columns: 1fr 2fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-3 {\\r\\n    grid-template-columns: 1fr 3fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-2-1 {\\r\\n    grid-template-columns: 2fr 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-3-1 {\\r\\n    grid-template-columns: 3fr 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-2-3 {\\r\\n    grid-template-columns: 2fr 3fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-3-2 {\\r\\n    grid-template-columns: 3fr 2fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal {\\r\\n    display: flex;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal.align-right {\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal.align-center {\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal.align-evenly {\\r\\n    justify-content: space-evenly;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal > label:not(:first-child) {\\r\\n    margin-left: .5rem;\\r\\n}\\r\\n\\r\\n/* IE */\\r\\n.kfrm-fields-ie {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    font-size: 16px;\\r\\n  }\\r\\n\\r\\n.kfrm-field-ie {\\r\\n    display: flex;\\r\\n    margin-bottom: 1em;\\r\\n}\\r\\n\\r\\n/*  \\r\\n  .kfrm-field-ie > * {\\r\\n      font-size: 16px;\\r\\n  }\\r\\n*/\\r\\n\\r\\n.kfrm-field-ie > *:nth-child(1) {\\r\\n    margin-right: 20px;\\r\\n}\\r\\n\\r\\n.kfrm-field-ie > label {\\r\\n    padding: .5em 0;\\r\\n}\\r\\n\\r\\n/*\\r\\n  .kfrm-field-ie > *:nth-child(2):not(.kfrm-select):not(.kfrm-fields-ie) {\\r\\n    padding: .5em;\\r\\n  }\\r\\n*/\\r\\n  .kfrm-fields-ie.col-ie-1-1 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 50%;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.col-ie-1-2 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 33.3333%;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.col-ie-1-3 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 25%;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.col-ie-1-4 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 20%;\\r\\n  }\\r\\n\\r\\n\\r\\n  .kfrm-fields-ie.label-align-right .kfrm-field-ie > *:nth-child(1) {\\r\\n    text-align: right;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.label-above .kfrm-field-ie > *:nth-child(1):not(.checkbox) {\\r\\n      padding: 0.5em 0 0 0;\\r\\n      margin-bottom: -0.5em;\\r\\n  }\\r\\n\\r\\n  .kfrm-field-ie > label:not(.checkbox), .kfrm-fields-ie > label:not(.checkbox) {\\r\\n      font-weight: 600;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.is-horizontal {\\r\\n    display: flex;\\r\\n    padding: 0 !important;\\r\\n    flex-direction: row;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.kfrm-fields-ie.is-horizontal > *:not(.kfrm-select) {\\r\\n    padding: .5em;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.is-horizontal > *:not(:first-child) {\\r\\n    margin-left: 1em;\\r\\n  }\\r\\n\\r\\n.kfrm-fields-ie > label {\\r\\n    padding-left: 0 !important;\\r\\n    padding-right: 0 !important;\\r\\n}\\r\\n\\r\\n.kfrm-field > label {\\r\\n    padding-right: 0.5em;\\r\\n}\\r\\n/* FORMS END */\\r\\n/* DATETIME STARTS */\\r\\n.kdtp {\\r\\n    border: 1px solid silver;\\r\\n    background-color: white;\\r\\n    box-shadow: 4px 8px 15px 0px rgba(0,0,0,.16);\\r\\n    border-radius: 8px;\\r\\n    overflow: hidden;    \\r\\n    z-index: 100000;\\r\\n    outline: none;\\r\\n    font-size: 0.7rem;\\r\\n}\\r\\n\\r\\n.kdtp-buttons {\\r\\n    margin-top: 1em;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: space-between;\\r\\n}\\r\\n\\r\\n.kdtp-button {\\r\\n    height: 2.5em;\\r\\n    flex: 1;\\r\\n    background-color: #0099CC;\\r\\n    border: none;\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    text-decoration: none;\\r\\n    cursor: pointer;    \\r\\n    font-weight: 500;\\r\\n}\\r\\n\\r\\n.kdtp-button:focus, .kdtp-button:active {\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.kdtp-button-now {\\r\\n    border: none;\\r\\n    background-color: white;\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.kdtp-button:nth-child(2) {\\r\\n    border-top-left-radius: 8px;\\r\\n}\\r\\n\\r\\n.kdtp-button:not(:first-child) {\\r\\n    margin-left: 2px;\\r\\n}\\r\\n\\r\\n.kdtp-cal {\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.kdtp-cal * {\\r\\n    outline: none !important;\\r\\n}\\r\\n\\r\\n.kdtp-cal-body {\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n    -ms-grid-columns: minmax(1em, 1fr) 5px minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr);\\r\\n    grid-template-columns: repeat(7, minmax(1em, 1fr));\\r\\n    grid-gap: 0.5em;\\r\\n    -webkit-box-sizing: border-box;\\r\\n\\tbox-sizing: border-box;\\r\\n    padding: 0 12px;\\r\\n    -ms-grid-rows: 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr;\\r\\n}\\r\\n\\r\\n.kdtp-cal-body > *:nth-child(1) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(2) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(3) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(4) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(5) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(6) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(7) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(8) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(9) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(10) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(11) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(12) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(13) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(14) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(15) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(16) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(17) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(18) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(19) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(20) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(21) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(22) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(23) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(24) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(25) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(26) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(27) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(28) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(29) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(30) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(31) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(32) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(33) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(34) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(35) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(36) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(37) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(38) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(39) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(40) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(41) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(42) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(43) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(44) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(45) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(46) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(47) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(48) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(49) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n\\r\\n.kdtp-cal-header-input {\\r\\n    width: 100%;\\r\\n    width: -moz-available;          /* WebKit-based browsers will ignore this. */\\r\\n    width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */\\r\\n    width: fill-available;\\r\\n    height: 100%;\\r\\n    height: -moz-available;          /* WebKit-based browsers will ignore this. */\\r\\n    height: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */\\r\\n    height: fill-available;\\r\\n\\r\\n    font-size: 1em;\\r\\n    padding: 2px 5px;\\r\\n    border: 1px solid silver;\\r\\n    outline: none;\\r\\n    background: #fff;\\r\\n    color: #262626;\\r\\n}\\r\\n\\r\\n.kdtp-cal-header-input.error {\\r\\n    border-color: red;\\r\\n}\\r\\n\\r\\n.kdtp-cal-header {\\r\\n    background-color: #0099CC;\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    font-size: 1.2em;\\r\\n    font-weight: 600;\\r\\n    height: 2em;\\r\\n    line-height: 2em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav {\\r\\n    display: flex;\\r\\n    padding: 0;\\r\\n    margin: 0.7em 0;\\r\\n    line-height: 1em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-prev, .kdtp-cal-nav-next {\\r\\n    flex: 0 0 auto;\\r\\n    font-size: 3em;\\r\\n    font-weight: 600;\\r\\n    width: 1em;\\r\\n    color: #777777;\\r\\n    text-align: center;    \\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-prev:hover, .kdtp-cal-nav-next:hover {\\r\\n    cursor: pointer;\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors {\\r\\n    flex: 1 1 auto;\\r\\n    display: flex;\\r\\n    margin: 0 0.5em;\\r\\n    font-size: 1.2em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-month {\\r\\n    flex: 1 1 auto;\\r\\n    margin-right: 0.5em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-year {\\r\\n    flex: 0 0 auto;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors select {\\r\\n    border: none;\\r\\n    color: #777777;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors select:hover {\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors select:hover option {\\r\\n    color: #777777;\\r\\n}\\r\\n\\r\\n.kdtp-cal-weekday {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    height: 1.8em;\\r\\n    font-weight: 600;\\r\\n\\tfont-size: 0.8em;\\r\\n    color: #262626;\\r\\n}\\r\\n\\r\\n.kdtp-cal-weekday.kdtp-cal-weekend {\\r\\n    color: #ff685d;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day, .kdtp-cal-day-empty {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    height: 1.5em;\\r\\n    color: #262626;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day.kdtp-cal-weekend {\\r\\n    color: #ff685d;\\r\\n    font-weight: 700;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day:hover, .kdtp-cal-day-selected {\\r\\n    border: 2px solid #0099CC;\\r\\n    font-weight: 700;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day-current {\\r\\n    background-color: lightgray;\\r\\n}\\r\\n\\r\\n.kdtp-tp {\\r\\n    display: flex;\\r\\n    display:-webkit-flex;\\r\\n    display:-ms-flexbox;\\r\\n    align-items: center;\\r\\n    -webkit-align-items:center;\\r\\n    -ms-flex-align:center;\\r\\n    margin-top: 1em;\\r\\n    padding: 0 1em;\\r\\n}\\r\\n\\r\\n.kdtp-tp-time {\\r\\n    flex: 0 0 5em;\\r\\n    -webkit-flex: 0 0 5em;\\r\\n    -ms-flex: 0 0 5em;\\r\\n    text-align: center;\\r\\n    font-weight: 600;\\r\\n    color: #777777;\\r\\n    border: 2px solid #0099CC;\\r\\n    border-radius: 6px;\\r\\n    margin-right: 0.5em;\\r\\n}\\r\\n\\r\\n.kdtp-tp-sliders {\\r\\n    flex: 1 1 auto;\\r\\n    -webkit-flex: 1 1 auto;\\r\\n    -ms-flex: 1 1 auto;\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row {\\r\\n    display:-webkit-flex;\\r\\n    display:-ms-flexbox;\\r\\n    display:flex;\\r\\n    -webkit-align-items:center;\\r\\n    -ms-flex-align:center;\\r\\n    align-items:center;\\r\\n    height: 1.5em;\\r\\n    background:linear-gradient(to right,#c5c5c5,#c5c5c5) left 50%/100% 1px no-repeat;\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range] {\\r\\n    background:0 0;\\r\\n    cursor:pointer;\\r\\n    -webkit-flex:1;\\r\\n    -ms-flex:1;\\r\\n    flex:1;\\r\\n    height:100%;\\r\\n    padding:0;\\r\\n    margin:0;\\r\\n    -webkit-appearance:none\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:hover::-webkit-slider-thumb {\\r\\n    border-color:#777777\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:hover::-moz-range-thumb {\\r\\n    border-color:#777777\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:hover::-ms-thumb {\\r\\n    border-color:#777777\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus {\\r\\n    outline:0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus::-webkit-slider-thumb {\\r\\n    background:#0099CC;\\r\\n    border-color:#0099CC\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus::-moz-range-thumb {\\r\\n    background:#0099CC;\\r\\n    border-color:#0099CC\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus::-ms-thumb {\\r\\n    background:#0099CC;\\r\\n    border-color:#0099CC\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-webkit-slider-thumb {\\r\\n    -webkit-appearance:none;\\r\\n    box-sizing:border-box;\\r\\n    height:12px;\\r\\n    width:12px;\\r\\n    border-radius:3px;\\r\\n    border:1px solid #c5c5c5;\\r\\n    background:#fff;\\r\\n    cursor:pointer;\\r\\n    transition:background .2s;\\r\\n    margin-top:-6px\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-moz-range-thumb {\\r\\n    box-sizing:border-box;\\r\\n    height:12px;\\r\\n    width:12px;\\r\\n    border-radius:3px;\\r\\n    border:1px solid #c5c5c5;\\r\\n    background:#fff;\\r\\n    cursor:pointer;\\r\\n    transition:background .2s\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-thumb {\\r\\n    box-sizing:border-box;\\r\\n    height:12px;\\r\\n    width:12px;\\r\\n    border-radius:3px;\\r\\n    border:1px solid #c5c5c5;\\r\\n    background:#fff;\\r\\n    cursor:pointer;\\r\\n    transition:background .2s\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-webkit-slider-runnable-track {\\r\\n    border:none;\\r\\n    height:1px;\\r\\n    cursor:pointer;\\r\\n    color:transparent;\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-moz-range-track {\\r\\n    border:none;\\r\\n    height:1px;\\r\\n    cursor:pointer;\\r\\n    color:transparent;\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-track {\\r\\n    border:none;\\r\\n    height:1px;\\r\\n    cursor:pointer;\\r\\n    color:transparent;\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-fill-lower {\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-fill-upper {\\r\\n    background:0 0\\r\\n}\\r\\n\", \"\"]);\n\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ui_1 = require(\"@easyquery/ui\");\r\nrequire(\"@easyquery/enterprise\");\r\nwindow.addEventListener('load', function () {\r\n    //Options for ReportViewJQuery\r\n    var viewOptions = {\r\n        calcTotals: true,\r\n        //Saves report on each change\r\n        syncReportOnChange: true,\r\n        handlers: {\r\n            onError: function (context, error) {\r\n                console.error(error.sourceError);\r\n            }\r\n        },\r\n        result: {\r\n            //Show EasyChart\r\n            showChart: true,\r\n            //Paging options\r\n            paging: {\r\n                pageSize: 30\r\n            }\r\n        },\r\n        //Load model on start\r\n        loadModelOnStart: true,\r\n        //Default model's ID (we use it here just for a nice folder name in App_Data folder)\r\n        defaultModelId: 'adhoc-reporting',\r\n        enableExport: true,\r\n        //Different widgets options\r\n        widgets: {\r\n            //ColumnBar options\r\n            columnsBar: {\r\n                accentActiveColumn: false,\r\n                allowAggrColumns: true,\r\n                attrElementFormat: \"{attr}\",\r\n                showColumnCaptions: true,\r\n                adjustEntitiesMenuHeight: false,\r\n                menuOptions: {\r\n                    showSearchBoxAfter: 30,\r\n                    activateOnMouseOver: true\r\n                }\r\n            },\r\n            //QueryPanel options\r\n            queryPanel: {\r\n                alwaysShowButtonsInGroups: false,\r\n                adjustEntitiesMenuHeight: false,\r\n                menuOptions: {\r\n                    showSearchBoxAfter: 20,\r\n                    activateOnMouseOver: true\r\n                }\r\n            }\r\n        }\r\n    };\r\n    var reportView = new ui_1.ReportView();\r\n    var context = reportView.getContext();\r\n    context\r\n        .useEndpoint('/api/adhoc-reporting')\r\n        .useEnterprise(function () {\r\n        reportView.init(viewOptions);\r\n    });\r\n    document['ReportView'] = reportView;\r\n});\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, ExprTag, QueryChangePart, QueryChangeAction } from '@easyquery/core';\r\nimport { eqDragManager, createBrowserEvent } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\n/**\r\n * The entities panel wiget, implemented without JQuery.\r\n */\r\nvar EntitiesPanel = /** @class */ (function (_super) {\r\n    __extends(EntitiesPanel, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function EntitiesPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.queryChangedCallbackId = null;\r\n        _this.group = WidgetGroup.Model | WidgetGroup.Query;\r\n        _this.panel = slot;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EntitiesPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-ep';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EntitiesPanel.prototype.getWidgetType = function () {\r\n        return 'entitiesPanel';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    EntitiesPanel.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.renderProgressBlock();\r\n    };\r\n    /**\r\n    * Refresh widget implementation\r\n    */\r\n    EntitiesPanel.prototype.refreshCore = function () {\r\n        this.render();\r\n        if (this.options.syncWithColumns) {\r\n            this.refreshCheckedStateByColumns();\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.onProcessStartCore = function () {\r\n        if (this.options.showIndicatorOnLoad) {\r\n            if (!this.progressBlock.parentNode)\r\n                this.panel.appendChild(this.progressBlock);\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.onProcessEndCore = function () {\r\n        if (this.options.showIndicatorOnLoad) {\r\n            if (this.progressBlock.parentNode)\r\n                this.panel.removeChild(this.progressBlock);\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.destroyCore = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    EntitiesPanel.prototype.setOptions = function (options) {\r\n        var _this = this;\r\n        this.options = {\r\n            showToolbar: true,\r\n            syncWithColumns: false,\r\n            showSelectAllButton: false,\r\n            showClearSelectionButton: true,\r\n            showAddColumnButton: true,\r\n            showAddConditionButton: true,\r\n            showCheckboxes: true,\r\n            showTooltips: true,\r\n            draggableAttributes: true,\r\n            showAttributes: { useInConditions: true, useInResult: true, useInSorting: false },\r\n            showFilterBox: false,\r\n            filterBoxMode: 0,\r\n            showIndicatorOnLoad: true,\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            autoClearSelection: true,\r\n            entityRenderedCallback: null,\r\n            attributeRenderedCallback: null\r\n        };\r\n        if (options) {\r\n            dataUtils.assignDeep(this.options, options);\r\n        }\r\n        if (this.queryChangedCallbackId) {\r\n            var query = this.context.getQuery();\r\n            query.removeChangedCallback(this.queryChangedCallbackId);\r\n        }\r\n        if (this.options.syncWithColumns) {\r\n            var query = this.context.getQuery();\r\n            this.queryChangedCallbackId = query.addChangedCallback(function (ev) {\r\n                var edata = ev.data;\r\n                if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                    return;\r\n                }\r\n                _this.refreshCheckedStateByColumns();\r\n            });\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.render = function () {\r\n        var model = this.context.getModel();\r\n        ;\r\n        this.clear();\r\n        this.panel.classList.add(this.cssPrefix + \"-panel\");\r\n        this.panel.classList.add(browserUtils.getMobileCssClass());\r\n        this.rootEntityBlock = document.createElement('div');\r\n        if (model != null && !model.isEmpty()) {\r\n            var entTree = model.getEntitiesTree({\r\n                addUIC: this.options.showAttributes.useInConditions,\r\n                addUIR: this.options.showAttributes.useInResult,\r\n                addUIS: this.options.showAttributes.useInSorting,\r\n                attrPlacement: this.options.attrPlacement,\r\n                sortEntities: this.options.sortEntities,\r\n                includeRootData: true\r\n            });\r\n            this.entityTreeBlock = this.renderEntity(entTree, this.rootEntityBlock, 0);\r\n            this.panel.appendChild(this.entityTreeBlock);\r\n        }\r\n        if (this.options.showFilterBox) {\r\n            this.createFilterBox();\r\n        }\r\n        else {\r\n            this.rootEntityBlock.style.top = '0';\r\n        }\r\n        if (this.options.showToolbar && !this.options.syncWithColumns) {\r\n            this.createToolPanel();\r\n        }\r\n        else {\r\n            this.rootEntityBlock.style.bottom = '0';\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.renderEntity = function (entity, block, offset) {\r\n        var _this = this;\r\n        var entityBlock;\r\n        var entityNode = document.createElement('div');\r\n        entityNode.classList.add(this.cssPrefix + \"-entity-node\");\r\n        entityNode.classList.add(browserUtils.getMobileCssClass());\r\n        var entityChildren = document.createElement('div');\r\n        entityChildren.classList.add(this.cssPrefix + \"-entity-children\");\r\n        entityChildren.classList.add(browserUtils.getMobileCssClass());\r\n        var nodeLabel = document.createElement('label');\r\n        nodeLabel.classList.add(this.cssPrefix + \"-entity-node-label\");\r\n        var nodeInput = document.createElement('input');\r\n        nodeInput.type = 'checkbox';\r\n        var nodeToggleButton = document.createElement('a');\r\n        nodeToggleButton.href = 'javascript:void(0)';\r\n        nodeToggleButton.classList.add(this.cssPrefix + \"-entity-node-button\");\r\n        var attrNode, attrLabel, attrInput;\r\n        var currentOffset = offset;\r\n        var isAttributeInTree = function (attrId, entityBlock) {\r\n            var res = entityBlock.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr[data-id=\\\"\" + attrId + \"\\\"]\");\r\n            return res.length > 0;\r\n        };\r\n        if (block) {\r\n            entityBlock = block;\r\n            entityBlock.innerHTML = '';\r\n        }\r\n        else {\r\n            entityBlock = document.createElement('div');\r\n        }\r\n        entityBlock.classList.add(this.cssPrefix + \"-entity\");\r\n        entityBlock.classList.add(browserUtils.getMobileCssClass());\r\n        if (entity.id && entity.id != \"\") {\r\n            nodeLabel.innerText = entity.text;\r\n            entityNode.appendChild(nodeLabel); //caption\r\n            if (this.options.showCheckboxes) {\r\n                nodeLabel.insertBefore(nodeInput, nodeLabel.firstChild);\r\n            }\r\n            entityNode.insertBefore(nodeToggleButton, entityNode.firstChild);\r\n            if (this.options.showTooltips && entity.description) {\r\n                nodeLabel.setAttribute('title', entity.description);\r\n            }\r\n            for (var i = 0; i < currentOffset; i++) {\r\n                var divElem = document.createElement('div');\r\n                divElem.classList.add(this.cssPrefix + \"-entity-offset\");\r\n                entityNode.insertBefore(divElem, entityNode.firstChild);\r\n            }\r\n            entityBlock.appendChild(entityNode);\r\n            entityChildren.hidden = true;\r\n            currentOffset++;\r\n        }\r\n        var itemsLength = entity.items ? entity.items.length : 0;\r\n        var _loop_1 = function (i) {\r\n            var item = entity.items[i];\r\n            if (item.isEntity) {\r\n                entityChildren.appendChild(this_1.renderEntity(item, null, currentOffset));\r\n            }\r\n            else {\r\n                if (!item.lookupAttr || !(isAttributeInTree(item.lookupAttr, entityChildren))) {\r\n                    attrLabel = document.createElement('label');\r\n                    attrLabel.innerText = item.text;\r\n                    attrLabel.classList.add(this_1.cssPrefix + \"-entity-attr-label\");\r\n                    if (this_1.options.showCheckboxes) {\r\n                        attrInput = document.createElement('input');\r\n                        attrInput.type = 'checkbox';\r\n                        attrLabel.insertBefore(attrInput, attrLabel.firstChild);\r\n                        if (this_1.options.syncWithColumns) {\r\n                            attrInput.addEventListener('change', function (ev) {\r\n                                var model = _this.context.getModel();\r\n                                var query = _this.context.getQuery();\r\n                                var checkbox = ev.currentTarget;\r\n                                var attrId = checkbox.parentElement.parentElement.getAttribute('data-id');\r\n                                if (model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                                    if (checkbox.checked) {\r\n                                        var column = query.addColumn({ attributeId: attrId });\r\n                                        query.fireColumnsChangedEvent(QueryChangeAction.Add, column);\r\n                                    }\r\n                                    else {\r\n                                        var columns = query.getColumns()\r\n                                            .filter(function (col) { return col.expr.tag === ExprTag.EntityAttribute\r\n                                            && col.expr.value === attrId; });\r\n                                        if (columns.length > 0) {\r\n                                            query.removeColumn(columns[0], null);\r\n                                            query.fireColumnsChangedEvent(QueryChangeAction.Delete, columns[0]);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    if (this_1.options.showTooltips && item.description) {\r\n                        attrLabel.setAttribute('title', item.description);\r\n                    }\r\n                    for (var j = 0; j < currentOffset + 1; j++) {\r\n                        var divElem = document.createElement('div');\r\n                        divElem.classList.add(this_1.cssPrefix + \"-entity-offset\");\r\n                        attrLabel.insertBefore(divElem, attrLabel.firstChild);\r\n                    }\r\n                    attrNode = document.createElement('div');\r\n                    attrNode.classList.add(this_1.cssPrefix + \"-entity-attr\");\r\n                    if (entityNode.innerHTML.length == 0) {\r\n                        attrNode.classList.add(this_1.cssPrefix + \"-entity-attr-root\");\r\n                    }\r\n                    attrNode.innerHTML = \"\";\r\n                    attrNode.appendChild(attrLabel);\r\n                    attrNode.setAttribute('data-id', item.id);\r\n                    if (this_1.options.draggableAttributes) {\r\n                        eqDragManager.registerDraggableItem({\r\n                            element: attrNode,\r\n                            scope: \"entityAttr\",\r\n                            data: { attrId: item.id },\r\n                            renderer: function (dragImage) {\r\n                                dragImage.innerHTML = '';\r\n                                var attrLabel = document.createElement('span');\r\n                                attrLabel.innerText = item.text;\r\n                                dragImage.appendChild(attrLabel);\r\n                            }\r\n                        });\r\n                    }\r\n                    if (this_1.options.attributeRenderedCallback) {\r\n                        this_1.options.attributeRenderedCallback(attrNode);\r\n                    }\r\n                    entityChildren.appendChild(attrNode);\r\n                }\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < itemsLength; i++) {\r\n            _loop_1(i);\r\n        }\r\n        if (entityChildren.innerHTML.length) {\r\n            entityBlock.appendChild(entityChildren);\r\n            nodeToggleButton.addEventListener('click', function (event) {\r\n                entityChildren.hidden = !entityChildren.hidden;\r\n                var element = event.target;\r\n                var className = _this.cssPrefix + \"-entity-node-button-open\";\r\n                if (element.classList.contains(className)) {\r\n                    element.classList.remove(className);\r\n                }\r\n                else {\r\n                    element.classList.add(className);\r\n                }\r\n                event.preventDefault();\r\n            });\r\n        }\r\n        if (entityChildren) {\r\n            var checkboxes = entityChildren.querySelectorAll(\".\" + this.cssPrefix + \"-entity-attr > label > input\");\r\n            for (var i = 0; i < checkboxes.length; i++) {\r\n                var checkbox = checkboxes[i];\r\n                checkbox.addEventListener('click', function (event) {\r\n                    var element = event.target;\r\n                    if (element.checked && !nodeInput.checked) {\r\n                        nodeInput.checked = true;\r\n                    }\r\n                    else if (entityChildren.querySelectorAll('input:checked').length === 0) {\r\n                        nodeInput.checked = false;\r\n                    }\r\n                    event.stopPropagation();\r\n                });\r\n            }\r\n        }\r\n        nodeInput.addEventListener('click', function (event) {\r\n            var element = event.target;\r\n            var entities = entityChildren.querySelectorAll('label input');\r\n            for (var i = 0; i < entities.length; i++) {\r\n                var entity_1 = entities[i];\r\n                entity_1.checked = element.checked;\r\n            }\r\n            if (_this.options.syncWithColumns) {\r\n                var query = _this.context.getQuery();\r\n                var model = _this.context.getModel();\r\n                var attrList_2 = [];\r\n                var attrElems = Array.from(entityChildren.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\"));\r\n                for (var _i = 0, attrElems_1 = attrElems; _i < attrElems_1.length; _i++) {\r\n                    var elem = attrElems_1[_i];\r\n                    var attrId = elem.getAttribute('data-id');\r\n                    if (model.checkAttrProperty(attrId, 'useInResult')) {\r\n                        attrList_2.push(attrId);\r\n                    }\r\n                }\r\n                if (element.checked) {\r\n                    for (var _a = 0, attrList_1 = attrList_2; _a < attrList_1.length; _a++) {\r\n                        var attrId = attrList_1[_a];\r\n                        query.addColumn({ attributeId: attrId });\r\n                    }\r\n                }\r\n                else {\r\n                    var columns = query.getColumns()\r\n                        .filter(function (col) { return col.expr.tag === ExprTag.EntityAttribute\r\n                        && attrList_2.indexOf(col.expr.value) >= 0; });\r\n                    query.removeColumns(columns, null);\r\n                }\r\n                query.fireColumnsChangedEvent();\r\n            }\r\n            event.stopPropagation();\r\n        });\r\n        if (block != this.rootEntityBlock && this.options.entityRenderedCallback) {\r\n            this.options.entityRenderedCallback(entityBlock);\r\n        }\r\n        return entityBlock;\r\n    };\r\n    EntitiesPanel.prototype.createFilterBox = function () {\r\n        var _this = this;\r\n        this.filterBoxBlock = document.createElement('div');\r\n        this.filterBoxBlock.classList.add(this.cssPrefix + \"-filter-box\");\r\n        this.filterBoxBlock.classList.add(browserUtils.getMobileCssClass());\r\n        this.filterBoxInput = document.createElement('input');\r\n        this.filterBoxInput.classList.add(this.cssPrefix + \"-filter-box-input\");\r\n        this.filterBoxInput.addEventListener('keydown', function (e) {\r\n            if (e.keyCode) {\r\n                _this.filterBoxInput.value = '';\r\n                _this.filterBoxInput.dispatchEvent(createBrowserEvent('input'));\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        this.filterBoxInput.addEventListener('input', function (e) {\r\n            var attrs = _this.panel.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var attr = attrs[i];\r\n                attr.hidden = !_this.checkFilterAttribute(attr);\r\n            }\r\n            var entities = _this.panel.querySelectorAll(\">.\" + _this.cssPrefix + \"-entity\");\r\n            for (var i = 0; i < entities.length; i++) {\r\n                var entity = entities[i];\r\n                var attrs_1 = entity.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n                var displayAttrCount = 0;\r\n                for (var i_1 = 0; i_1 < attrs_1.length; i_1++) {\r\n                    if (attrs_1[i_1].style.display !== 'None') {\r\n                        displayAttrCount++;\r\n                    }\r\n                }\r\n                entity.hidden = displayAttrCount === 0;\r\n            }\r\n            if (_this.filterBoxInput.value === '')\r\n                _this.collapseAll();\r\n            else\r\n                _this.expandAll();\r\n        });\r\n        this.filterBoxBlock.appendChild(this.filterBoxInput);\r\n        this.panel.insertBefore(this.filterBoxBlock, this.panel.firstChild);\r\n    };\r\n    EntitiesPanel.prototype.createToolPanel = function () {\r\n        var _this = this;\r\n        var defClass = this.cssPrefix + \"-tool-panel\";\r\n        var toolPanelBlock = document.createElement('div');\r\n        toolPanelBlock.classList.add(defClass);\r\n        toolPanelBlock.classList.add(browserUtils.getMobileCssClass());\r\n        var toolSelectAll = document.createElement('div');\r\n        toolSelectAll.classList.add(defClass + \"-select-all\");\r\n        toolSelectAll.title = 'Select all';\r\n        var toolDeselectAll = document.createElement('div');\r\n        toolDeselectAll.classList.add(defClass + \"-deselect-all\");\r\n        toolDeselectAll.title = 'Clear selection';\r\n        var toolAddColumns = document.createElement('div');\r\n        toolAddColumns.classList.add(defClass + \"-add-columns\");\r\n        toolAddColumns.title = 'Add column';\r\n        var toolAddCond = document.createElement('div');\r\n        toolAddCond.classList.add(defClass + \"-add-cond\");\r\n        toolAddCond.title = 'Add condition';\r\n        var toolLeftBlock = document.createElement('div');\r\n        toolLeftBlock.classList.add(defClass + \"-left-side\");\r\n        var toolRightBlock = document.createElement('div');\r\n        toolRightBlock.classList.add(defClass + \"-right-side\");\r\n        var model = this.context.getModel();\r\n        if (this.options.showSelectAllButton) {\r\n            toolSelectAll.title = i18n.getText(\"ButtonSelectAll\");\r\n            toolLeftBlock.appendChild(toolSelectAll);\r\n            toolSelectAll.addEventListener('click', function () {\r\n                _this.selectAll();\r\n            });\r\n        }\r\n        if (this.options.showClearSelectionButton) {\r\n            toolDeselectAll.title = i18n.getText(\"ButtonDeselectAll\");\r\n            toolLeftBlock.appendChild(toolDeselectAll);\r\n            toolDeselectAll.addEventListener('click', function () {\r\n                _this.deselectAll();\r\n            });\r\n        }\r\n        if (this.options.showAddColumnButton) {\r\n            toolAddColumns.title = i18n.getText(\"ButtonAddColumns\");\r\n            toolRightBlock.appendChild(toolAddColumns);\r\n            toolAddColumns.addEventListener('click', function () {\r\n                var attrElements = _this.panel.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n                var attrList = [];\r\n                var attrId;\r\n                var query = _this.context.getQuery();\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"start\"\r\n                });\r\n                for (var i = 0; i < attrElements.length; i++) {\r\n                    var attrElement = attrElements[i];\r\n                    var input = attrElement.getElementsByTagName('input')[0];\r\n                    if (input.checked) {\r\n                        attrId = attrElement.getAttribute('data-id');\r\n                        if (model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                            attrList.push(attrId);\r\n                        }\r\n                    }\r\n                }\r\n                for (var _i = 0, attrList_3 = attrList; _i < attrList_3.length; _i++) {\r\n                    var attrId_1 = attrList_3[_i];\r\n                    query.addColumn({\r\n                        attributeId: attrId_1\r\n                    });\r\n                }\r\n                query.fireChangedEvent();\r\n                if (_this.options.autoClearSelection) {\r\n                    _this.deselectAll();\r\n                }\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"finish\"\r\n                });\r\n            });\r\n        }\r\n        if (this.options.showAddConditionButton) {\r\n            toolAddCond.title = i18n.getText(\"ButtonAddConditions\");\r\n            toolRightBlock.appendChild(toolAddCond);\r\n            toolAddCond.addEventListener('click', function () {\r\n                var attrElements = _this.panel.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n                var attrList = [];\r\n                var attrId;\r\n                var query = _this.context.getQuery();\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"start\"\r\n                });\r\n                for (var i = 0; i < attrElements.length; i++) {\r\n                    var attrElement = attrElements[i];\r\n                    var input = attrElement.getElementsByTagName('input')[0];\r\n                    if (input.checked) {\r\n                        attrId = attrElement.getAttribute('data-id');\r\n                        if (model.checkAttrProperty(attrId, \"useInConditions\")) {\r\n                            attrList.push(attrId);\r\n                        }\r\n                    }\r\n                }\r\n                for (var _i = 0, attrList_4 = attrList; _i < attrList_4.length; _i++) {\r\n                    var attrId_2 = attrList_4[_i];\r\n                    query.addSimpleCondition({\r\n                        attributeId: attrId_2\r\n                    });\r\n                }\r\n                query.fireChangedEvent();\r\n                if (_this.options.autoClearSelection) {\r\n                    _this.deselectAll();\r\n                }\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"finish\"\r\n                });\r\n            });\r\n        }\r\n        toolPanelBlock.appendChild(toolLeftBlock);\r\n        toolPanelBlock.appendChild(toolRightBlock);\r\n        this.panel.appendChild(toolPanelBlock);\r\n    };\r\n    EntitiesPanel.prototype.checkFilterAttribute = function (attr) {\r\n        var inputElem = attr.querySelector('label input');\r\n        if (inputElem.checked) {\r\n            return true;\r\n        }\r\n        var labelElem = attr.querySelector('label');\r\n        var attrCaption = labelElem.textContent;\r\n        if (this.checkFilterText(attrCaption)) {\r\n            return true;\r\n        }\r\n        var entityNode = attr.parentElement.parentElement.querySelector(\".\" + this.cssPrefix + \"-entity-node\");\r\n        var entityCaption = entityNode.querySelector('label').textContent;\r\n        if (this.checkFilterText(entityCaption)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    EntitiesPanel.prototype.checkFilterText = function (value) {\r\n        var filterText = this.filterBoxInput.value;\r\n        if (filterText == \"\")\r\n            return true;\r\n        if (this.options.filterBoxMode == 0 && value.toLowerCase().indexOf(filterText.toLowerCase()) >= 0)\r\n            return true;\r\n        if (this.options.filterBoxMode == 1 && value.toLowerCase().indexOf(filterText.toLowerCase()) == 0)\r\n            return true;\r\n        return false;\r\n    };\r\n    EntitiesPanel.prototype.refreshCheckedStateByColumns = function () {\r\n        this.deselectAll();\r\n        var query = this.context.getQuery();\r\n        var exprColumns = query.getColumns()\r\n            .filter(function (col) { return col.expr.tag === ExprTag.EntityAttribute; });\r\n        for (var _i = 0, exprColumns_1 = exprColumns; _i < exprColumns_1.length; _i++) {\r\n            var column = exprColumns_1[_i];\r\n            var attrNode = this.rootEntityBlock\r\n                .querySelector(\".\" + this.cssPrefix + \"-entity-attr[data-id=\\\"\" + column.expr.value + \"\\\"]\");\r\n            var checkbox = attrNode.querySelector(\"label > input\");\r\n            checkbox.checked = true;\r\n            var entChildren = attrNode.parentElement;\r\n            while (entChildren\r\n                && entChildren.classList\r\n                    .contains(this.cssPrefix + \"-entity-children\")) {\r\n                entChildren.hidden = false;\r\n                var entElem = entChildren.parentElement;\r\n                if (entElem && entChildren !== entElem.firstElementChild) {\r\n                    checkbox = entElem.firstElementChild\r\n                        .querySelector(\"label > input\");\r\n                    checkbox.checked = true;\r\n                    entChildren = entElem.parentElement;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.expandAll = function () {\r\n        for (var i = 0; i < this.rootEntityBlock.childNodes.length; i++) {\r\n            var child = this.rootEntityBlock.childNodes[0];\r\n            var childs = child.querySelectorAll(\".\" + this.cssPrefix + \"-entity-children\");\r\n            for (var j = 0; j < childs.length; j++) {\r\n                var elem = childs[j];\r\n                elem.hidden = false;\r\n            }\r\n        }\r\n        var nodeButtons = this.rootEntityBlock.querySelectorAll(\".\" + this.cssPrefix + \"-entity-node-button\");\r\n        for (var i = 0; i < nodeButtons.length; i++) {\r\n            var elem = nodeButtons[i];\r\n            elem.classList.add(this.cssPrefix + \"-entity-node-button-open\");\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.collapseAll = function () {\r\n        for (var i = 0; i < this.rootEntityBlock.childNodes.length; i++) {\r\n            var child = this.rootEntityBlock.childNodes[0];\r\n            var childs = child.querySelectorAll(\".\" + this.cssPrefix + \"-entity-children\");\r\n            for (var j = 0; j < childs.length; j++) {\r\n                var elem = childs[j];\r\n                elem.hidden = true;\r\n            }\r\n        }\r\n        var nodeButtons = this.rootEntityBlock.querySelectorAll(\".\" + this.cssPrefix + \"-entity-node-button\");\r\n        for (var i = 0; i < nodeButtons.length; i++) {\r\n            var elem = nodeButtons[i];\r\n            elem.classList.remove(this.cssPrefix + \"-entity-node-button-open\");\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.selectAll = function () {\r\n        var inputs = this.entityTreeBlock.querySelectorAll('input');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            var input = inputs[i];\r\n            input.checked = true;\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.deselectAll = function () {\r\n        var inputs = this.entityTreeBlock.querySelectorAll('input');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            var input = inputs[i];\r\n            input.checked = false;\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.renderProgressBlock = function () {\r\n        this.progressBlock = document.createElement('div');\r\n        this.progressBlock.classList.add(eqCssPrefix + \"-progress-win8\");\r\n        this.progressBlock.classList.add(browserUtils.getMobileCssClass());\r\n        this.progressBlock.innerHTML = '<div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"></div></div>';\r\n    };\r\n    EntitiesPanel.prototype.clear = function () {\r\n        this.panel.innerHTML = \"\";\r\n    };\r\n    return EntitiesPanel;\r\n}(Widget));\r\nexport { EntitiesPanel };\r\n//# sourceMappingURL=entities_panel.js.map","import { i18n } from '@easydata/core';\r\nimport { SortDirection, QueryChangeAction } from \"@easyquery/core\";\r\nimport { eqDragManager, DropEffect, createBrowserEvent, domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { safeFocus } from '../../../utils/utils';\r\nexport var ColumnAction;\r\n(function (ColumnAction) {\r\n    ColumnAction[ColumnAction[\"Enable\"] = 0] = \"Enable\";\r\n    ColumnAction[ColumnAction[\"Delete\"] = 1] = \"Delete\";\r\n    ColumnAction[ColumnAction[\"Hidden\"] = 2] = \"Hidden\";\r\n    ColumnAction[ColumnAction[\"SortingNone\"] = 3] = \"SortingNone\";\r\n    ColumnAction[ColumnAction[\"SortingAsc\"] = 4] = \"SortingAsc\";\r\n    ColumnAction[ColumnAction[\"SortingDesc\"] = 5] = \"SortingDesc\";\r\n    ColumnAction[ColumnAction[\"MoveTop\"] = 6] = \"MoveTop\";\r\n    ColumnAction[ColumnAction[\"MoveUp\"] = 7] = \"MoveUp\";\r\n    ColumnAction[ColumnAction[\"MoveDown\"] = 8] = \"MoveDown\";\r\n    ColumnAction[ColumnAction[\"MoveBottom\"] = 9] = \"MoveBottom\";\r\n    ColumnAction[ColumnAction[\"Menu\"] = 10] = \"Menu\";\r\n    ColumnAction[ColumnAction[\"Type\"] = 11] = \"Type\";\r\n})(ColumnAction || (ColumnAction = {}));\r\nvar ColumnRendererCP = /** @class */ (function () {\r\n    function ColumnRendererCP(panel, column, slot) {\r\n        this.functionMenu = null;\r\n        this.buttonMenu = null;\r\n        this.isMouseOverBlock = false;\r\n        this.keepShowingButtons = false;\r\n        this.panel = panel;\r\n        this.column = column;\r\n        this.element = slot;\r\n    }\r\n    Object.defineProperty(ColumnRendererCP.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qc';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnRendererCP.prototype.render = function () {\r\n        var _this = this;\r\n        this.baseAttr = this.getAttribute();\r\n        if (this.getButtonsToShow().indexOf(\"sorting\") >= 0 && this.column.enabled) {\r\n            this.sortingButton = this.renderSoringButton(this.column.sorting);\r\n            if (this.column.sorting !== SortDirection.None) {\r\n                this.sortingButton.style.display = 'block';\r\n            }\r\n        }\r\n        var builder = domel('div');\r\n        builder.data('id', this.column.id);\r\n        if (this.element) {\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        if (this.panel.options.allowDragDrop && !browserUtils.isMobileMode()) {\r\n            eqDragManager.registerDraggableItem({\r\n                element: this.element,\r\n                scope: \"entityAttrSort\",\r\n                data: { column: this.column },\r\n                beforeDragStart: function () {\r\n                    _this.hideButtons();\r\n                },\r\n                renderer: function (dragImage) {\r\n                    dragImage.innerHTML = '';\r\n                    var attrLabel = document.createElement('span');\r\n                    attrLabel.innerText = _this.column.caption;\r\n                    dragImage.classList.add('eqjs-sortable-helper');\r\n                    dragImage.appendChild(attrLabel);\r\n                },\r\n                onDragStart: function (ev) {\r\n                    _this.element.style.display = 'none';\r\n                    ev.dropEffect = DropEffect.Allow;\r\n                },\r\n                onDragEnd: function (ev) {\r\n                    if (!ev.data.finishedSuccessfully) {\r\n                        _this.element.style.removeProperty('display');\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (this.isEditable()) {\r\n            this.createFunctionMenu();\r\n        }\r\n        this.createButtonMenu();\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderCheckbox())\r\n            //start sort button\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", _this.cssPrefix + \"-button-placeholder\", _this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-sortbutton-placeholder\")\r\n            .addChildElement(_this.sortingButton); })\r\n            // end sort button\r\n            .addChildElement(this.renderExpressionBlock());\r\n        if (this.panel.options.showColumnTitles !== false && !browserUtils.isMobileMode()) {\r\n            builder\r\n                .addChildElement(this.renderCaptionBlock());\r\n        }\r\n        builder\r\n            //start buttons\r\n            .addChild('div', function (builder) {\r\n            builder\r\n                .addClass(eqCssPrefix + \"-column-buttonsBlock\", _this.cssPrefix + \"-buttonsBlock\")\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            //start enable button\r\n            if (_this.getButtonsToShow().indexOf(\"enable\") >= 0 && !_this.column.isReadOnly()) {\r\n                builder.addChildElement(_this.renderEnabledButton());\r\n            }\r\n            //end enable button\r\n            //start aggr func button\r\n            if (_this.getButtonsToShow().indexOf(\"type\") >= 0 && _this.column.enabled) {\r\n                builder.addChildElement(_this.renderColumnTypeButton());\r\n            }\r\n            //end aggr func button\r\n            //start delete button\r\n            if (_this.getButtonsToShow().indexOf(\"delete\") >= 0 && !_this.column.isReadOnly()) {\r\n                builder.addChildElement(_this.renderDeleteButton());\r\n            }\r\n            //end delete button\r\n            //start menu button\r\n            if (_this.getButtonsToShow().indexOf(\"menu\") >= 0 && !_this.column.isReadOnly()) {\r\n                builder.addChildElement(_this.renderMenuButton());\r\n            }\r\n            //end menu button\r\n        });\r\n        //end buttons \r\n        if (!browserUtils.isMobileMode()) {\r\n            //start event listeners\r\n            builder\r\n                .on('mouseenter', this.onMouseEnter.bind(this))\r\n                .on('mouseleave', this.onMouseLeave.bind(this));\r\n            //end event listeners\r\n        }\r\n        if (this.panel.options.accentActiveColumn || browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('click', this.onMouseClick.bind(this)); //touchstart\r\n        }\r\n        if (this.panel.options.alwaysShowButtons) {\r\n            this.showButtons();\r\n        }\r\n        return this.element;\r\n    };\r\n    ColumnRendererCP.prototype.onMouseClick = function (ev) {\r\n        ev.stopPropagation();\r\n        this.panel.toggleColumnPicked(this.column);\r\n        this.adjustButtonsVisibility();\r\n        if (!browserUtils.isMobileMode()) {\r\n            this.element.dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n        }\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.fireColumnChanged = function () {\r\n        this.column.fireChangedEvent();\r\n    };\r\n    ColumnRendererCP.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ColumnRendererCP.prototype.getAttribute = function () {\r\n        var model = this.panel.getContext().getModel();\r\n        return model.getAttributeById(this.column.expr.value);\r\n    };\r\n    ColumnRendererCP.prototype.renderCaptionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultColumnCaption();\r\n        }\r\n        var builder = domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        if (this.isEditable()) {\r\n            builder\r\n                .addChild('a', function (builder) { return builder\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(_this.column.caption)\r\n                .text(_this.column.caption)\r\n                .on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                var element = ev.target;\r\n                var inputEl = element.parentElement.querySelector('input');\r\n                if (inputEl) {\r\n                    element.style.display = 'none';\r\n                    inputEl.style.removeProperty('display');\r\n                    inputEl.style.minWidth = \"\" + element.clientWidth;\r\n                    inputEl.focus();\r\n                    _this.element.setAttribute(eqDragManager.DRAG_DISABLED_ATTR, '');\r\n                }\r\n                return false;\r\n            }); } //TO DO:add localization and input field\r\n            )\r\n                .addChild('input', function (builder) { return builder\r\n                .hide()\r\n                .value(_this.column.caption)\r\n                .on('blur keydown', function (ev) {\r\n                var isEndEvent = false;\r\n                var save = true;\r\n                if (ev instanceof KeyboardEvent) {\r\n                    // Enter\r\n                    if (ev.keyCode === 13) {\r\n                        isEndEvent = true;\r\n                        //ESC\r\n                    }\r\n                    else if (ev.keyCode === 27) {\r\n                        isEndEvent = true;\r\n                        save = false;\r\n                    }\r\n                }\r\n                else if (ev instanceof FocusEvent) {\r\n                    isEndEvent = true;\r\n                }\r\n                if (isEndEvent) {\r\n                    var inputEl = ev.target;\r\n                    var aEl = inputEl.parentElement.querySelector('a');\r\n                    if (aEl) {\r\n                        aEl.style.removeProperty('display');\r\n                        inputEl.style.display = 'none';\r\n                    }\r\n                    if (save && _this.column.caption !== inputEl.value) {\r\n                        _this.column.caption = inputEl.value;\r\n                        _this.fireColumnChanged();\r\n                    }\r\n                    else {\r\n                        inputEl.value = _this.column.caption;\r\n                        safeFocus(aEl);\r\n                    }\r\n                    _this.element.removeAttribute(eqDragManager.DRAG_DISABLED_ATTR);\r\n                }\r\n                return true;\r\n            }); });\r\n        }\r\n        else {\r\n            builder.addChild('span', function (b) {\r\n                b.text(_this.column.caption)\r\n                    .title(_this.column.caption);\r\n            });\r\n        }\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.renderSoringButton = function (sorting) {\r\n        var _this = this;\r\n        var sortButtonCssClass = eqCssPrefix + \"-column-sortbutton\";\r\n        var sortButtonDirectionCssClass;\r\n        switch (sorting) {\r\n            case SortDirection.Ascending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-asc\";\r\n                break;\r\n            case SortDirection.Descending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-desc\";\r\n                break;\r\n            default:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-none\";\r\n                break;\r\n        }\r\n        if (!this.isEditable()) {\r\n            if (sorting === SortDirection.Ascending\r\n                || sorting === SortDirection.Descending)\r\n                return domel('div')\r\n                    .addClass(sortButtonCssClass, eqCssPrefix + \"-button\", sortButtonDirectionCssClass)\r\n                    .title(i18n.getText('ButtonSorting'))\r\n                    .toDOM();\r\n            return null;\r\n        }\r\n        return domel('div')\r\n            .addClass(sortButtonCssClass, eqCssPrefix + \"-button\", sortButtonDirectionCssClass)\r\n            .data(\"btnplaceholder\", \"\")\r\n            .title(i18n.getText('ButtonSorting'))\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.keepShowingButtons = true;\r\n            var menu = _this.getUIS() ? _this.panel.sortMenu || _this.panel.moveMenu : _this.panel.moveMenu;\r\n            menu.showMenu({\r\n                anchor: _this.sortingButton,\r\n                selectedIds: _this.column.isHidden() ? ['IsHidden'] : null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var action;\r\n                    switch (data.id) {\r\n                        case \"IsHidden\":\r\n                            action = ColumnAction.Hidden;\r\n                            break;\r\n                        case \"MoveTop\":\r\n                            action = ColumnAction.MoveTop;\r\n                            break;\r\n                        case \"MoveDown\":\r\n                            action = ColumnAction.MoveDown;\r\n                            break;\r\n                        case \"MoveUp\":\r\n                            action = ColumnAction.MoveUp;\r\n                            break;\r\n                        case \"MoveBottom\":\r\n                            action = ColumnAction.MoveBottom;\r\n                            break;\r\n                        case \"None\":\r\n                            action = ColumnAction.SortingNone;\r\n                            break;\r\n                        case \"Ascending\":\r\n                            action = ColumnAction.SortingAsc;\r\n                            break;\r\n                        case \"Descending\":\r\n                            action = ColumnAction.SortingDesc;\r\n                            break;\r\n                    }\r\n                    _this.buttonMenuHandler(action, null);\r\n                },\r\n                menuClosedCallback: function () {\r\n                    _this.keepShowingButtons = false;\r\n                    if (!_this.isMouseOverBlock) {\r\n                        _this.leaveButtonBlock();\r\n                    }\r\n                }\r\n            });\r\n        })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.renderCheckbox = function () {\r\n        var _this = this;\r\n        if (this.panel.options.showCheckboxes && !this.column.isReadOnly()) {\r\n            return domel(\"div\")\r\n                .title(i18n.getText('CmdToggleEnable'))\r\n                .attr('tabIndex', '0')\r\n                .addClass(this.cssPrefix + \"-colelement \" + this.cssPrefix + \"-column-checkbox\")\r\n                .addClass(\"\" + (this.column.enabled ? 'enabled' : ''))\r\n                .on('click', function () {\r\n                _this.column.enabled = !_this.column.enabled;\r\n                _this.column.fireChangedEvent();\r\n                return false;\r\n            })\r\n                .on('keypress', function (evt) { if ([13, 32].includes(evt.keyCode)) {\r\n                evt.target.click();\r\n            } })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.renderDeleteButton = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-deletebutton-placeholder\")\r\n            .data(\"btnplaceholder\", \"\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-delete\")\r\n            .title(i18n.getText('CmdDelete'))\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (ev) { return _this.buttonMenuHandler(ColumnAction.Delete, ev); }) //touchstart\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } }); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.renderMenuButton = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-menubutton-placeholder\")\r\n            .data(\"btnplaceholder\", \"\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-menu\")\r\n            .title(i18n.getText('ButtonMenu'))\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (evt) { return _this.buttonMenuHandler(ColumnAction.Menu, evt); }) //touchstart \r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } }); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.getDefaultColumnCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr);\r\n    };\r\n    ColumnRendererCP.prototype.getDefaultTitleText = function (attr) {\r\n        return this.getAttributeCaption(attr, this.panel.options.titleElementFormat);\r\n    };\r\n    ColumnRendererCP.prototype.getAttributeCaption = function (attr, format) {\r\n        format = format || this.panel.options.attrElementFormat;\r\n        var model = this.panel.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        var result = \"\";\r\n        result += this.column.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n        if (this.column.enabled) {\r\n            result += this.column.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n        }\r\n        result += this.column.isHidden() ? \" \" + this.cssPrefix + \"-hidden\" : '';\r\n        return result;\r\n    };\r\n    ColumnRendererCP.prototype.renderColumnTypeButton = function () {\r\n        var _this = this;\r\n        return (this.isEditable() && this.panel.options.allowAggrColumns !== false)\r\n            ? domel('div')\r\n                .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-typebutton-placeholder\", this.cssPrefix + \"-button-active\")\r\n                .data(\"btnplaceholder\", \"\")\r\n                .addChild('div', function (b) { return b\r\n                .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-type\")\r\n                .title(i18n.getText('ButtonToAggr'))\r\n                .attr('tabIndex', '0')\r\n                .on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                _this.keepShowingButtons = true;\r\n                _this.changeTypeHandler(ev);\r\n            })\r\n                .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                evt.target.click();\r\n            } }); })\r\n                .toDOM()\r\n            : null;\r\n    };\r\n    ColumnRendererCP.prototype.renderEnabledButton = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-enablebutton-placeholder\", this.cssPrefix + \"-button-active\")\r\n            .data(\"btnplaceholder\", \"\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-enable\")\r\n            .title(i18n.getText('CmdToggleEnable'))\r\n            .addClass(_this.column.enabled ? 'enabled' : '')\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (evt) { return _this.buttonMenuHandler(ColumnAction.Enable, evt); }) //touchstart\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } }); }).toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.isEditable = function () {\r\n        return this.column.enabled && !this.column.isReadOnly();\r\n    };\r\n    ColumnRendererCP.prototype.getUIS = function () {\r\n        return this.panel\r\n            .getContext().getModel()\r\n            .checkAttrProperty(this.column.expr.value, \"useInSorting\");\r\n    };\r\n    ColumnRendererCP.prototype.onMouseEnter = function (e) {\r\n        this.isMouseOverBlock = true;\r\n        this.enterButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.onMouseLeave = function (e) {\r\n        this.isMouseOverBlock = false;\r\n        this.leaveButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.isColumnActive = function () {\r\n        return this.element.classList.contains(\"active\");\r\n    };\r\n    ColumnRendererCP.prototype.hideButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", null);\r\n    };\r\n    ColumnRendererCP.prototype.showButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", \"\");\r\n    };\r\n    ColumnRendererCP.prototype.adjustButtonsVisibility = function () {\r\n        if (this.panel.options.alwaysShowButtons ||\r\n            ((this.panel.options.accentActiveColumn || browserUtils.isMobileMode())\r\n                && this.isColumnActive())) {\r\n            this.showButtons();\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.enterButtonBlock = function () {\r\n        this.showButtons();\r\n    };\r\n    ColumnRendererCP.prototype.leaveButtonBlock = function () {\r\n        if (!this.keepShowingButtons && this.panel.options.alwaysShowButtons !== true && (!this.isColumnActive() || this.panel.options.accentActiveColumn != true)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.createFunctionMenu = function () {\r\n        var items = [];\r\n        var funcs = this.panel.getContext().getModel().getAggrFunctions();\r\n        var funcAllowed = true;\r\n        var item = null;\r\n        var attribute = this.getAttribute();\r\n        var funcCaption;\r\n        for (var _i = 0, funcs_1 = funcs; _i < funcs_1.length; _i++) {\r\n            var func = funcs_1[_i];\r\n            if (!func)\r\n                continue;\r\n            var toInclude = func.appliedTypes.indexOf(attribute.dataType) >= 0;\r\n            if (this.column.expr.func === func.id && !toInclude) {\r\n                funcAllowed = false;\r\n            }\r\n            if (toInclude) {\r\n                funcCaption = this.panel.getContext().getModel()\r\n                    .getAggrFunctionCaption(func.id);\r\n                item = {\r\n                    id: func.id,\r\n                    text: funcCaption\r\n                };\r\n                items.push(item);\r\n            }\r\n        }\r\n        if (!funcAllowed) {\r\n            this.column.expr.func = items[0].id;\r\n        }\r\n        //Add \"Custom Expression\" menu\r\n        var columnsPanel = this.panel;\r\n        if (columnsPanel.areCustomExpressionsAllowed()) {\r\n            item = {\r\n                id: 'CustomSqlDivider',\r\n                text: '---'\r\n            };\r\n            items.push(item);\r\n            funcCaption = i18n.getText('CustomExpression');\r\n            item = {\r\n                id: 'CUSTOMSQL',\r\n                text: funcCaption\r\n            };\r\n            items.push(item);\r\n        }\r\n        var menuId = this.column.id;\r\n        if (menuId) {\r\n            menuId += '-FunctionsMenu';\r\n        }\r\n        var menuOptions = {\r\n            items: items,\r\n            id: menuId,\r\n            searchBoxAlwaysShown: false,\r\n            domWriteItemsId: true //this.panel.options.domWriteItemsId\r\n        };\r\n        this.functionMenu = new PopupMenu(menuOptions);\r\n    };\r\n    ColumnRendererCP.prototype.getButtonsToShow = function () {\r\n        return this.panel.options.buttons && Array.isArray(this.panel.options.buttons) ? this.panel.options.buttons : [\"enable\", \"delete\", \"type\", \"sorting\"];\r\n    };\r\n    ColumnRendererCP.prototype.buttonMenuHandler = function (action, evt) {\r\n        var _this = this;\r\n        switch (action) {\r\n            case ColumnAction.Delete:\r\n                var curQuery = this.column.getQuery();\r\n                curQuery.removeColumn(this.column, this.panel);\r\n                curQuery.fireColumnsChangedEvent(QueryChangeAction.Delete, this.column);\r\n                break;\r\n            case ColumnAction.Enable:\r\n                this.column.enabled = !this.column.enabled;\r\n                this.fireColumnChanged();\r\n                break;\r\n            case ColumnAction.Hidden:\r\n                this.column.setHidden(!this.column.isHidden());\r\n                this.fireColumnChanged();\r\n                break;\r\n            case ColumnAction.MoveTop:\r\n                this.panel.moveColumn(this.column, \"MoveTop\");\r\n                break;\r\n            case ColumnAction.MoveBottom:\r\n                this.panel.moveColumn(this.column, \"MoveBottom\");\r\n                break;\r\n            case ColumnAction.MoveUp:\r\n                this.panel.moveColumn(this.column, \"MoveUp\");\r\n                break;\r\n            case ColumnAction.MoveDown:\r\n                this.panel.moveColumn(this.column, \"MoveDown\");\r\n                break;\r\n            case ColumnAction.SortingAsc:\r\n                this.column.sorting = SortDirection.Ascending;\r\n                this.column.fireChangedEvent();\r\n                break;\r\n            case ColumnAction.SortingDesc:\r\n                this.column.sorting = SortDirection.Descending;\r\n                this.column.fireChangedEvent();\r\n                break;\r\n            case ColumnAction.SortingNone:\r\n                this.column.sorting = SortDirection.None;\r\n                this.column.fireChangedEvent();\r\n                break;\r\n            case ColumnAction.Menu:\r\n                var colMenu = this.buttonMenu;\r\n                this.keepShowingButtons = true;\r\n                colMenu.showMenu({\r\n                    anchor: evt ? evt.target : null,\r\n                    selectedIds: this.getButtonMenuSelectedItems(),\r\n                    itemSelectedCallback: function (item) {\r\n                        var action = item.id;\r\n                        switch (item.id) {\r\n                            case \"enable\":\r\n                                action = ColumnAction.Enable;\r\n                                break;\r\n                            case \"delete\":\r\n                                action = ColumnAction.Delete;\r\n                                break;\r\n                            case \"hidden\":\r\n                                action = ColumnAction.Hidden;\r\n                                break;\r\n                            case \"MoveTop\":\r\n                                action = ColumnAction.MoveTop;\r\n                                break;\r\n                            case \"MoveBottom\":\r\n                                action = ColumnAction.MoveBottom;\r\n                                break;\r\n                            case \"MoveUp\":\r\n                                action = ColumnAction.MoveUp;\r\n                                break;\r\n                            case \"MoveDown\":\r\n                                action = ColumnAction.MoveDown;\r\n                                break;\r\n                            case \"None\":\r\n                                action = ColumnAction.SortingNone;\r\n                                break;\r\n                            case \"Ascending\":\r\n                                action = ColumnAction.SortingAsc;\r\n                                break;\r\n                            case \"Descending\":\r\n                                action = ColumnAction.SortingAsc;\r\n                                break;\r\n                        }\r\n                        _this.buttonMenuHandler(action, evt);\r\n                    },\r\n                    itemFilterCallback: function (item) {\r\n                        var result = _this.column.enabled || item.id === \"__group\" || item.id === \"enable\" || item.id === \"delete\";\r\n                        return result;\r\n                    },\r\n                    menuClosedCallback: function () {\r\n                        _this.keepShowingButtons = false;\r\n                        if (!_this.isMouseOverBlock)\r\n                            _this.leaveButtonBlock();\r\n                    }\r\n                });\r\n                break;\r\n            default:\r\n                this.processExtraButtonMenuItems(action, evt);\r\n                break;\r\n        }\r\n        evt && evt.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.createButtonMenu = function () {\r\n        if (!this.buttonMenu) {\r\n            var menuId = this.column.id;\r\n            if (menuId) {\r\n                menuId += '-ButtonMenu';\r\n            }\r\n            var common = [];\r\n            common.push({\r\n                id: \"enable\",\r\n                text: i18n.getText('MenuEnable')\r\n            });\r\n            if (this.panel.options.allowHiddenColumns) {\r\n                common.push({\r\n                    id: \"hidden\",\r\n                    text: i18n.getText('CmdHiddenColumn')\r\n                });\r\n            }\r\n            common.push({\r\n                id: \"delete\",\r\n                text: i18n.getText('CmdDelete')\r\n            });\r\n            var items = [];\r\n            items.push({\r\n                id: '__group',\r\n                text: ' ',\r\n                items: common\r\n            });\r\n            var sortItems = this.panel.options.allowSorting ? this.panel.getSortMenuList().concat(this.panel.getMoveMenuList()) :\r\n                this.panel.getMoveMenuList();\r\n            items.push({\r\n                id: '__group',\r\n                text: i18n.getText('CmdGroupSort'),\r\n                items: sortItems\r\n            });\r\n            var extra = this.getExtraButtonMenuItems();\r\n            if (extra && Array.isArray(extra)) {\r\n                items = items.concat(extra);\r\n            }\r\n            var menuOptions = {\r\n                items: items,\r\n                id: menuId,\r\n                searchBoxAlwaysShown: false,\r\n                domWriteItemsId: true,\r\n                showSelected: true\r\n            };\r\n            this.buttonMenu = new PopupMenu(menuOptions);\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.getButtonMenuSelectedItems = function () {\r\n        var arrSelected = [];\r\n        if (this.column.enabled) {\r\n            arrSelected.push(\"enable\");\r\n        }\r\n        ;\r\n        if (this.column.isHidden()) {\r\n            arrSelected.push(\"hidden\");\r\n        }\r\n        ;\r\n        return arrSelected;\r\n    };\r\n    return ColumnRendererCP;\r\n}());\r\nexport { ColumnRendererCP };\r\n//# sourceMappingURL=column_renderer.js.map","import { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { getElementAbsolutePos, getScrollPos, getWinSize, getViewportSize } from '@easydata/ui';\r\nimport { browserUtils } from './browser_utils';\r\nvar MenuLevel = /** @class */ (function () {\r\n    function MenuLevel(options) {\r\n        this.isFilteringMode = false;\r\n        this.showSelected = false;\r\n        //menu, items, levelIndex\r\n        this.parentMenu = options.menu || null;\r\n        this.parentLevel = options.parent || null;\r\n        this.parentElement = options.container || document.body;\r\n        this.levelIndex = options.levelIndex || 0;\r\n        this.levelDiv = null;\r\n        this.domWriteItemsId = options.domWriteItemsId || false;\r\n        this.menuId = options.menuId || '';\r\n        this.itemRenderedCallback = options.itemRenderedCallback || null;\r\n        //we need to define special \"apply\" item for this level\r\n        this.applyItem = { id: null, text: null, itemDiv: null };\r\n        this.items = options.items || [];\r\n        this.activeItem = null;\r\n        this.selectedItem = null;\r\n        this.initialized = false;\r\n        this.showSelected = options.showSelected;\r\n        this.updated = 0;\r\n        this.renderContent();\r\n    }\r\n    Object.defineProperty(MenuLevel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-menu';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MenuLevel.prototype.getItems = function () {\r\n        return this.items;\r\n    };\r\n    MenuLevel.prototype.setItems = function (items) {\r\n        this.items = items;\r\n    };\r\n    MenuLevel.prototype.renderContent = function () {\r\n        var _this = this;\r\n        if (!this.items) {\r\n            return;\r\n        }\r\n        var self = this;\r\n        //define internal variables used in this function\r\n        var itemBgColor = this.parentMenu.style.colors.bgON || \"white\";\r\n        var itemFgColor = this.parentMenu.style.colors.fgON || \"black\";\r\n        var itemOverBgColor = this.parentMenu.style.colors.bgOVER || \"LightSteelBlue\";\r\n        var itemFontFamily = this.parentMenu.style.itemStyle.fontFamily || \"\";\r\n        var itemFontSize = this.parentMenu.style.itemStyle.fontSize || \"14px\";\r\n        var multiselect = this.parentMenu.options.multiselect;\r\n        var isSubQuery = this.parentMenu.options.isSubQuery;\r\n        //add base DIV element which is also used to show the shadow\r\n        var baseDivBuilder = domel('div')\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            baseDivBuilder\r\n                .setStyle('backgroundColor', itemBgColor)\r\n                .setStyle('border', '1px solid')\r\n                .setStyle('borderColor', itemBgColor)\r\n                .setStyle('backgroundColor', this.parentMenu.style.colors.border)\r\n                .setStyle('margin', '-2px 2px 2px -2px')\r\n                .setStyle('width', 'auto')\r\n                .setStyle('height', 'auto');\r\n        }\r\n        baseDivBuilder\r\n            .setStyle('z-index', this.parentMenu.zIndex)\r\n            .setStyle('position', 'absolute')\r\n            .setStyle('display', 'none');\r\n        var baseDiv = baseDivBuilder.toDOM();\r\n        baseDiv['menuLevel'] = this;\r\n        var applyItem = this.applyItem;\r\n        //if multiselect option is on - then we should add special \"apply\" item\r\n        if (multiselect && this.levelIndex === 0) {\r\n            var applyDiv = document.createElement(\"div\");\r\n            applyDiv.classList.add(this.cssPrefix + \"-applyDiv\");\r\n            applyDiv['menuItem'] = applyItem;\r\n            this.applyBtn = document.createElement('button');\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                applyDiv.style.borderBottom = '1px solid';\r\n                applyDiv.style.padding = '5px';\r\n                applyDiv.style.marginBottom = '5px';\r\n                this.applyBtn.style.padding = '0 5px';\r\n                this.applyBtn.style.cursor = \"pointer\";\r\n            }\r\n            var applyTextNode = document.createTextNode(this.parentMenu.options.buttons.submit);\r\n            this.applyBtn.appendChild(applyTextNode);\r\n            applyDiv.appendChild(this.applyBtn);\r\n            //cancel btn\r\n            var cancelBtn = document.createElement('button');\r\n            cancelBtn.classList.add(this.cssPrefix + \"-cancel\");\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                cancelBtn.style.padding = '0 5px';\r\n                cancelBtn.style.cursor = 'pointer';\r\n                cancelBtn.style.marginLeft = '15px';\r\n            }\r\n            var cancelText = document.createTextNode(this.parentMenu.options.buttons.cancel);\r\n            cancelBtn.appendChild(cancelText);\r\n            applyDiv.appendChild(cancelBtn);\r\n            baseDiv.appendChild(applyDiv);\r\n            applyItem.itemDiv = applyDiv;\r\n            this.applyBtn.addEventListener('click', function () {\r\n                _this.submit(_this.applyItem);\r\n            });\r\n            cancelBtn.addEventListener('click', function () {\r\n                _this.parentMenu.hideMenu();\r\n            });\r\n        }\r\n        // if too many items - then we add a special \"search\" item\r\n        // or there is an options to show always\r\n        if (this.parentLevel == null\r\n            && (this.parentMenu.options.searchBoxAlwaysShown || this.items.length >= this.parentMenu.options.showSearchBoxAfter)) {\r\n            var searchDivBuilder = domel('div')\r\n                .addClass(this.cssPrefix + \"-searchDiv\");\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                searchDivBuilder\r\n                    .setStyle('border-bottom', '1px solid #666')\r\n                    .setStyle('background-color', itemBgColor)\r\n                    .setStyle('border-color', this.parentMenu.style.colors.border);\r\n                if (itemFontFamily != \"\") {\r\n                    searchDivBuilder.setStyle('font-family', itemFontFamily);\r\n                }\r\n                searchDivBuilder\r\n                    .setStyle('font-size', itemFontSize)\r\n                    .setStyle('color', itemFgColor)\r\n                    .setStyle('cursor', 'pointer')\r\n                    .setStyle('text-align', 'left')\r\n                    .setStyle('padding', '5px');\r\n            }\r\n            var searchEditBoxBuilder = domel('input')\r\n                .id('searchBox')\r\n                .name('searchBox')\r\n                .type('text')\r\n                .size(16)\r\n                .addClass(this.cssPrefix + \"-searchBox\")\r\n                .on('input', function (ev) {\r\n                _this.deactivateItem(_this.activeItem);\r\n                _this.renderItems(_this.searchBox.value);\r\n            })\r\n                .on('keydown', function (ev) {\r\n                var keyCode = ev.keyCode;\r\n                switch (keyCode) {\r\n                    case 13: //enter\r\n                        if (_this.activeItem) {\r\n                            _this.activeItem.itemDiv.click();\r\n                        }\r\n                        break;\r\n                    case 38: // up\r\n                        _this.moveActiveItemUp();\r\n                        break;\r\n                    case 40: // down\r\n                        _this.moveActiveItemDown();\r\n                        break;\r\n                    case 39: // right\r\n                        if (!_this.searchBox.value) {\r\n                            _this.openSubLevel(_this.activeItem);\r\n                        }\r\n                        break;\r\n                }\r\n            });\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                searchEditBoxBuilder\r\n                    .setStyle('font-family', 'monospace')\r\n                    .setStyle('font-size', '8pt')\r\n                    .setStyle('width', '100%');\r\n            }\r\n            if (isSubQuery) {\r\n                searchEditBoxBuilder.addClass('eqjs-dialog');\r\n            }\r\n            this.searchBox = searchEditBoxBuilder.toDOM();\r\n            this.searchDiv = searchDivBuilder.toDOM();\r\n            this.searchDiv.appendChild(this.searchBox);\r\n            baseDiv.appendChild(this.searchDiv);\r\n        }\r\n        var scrollDiv = document.createElement(\"div\");\r\n        scrollDiv.tabIndex = 1;\r\n        domel(scrollDiv)\r\n            .addClass(this.cssPrefix + \"-scrollDiv\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        scrollDiv.style.overflowX = \"hidden\";\r\n        scrollDiv.style.overflowY = \"auto\";\r\n        scrollDiv.style.position = \"relative\";\r\n        baseDiv.appendChild(scrollDiv);\r\n        this.levelDiv = baseDiv;\r\n        this.scrollDiv = scrollDiv;\r\n        if (this.menuId) {\r\n            this.levelDiv.id = this.menuId;\r\n        }\r\n        this.renderItems();\r\n        var scrollDivKeyDownHandler = function (event) {\r\n            switch (event.which) {\r\n                case 13: // enter\r\n                    if (_this.parentMenu.options.multiselect) {\r\n                        _this.parentMenu.getRootLevel().applyBtn.click();\r\n                    }\r\n                    else {\r\n                        if (_this.activeItem) {\r\n                            _this.activeItem.itemDiv.click();\r\n                        }\r\n                    }\r\n                    break;\r\n                case 32: // space\r\n                    if (_this.activeItem) {\r\n                        _this.activeItem.itemDiv.click();\r\n                    }\r\n                    break;\r\n                case 37: // left\r\n                    if (_this.parentLevel && !_this.isFilteringMode) {\r\n                        _this.deactivateItem(_this.activeItem);\r\n                        _this.parentLevel.focus();\r\n                    }\r\n                    break;\r\n                case 39: // right\r\n                    _this.openSubLevel(_this.activeItem);\r\n                    break;\r\n                case 38: // up\r\n                    _this.moveActiveItemUp();\r\n                    break;\r\n                case 40: // down\r\n                    _this.moveActiveItemDown();\r\n                    break;\r\n                default: return; // exit this handler for other keys\r\n            }\r\n            event.preventDefault(); // prevent the default action (scroll / move caret)            \r\n        };\r\n        scrollDiv.addEventListener(\"keydown\", scrollDivKeyDownHandler);\r\n        if (browserUtils.isMobileMode()) {\r\n            this.closeDiv =\r\n                domel('div', baseDiv)\r\n                    .addClass('eqjs-menu-close-btn')\r\n                    .addText(i18n.getText('ButtonClose'))\r\n                    .on('click', function () {\r\n                    _this.parentMenu.hideMenu();\r\n                })\r\n                    .toDOM();\r\n        }\r\n    };\r\n    MenuLevel.prototype.moveActiveItemDown = function () {\r\n        var items = this.isFilteringMode ? this.filteredItems : this.items;\r\n        if (this.activeItem) {\r\n            var idx = items.indexOf(this.activeItem);\r\n            if (idx < items.length - 1) {\r\n                this.activateItem(items[idx + 1], false);\r\n            }\r\n        }\r\n        else {\r\n            this.activateItem(items[0], false);\r\n        }\r\n    };\r\n    MenuLevel.prototype.moveActiveItemUp = function () {\r\n        var items = this.isFilteringMode ? this.filteredItems : this.items;\r\n        if (this.activeItem) {\r\n            var idx = items.indexOf(this.activeItem);\r\n            if (idx > 0) {\r\n                this.activateItem(items[idx - 1], false);\r\n            }\r\n        }\r\n        else {\r\n            this.activateItem(items[items.length - 1], false);\r\n        }\r\n    };\r\n    MenuLevel.prototype.openSubLevel = function (menuItem) {\r\n        if (menuItem && menuItem.items && !this.isFilteringMode) {\r\n            this.showSubLevel(menuItem);\r\n            menuItem.subLevel.activateItem(menuItem.subLevel.items[0]);\r\n        }\r\n    };\r\n    MenuLevel.prototype.focusScrollDiv = function () {\r\n        this.scrollDiv.focus();\r\n    };\r\n    MenuLevel.prototype.turnCheckboxes = function (items) {\r\n        //turn checkboxes on for selected items\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (item.itemCheckbox)\r\n                item.itemCheckbox.checked = this.isItemSelected(item);\r\n            if (item.items) {\r\n                this.turnCheckboxes(item.items);\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.isItemSelected = function (item) {\r\n        if (item.items) {\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                if (this.isItemSelected(item.items[i])) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        else {\r\n            return item.selected;\r\n        }\r\n    };\r\n    MenuLevel.prototype.setItemSelected = function (item, value) {\r\n        if (item.items) {\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                this.setItemSelected(item.items[i], value);\r\n            }\r\n        }\r\n        else {\r\n            item.selected = value;\r\n        }\r\n    };\r\n    MenuLevel.prototype.submitItems = function (items, selectedItems) {\r\n        for (var j = 0; j < items.length; j++) {\r\n            if (items[j].items) {\r\n                this.submitItems(items[j].items, selectedItems);\r\n            }\r\n            else {\r\n                if (items[j].selected) {\r\n                    selectedItems.push(items[j]);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.allSubitemsAreFiltered = function (items, filterCallback) {\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (filterCallback(items[i]))\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    MenuLevel.prototype.isItemDiv = function (element) {\r\n        return element['menuItem'] ? true : false;\r\n    };\r\n    MenuLevel.prototype.isLevelDiv = function (element) {\r\n        return element['menuLevel'] ? true : false;\r\n    };\r\n    MenuLevel.prototype.getMenuItem = function (element) {\r\n        var el = element;\r\n        while (!this.isItemDiv(el)) {\r\n            if (this.isLevelDiv(el)) {\r\n                throw \"Can't get menu item\";\r\n            }\r\n            el = el.parentElement;\r\n        }\r\n        return el['menuItem'];\r\n    };\r\n    MenuLevel.prototype.renderItemsWithoutFilter = function () {\r\n        var _this = this;\r\n        this.isFilteringMode = false;\r\n        var scrollDiv = this.scrollDiv;\r\n        var multiselect = this.parentMenu.options.multiselect;\r\n        var activateOnMouseOver = this.parentMenu.options.activateOnMouseOver;\r\n        var itemFgColor = this.parentMenu.style.colors.fgON || 'black';\r\n        var itemOverBgColor = this.parentMenu.style.colors.bgOVER || 'LightSteelBlue';\r\n        var itemFontSize = this.parentMenu.style.itemStyle.fontSize || '14px';\r\n        var itemFilterCallback = this.parentMenu.getItemFilterCallback();\r\n        scrollDiv.innerHTML = \"\";\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (!item || !item.text)\r\n                continue;\r\n            if (itemFilterCallback) {\r\n                if (!itemFilterCallback(item))\r\n                    continue;\r\n                if (item.items && this.allSubitemsAreFiltered(item.items, itemFilterCallback))\r\n                    continue;\r\n            }\r\n            item.data = function (propName) {\r\n                return _this[propName];\r\n            };\r\n            if (typeof (item.selected) == \"undefined\") {\r\n                item.selected = false;\r\n            }\r\n            if (item.selected && this.selectedItem == null) {\r\n                this.selectedItem = item;\r\n            }\r\n            var itemDiv = document.createElement(\"div\");\r\n            domel(itemDiv)\r\n                .addClass(this.cssPrefix + \"-itemDiv\")\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            if (item.selected && this.showSelected && !multiselect) {\r\n                itemDiv.classList.add(this.cssPrefix + \"-selected\");\r\n            }\r\n            ;\r\n            if (this.domWriteItemsId && this.menuId) {\r\n                itemDiv.id = 'item-' + this.menuId + '-' + item.id;\r\n            }\r\n            scrollDiv.appendChild(itemDiv);\r\n            itemDiv['menuItem'] = item;\r\n            itemDiv['menuLevel'] = this;\r\n            item.itemDiv = itemDiv;\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                itemDiv.style.fontSize = itemFontSize;\r\n                itemDiv.style.color = itemFgColor;\r\n                itemDiv.style.paddingLeft = \"15px\";\r\n                itemDiv.style.paddingRight = \"6px\";\r\n                itemDiv.style.cursor = \"pointer\";\r\n            }\r\n            if (item.text == '---') {\r\n                itemDiv.appendChild(document.createElement('hr'));\r\n            }\r\n            else {\r\n                if (multiselect) {\r\n                    var cb = document.createElement(\"input\");\r\n                    cb.type = \"checkbox\";\r\n                    cb.id = \"cb\" + item.id;\r\n                    cb.checked = this.isItemSelected(item);\r\n                    cb.defaultChecked = this.isItemSelected(item);\r\n                    itemDiv.appendChild(cb);\r\n                    item.itemCheckbox = cb;\r\n                    if (this.parentMenu.options.useDefaultStyles) {\r\n                        cb.style.margin = \"4px 10px 0 0\";\r\n                        cb.style.verticalAlign = \"top\";\r\n                    }\r\n                }\r\n                var itemText = document.createTextNode(item.text);\r\n                itemDiv.appendChild(itemText);\r\n                if (item.items && item.items.length > 0) {\r\n                    itemDiv.classList.add(this.cssPrefix + \"-itemDiv-hasChildren\");\r\n                    var arrowSpan = document.createElement('span');\r\n                    arrowSpan.classList.add(this.cssPrefix + \"-itemDiv-arrow\");\r\n                    itemDiv.appendChild(arrowSpan);\r\n                    var arrowText = document.createTextNode('>');\r\n                    arrowSpan.appendChild(arrowText);\r\n                }\r\n                var itemClickHandler = function (ev) {\r\n                    var menuItem = _this.getMenuItem(ev.target);\r\n                    if (multiselect) {\r\n                        if (!menuItem.items || ev.target == menuItem.itemCheckbox) {\r\n                            var itemSelected = _this.isItemSelected(menuItem);\r\n                            _this.setItemSelected(menuItem, !itemSelected);\r\n                            menuItem.itemCheckbox.checked = !itemSelected;\r\n                            _this.parentMenu.refreshCheckboxes();\r\n                        }\r\n                        else {\r\n                            _this.activateItem(menuItem);\r\n                        }\r\n                    }\r\n                    else {\r\n                        _this.activateItem(menuItem);\r\n                        _this.submit(menuItem);\r\n                    }\r\n                    return false;\r\n                };\r\n                itemDiv.removeEventListener(\"click\", itemClickHandler);\r\n                itemDiv.addEventListener('click', itemClickHandler);\r\n                itemDiv.addEventListener('mouseenter', function (ev) {\r\n                    var item = _this.getMenuItem(ev.target);\r\n                    _this.parentMenu.isCursorInside = true;\r\n                    if (activateOnMouseOver) {\r\n                        _this.activateItem(item);\r\n                    }\r\n                });\r\n                itemDiv.addEventListener('mouseleave', function (ev) {\r\n                    var item = _this.getMenuItem(ev.target);\r\n                    _this.parentMenu.isCursorInside = false;\r\n                    setTimeout(function () {\r\n                        if (!_this.parentMenu.isCursorInside) {\r\n                            if (activateOnMouseOver && item == _this.activeItem && !item.subLevel) {\r\n                                _this.deactivateItem(item);\r\n                            }\r\n                        }\r\n                    }, 200);\r\n                });\r\n            }\r\n            if (this.itemRenderedCallback) {\r\n                this.itemRenderedCallback(this.menuId, itemDiv);\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.renderItemsWithFilter = function (filter) {\r\n        this.isFilteringMode = true;\r\n        var scrollDiv = this.scrollDiv;\r\n        scrollDiv.innerHTML = \"\";\r\n        var filterSections = filter.split('>');\r\n        var pureFilterTexts = filterSections.map(function (section) { return section.replace(/\\*/g, ''); });\r\n        var items = this.filterItems(this.items, filterSections);\r\n        this.filteredItems = [];\r\n        for (var i = 0; i < items.length; i++) {\r\n            this.renderItemWithFilter(items[i], pureFilterTexts, 0);\r\n        }\r\n    };\r\n    MenuLevel.prototype.matchesFilter = function (text, regexp) {\r\n        if (text && regexp) {\r\n            return regexp.test(text);\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    MenuLevel.prototype.filterItems = function (items, filterSections) {\r\n        var resultItems = [];\r\n        var filter = filterSections.length > 0 ? filterSections[0] : '';\r\n        var restFilterSections = filterSections.length > 1 ? filterSections.slice(1) : filterSections;\r\n        var filterRegexp = filter ? new RegExp(filter.replace(/\\*/g, '.+?'), 'i') : null;\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (item.items) {\r\n                var groupItem = dataUtils.assign({}, item);\r\n                var groupItemMatches = this.matchesFilter(item.text, filterRegexp);\r\n                //if we have only one filter section (or an empty filter)\r\n                if (filterSections.length < 2) {\r\n                    //if current group item matches the filter -> show all sub-items\r\n                    if (groupItemMatches && filterSections.length < 2) {\r\n                        groupItem.items = dataUtils.createArrayFrom(item.items);\r\n                    }\r\n                    else {\r\n                        groupItem.items = this.filterItems(item.items, restFilterSections);\r\n                    }\r\n                }\r\n                //if we have more than 1 filter section and there is a match -> filter sub-items as well\r\n                else if (groupItemMatches) {\r\n                    groupItem.items = this.filterItems(item.items, restFilterSections);\r\n                }\r\n                //otherwise we skip this group at all\r\n                else {\r\n                    groupItem.items = [];\r\n                }\r\n                if (groupItem.items.length > 0) {\r\n                    resultItems.push(groupItem);\r\n                }\r\n            }\r\n            else {\r\n                if (this.matchesFilter(item.text, filterRegexp)) {\r\n                    resultItems.push(item);\r\n                }\r\n            }\r\n        }\r\n        return resultItems;\r\n    };\r\n    MenuLevel.prototype.renderItemWithFilter = function (item, filterTexts, level) {\r\n        var _this = this;\r\n        var scrollDiv = this.scrollDiv;\r\n        var levelFilterText = level < filterTexts.length ? filterTexts[level] : filterTexts[filterTexts.length - 1];\r\n        var multiselect = this.parentMenu.options.multiselect;\r\n        var activateOnMouseOver = this.parentMenu.options.activateOnMouseOver;\r\n        var itemFgColor = this.parentMenu.style.colors.fgON || 'black';\r\n        var itemOverBgColor = this.parentMenu.style.colors.bgOVER || 'LightSteelBlue';\r\n        var itemFontSize = this.parentMenu.style.itemStyle.fontSize || '14px';\r\n        var itemFilterCallback = this.parentMenu.getItemFilterCallback();\r\n        if (!item || !item.text)\r\n            return;\r\n        if (itemFilterCallback) {\r\n            if (!itemFilterCallback(item))\r\n                return;\r\n            if (item.items && this.allSubitemsAreFiltered(item.items, itemFilterCallback))\r\n                return;\r\n        }\r\n        item.data = function (propName) {\r\n            return this[propName];\r\n        };\r\n        if (typeof (item.selected) == \"undefined\") {\r\n            item.selected = false;\r\n        }\r\n        if (item.selected && this.selectedItem == null) {\r\n            this.selectedItem = item;\r\n        }\r\n        var itemDiv = document.createElement(\"div\");\r\n        domel(itemDiv)\r\n            .addClass(this.cssPrefix + \"-itemDiv\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        itemDiv.style.marginLeft = level * 10 + \"px\";\r\n        if (item.selected && !multiselect) {\r\n            itemDiv.classList.add(this.cssPrefix + \"-selected\");\r\n        }\r\n        ;\r\n        if (this.domWriteItemsId && this.menuId) {\r\n            itemDiv.id = 'item-' + this.menuId + '-' + item.id;\r\n        }\r\n        scrollDiv.appendChild(itemDiv);\r\n        itemDiv['menuItem'] = item;\r\n        itemDiv['menuLevel'] = this;\r\n        item.itemDiv = itemDiv;\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            itemDiv.style.fontSize = itemFontSize;\r\n            itemDiv.style.color = itemFgColor;\r\n            itemDiv.style.paddingLeft = \"15px\";\r\n            itemDiv.style.paddingRight = \"6px\";\r\n            itemDiv.style.cursor = \"pointer\";\r\n        }\r\n        if (item.text == '---') {\r\n            itemDiv.appendChild(document.createElement('hr'));\r\n        }\r\n        else {\r\n            if (multiselect) {\r\n                var cb = document.createElement(\"input\");\r\n                cb.type = \"checkbox\";\r\n                cb.id = \"cb\" + item.id;\r\n                cb.checked = this.isItemSelected(item);\r\n                cb.defaultChecked = this.isItemSelected(item);\r\n                itemDiv.appendChild(cb);\r\n                item.itemCheckbox = cb;\r\n                if (this.parentMenu.options.useDefaultStyles) {\r\n                    cb.style.margin = \"4px 10px 0 0\";\r\n                    cb.style.verticalAlign = \"top\";\r\n                }\r\n            }\r\n            var itemText = document.createElement('span');\r\n            itemText.innerHTML = this.highlightText(item.text, levelFilterText);\r\n            itemDiv.appendChild(itemText);\r\n            if (item.items && item.items.length > 0) {\r\n                itemDiv.classList.add(this.cssPrefix + \"-itemDiv-filter-hasChildren\");\r\n            }\r\n            else {\r\n                this.filteredItems.push(item);\r\n                var itemClickHandler = function (event) {\r\n                    if (multiselect) {\r\n                        if (!item.items || event.target == item.itemCheckbox) {\r\n                            var itemSelected = _this.isItemSelected(item);\r\n                            _this.setItemSelected(item, !itemSelected);\r\n                            item.itemCheckbox.checked = !itemSelected;\r\n                            _this.parentMenu.refreshCheckboxes();\r\n                        }\r\n                        else {\r\n                            _this.activateItem(item);\r\n                        }\r\n                    }\r\n                    else {\r\n                        _this.activateItem(item);\r\n                        _this.submit(item);\r\n                    }\r\n                    return false;\r\n                };\r\n                itemDiv.removeEventListener(\"click\", itemClickHandler);\r\n                itemDiv.addEventListener('click', itemClickHandler);\r\n                itemDiv.addEventListener('mouseenter', function (ev) {\r\n                    ;\r\n                    _this.parentMenu.isCursorInside = true;\r\n                    if (activateOnMouseOver) {\r\n                        _this.activateItem(item);\r\n                    }\r\n                });\r\n                itemDiv.addEventListener('mouseleave', function (ev) {\r\n                    _this.parentMenu.isCursorInside = false;\r\n                    setTimeout(function () {\r\n                        if (!_this.parentMenu.isCursorInside) {\r\n                            if (activateOnMouseOver && item == _this.activeItem && !item.subLevel) {\r\n                                _this.deactivateItem(item);\r\n                            }\r\n                        }\r\n                    }, 200);\r\n                });\r\n            }\r\n        }\r\n        if (item.items) {\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                this.renderItemWithFilter(item.items[i], filterTexts, level + 1);\r\n            }\r\n        }\r\n        if (this.itemRenderedCallback) {\r\n            this.itemRenderedCallback(this.menuId, itemDiv);\r\n        }\r\n    };\r\n    MenuLevel.prototype.highlightText = function (content, text) {\r\n        if (text && text.length > 0) {\r\n            var lowerText = text.toLowerCase();\r\n            var lowerContent = content.toLowerCase();\r\n            var insertValue1 = \"<span class='eqjs-menu-itemDiv-highlight'>\";\r\n            var insertValue2 = \"</span>\";\r\n            var startIndex = lowerContent.indexOf(lowerText);\r\n            if (startIndex >= 0) {\r\n                var pos = 0;\r\n                var value = content;\r\n                var indexInMas = [];\r\n                while (true) {\r\n                    var index = lowerContent.indexOf(lowerText, pos);\r\n                    if (index >= 0) {\r\n                        indexInMas.push(index);\r\n                        pos = index + text.length;\r\n                    }\r\n                    else {\r\n                        pos++;\r\n                    }\r\n                    if (pos >= value.length - 1) {\r\n                        break;\r\n                    }\r\n                }\r\n                if (indexInMas.length > 0) {\r\n                    content = '';\r\n                    for (var i = 0; i < indexInMas.length; i++) {\r\n                        if (i === 0) {\r\n                            content += value.substring(0, indexInMas[i]);\r\n                        }\r\n                        content += insertValue1 + value.substring(indexInMas[i], indexInMas[i] + text.length) + insertValue2;\r\n                        if (i < indexInMas.length - 1) {\r\n                            content += value.substring(indexInMas[i] + text.length, indexInMas[i + 1]);\r\n                        }\r\n                        else {\r\n                            content += value.substring(indexInMas[i] + text.length);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return content;\r\n    };\r\n    MenuLevel.prototype.renderItems = function (filter) {\r\n        if (!filter && !browserUtils.isMobileMode()) {\r\n            this.renderItemsWithoutFilter();\r\n        }\r\n        else {\r\n            filter = filter || '';\r\n            this.renderItemsWithFilter(filter.toLowerCase());\r\n        }\r\n    };\r\n    MenuLevel.prototype.activateItem = function (menuItem, openSubLevel) {\r\n        if (openSubLevel === void 0) { openSubLevel = true; }\r\n        if (this.activeItem != null) {\r\n            this.deactivateItem(this.activeItem);\r\n        }\r\n        this.activeItem = menuItem;\r\n        var rowElement = menuItem.itemDiv;\r\n        rowElement.classList.add('active');\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            var itemBgColor = this.parentMenu.style.colors.bgON;\r\n            var itemFgColor = this.parentMenu.style.colors.fgON;\r\n            var itemOverBgColor = this.parentMenu.style.colors.bgOVER;\r\n            var itemOverFgColor = this.parentMenu.style.colors.fgOVER || \"\";\r\n            var itemClass = this.parentMenu.style.itemClass || \"\";\r\n            var itemClassOver = this.parentMenu.style.itemClassOver || \"\";\r\n            if (itemClassOver != \"\") {\r\n                rowElement.style.backgroundColor = \"\";\r\n                rowElement.style.color = \"\";\r\n            }\r\n            else {\r\n                rowElement.style.backgroundColor = itemOverBgColor;\r\n                rowElement.style.color = itemOverFgColor;\r\n            }\r\n        }\r\n        if (menuItem.items && !this.isFilteringMode && openSubLevel) {\r\n            this.showSubLevel(menuItem);\r\n        }\r\n    };\r\n    MenuLevel.prototype.deactivateItem = function (menuItem) {\r\n        if (!menuItem)\r\n            return;\r\n        var rowElement = menuItem.itemDiv;\r\n        rowElement.classList.remove('active');\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            var itemBgColor = this.parentMenu.style.colors.bgON;\r\n            var itemFgColor = this.parentMenu.style.colors.fgON;\r\n            var itemClass = this.parentMenu.style.itemClass || \"\";\r\n            if (itemClass != \"\") {\r\n                rowElement.style.backgroundColor = \"\";\r\n                rowElement.style.color = \"\";\r\n            }\r\n            else {\r\n                rowElement.style.backgroundColor = itemBgColor;\r\n                rowElement.style.color = itemFgColor;\r\n            }\r\n        }\r\n        if (menuItem.subLevel) {\r\n            menuItem.subLevel.hide();\r\n        }\r\n        this.activeItem = null;\r\n    };\r\n    MenuLevel.prototype.showSubLevel = function (menuItem) {\r\n        if (!menuItem.subLevel) {\r\n            var levelId = '';\r\n            if (this.menuId) {\r\n                levelId = this.menuId + \"-\" + menuItem.id;\r\n            }\r\n            menuItem.subLevel = new MenuLevel({\r\n                showSelected: this.showSelected,\r\n                menu: this.parentMenu,\r\n                parent: this,\r\n                container: this.parentElement,\r\n                items: menuItem.items,\r\n                levelIndex: this.levelIndex + 1,\r\n                domWriteItemsId: this.domWriteItemsId,\r\n                menuId: levelId,\r\n                itemRenderedCallback: this.itemRenderedCallback\r\n            });\r\n        }\r\n        var pos = getElementAbsolutePos(menuItem.itemDiv);\r\n        var scroll = getScrollPos();\r\n        var winSize = getWinSize();\r\n        //show menu to the side that have more space available\r\n        var leftSpace = pos.x - scroll.left;\r\n        var rightSpace = winSize.width - leftSpace - menuItem.itemDiv.offsetWidth;\r\n        pos.x += menuItem.itemDiv.offsetParent.offsetWidth;\r\n        pos.y += 1;\r\n        menuItem.subLevel.showAt(pos.x, pos.y, true, true);\r\n        menuItem.subLevel.levelDiv.style.width = '';\r\n        menuItem.subLevel.levelDiv.style.right = '';\r\n        if ((rightSpace >= menuItem.subLevel.levelDiv.offsetWidth) || (rightSpace >= leftSpace)) { //show level to the right\r\n            if (rightSpace < menuItem.subLevel.levelDiv.offsetWidth) {\r\n                menuItem.subLevel.levelDiv.style.right = -scroll.left + 'px';\r\n            }\r\n        }\r\n        else { //show level to the left\r\n            if (leftSpace < menuItem.subLevel.levelDiv.offsetWidth) {\r\n                menuItem.subLevel.levelDiv.style.left = scroll.left + 4 + 'px';\r\n            }\r\n            else {\r\n                menuItem.subLevel.levelDiv.style.left = '';\r\n            }\r\n            menuItem.subLevel.levelDiv.style.right = getViewportSize().width - pos.x + menuItem.itemDiv.offsetWidth - 6 + 'px';\r\n        }\r\n        menuItem.subLevel.levelDiv.style.visibility = 'visible';\r\n        menuItem.subLevel.focus();\r\n    };\r\n    MenuLevel.prototype.adjustTopPos = function (top) {\r\n        var winSize = getWinSize();\r\n        var levelBottom = top - getScrollPos().top + this.levelDiv.offsetHeight;\r\n        var res = top;\r\n        if (levelBottom > winSize.height - 5) {\r\n            res -= levelBottom - winSize.height + 5;\r\n            if (res < getScrollPos().top) {\r\n                res = getScrollPos().top + 10;\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    MenuLevel.prototype.showAt = function (x, y, adjustTopPos, hidden) {\r\n        if (!this.items) {\r\n            return;\r\n        }\r\n        this.initLevelDiv();\r\n        //crocodile\r\n        this.turnCheckboxes(this.items);\r\n        this.renderItems();\r\n        var levelStyle = this.levelDiv.style;\r\n        if (hidden) {\r\n            this.levelDiv.style.visibility = 'hidden';\r\n        }\r\n        levelStyle.display = 'block';\r\n        levelStyle.left = x + 'px';\r\n        levelStyle.top = y + 'px';\r\n        this.scrollDiv.style.width = \"auto\";\r\n        this.scrollDiv.style.height = \"auto\";\r\n        //adjusting level top position\r\n        if (adjustTopPos) {\r\n            y = this.adjustTopPos(y);\r\n            levelStyle.top = y + 'px';\r\n        }\r\n        //setting minimal level width if it is defined\r\n        var minItemWidth = this.parentMenu.minItemWidth;\r\n        if (minItemWidth > 0 && this.scrollDiv.offsetWidth < minItemWidth) {\r\n            for (var i = 0; i < this.items.length; i++) {\r\n                this.items[i].itemDiv.style.width = minItemWidth + \"px\";\r\n            }\r\n        }\r\n        var maxItemWidth = this.parentMenu.maxItemWidth;\r\n        if (maxItemWidth > 0 && this.scrollDiv.offsetWidth > maxItemWidth) {\r\n            for (var i = 0; i < this.items.length; i++) {\r\n                this.items[i].itemDiv.style.width = maxItemWidth + \"px\";\r\n                this.items[i].itemDiv.style.overflowX = \"hidden\";\r\n            }\r\n        }\r\n        var winSize = getWinSize();\r\n        //adjustinng maximum height of the menu level if it does not fit to browser window\r\n        var maxHeight = winSize.height - (y - getScrollPos().top) - 15; //document.documentElement.scrollTop\r\n        if (this.parentMenu.maxHeight > 0 && maxHeight > this.parentMenu.maxHeight) {\r\n            maxHeight = this.parentMenu.maxHeight;\r\n        }\r\n        if (this.applyItem != null && this.applyItem.itemDiv != null) {\r\n            maxHeight -= this.applyItem.itemDiv.offsetHeight + 5;\r\n        }\r\n        if (this.searchDiv != null) {\r\n            maxHeight -= this.searchDiv.offsetHeight;\r\n        }\r\n        if (this.closeDiv != null) {\r\n            maxHeight -= this.closeDiv.offsetHeight;\r\n        }\r\n        if (this.levelDiv.offsetHeight > maxHeight) {\r\n            var newHeight = maxHeight;\r\n            if (newHeight < 50) {\r\n                newHeight = 50;\r\n            }\r\n            this.scrollDiv.style.height = newHeight + \"px\";\r\n        }\r\n        else {\r\n            this.scrollDiv.style.height = \"auto\";\r\n        }\r\n        this.activeItem = null;\r\n    };\r\n    MenuLevel.prototype.focus = function () {\r\n        var _this = this;\r\n        window.setTimeout(function () {\r\n            _this.scrollDiv.focus();\r\n            if (_this.searchBox != null) {\r\n                if (_this.parentMenu.options.searchBoxAutoFocus) {\r\n                    _this.searchBox.focus();\r\n                }\r\n                _this.searchBox.value = \"\";\r\n            }\r\n        }, 100);\r\n    };\r\n    MenuLevel.prototype.hide = function () {\r\n        if (this.activeItem !== null) {\r\n            if (this.activeItem.subLevel) {\r\n                this.activeItem.subLevel.hide();\r\n            }\r\n        }\r\n        if (this.levelDiv) {\r\n            var levelStyle = this.levelDiv.style;\r\n            levelStyle.display = 'none';\r\n            if (this.initialized) {\r\n                this.parentElement.removeChild(this.levelDiv);\r\n                this.initialized = false;\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.initLevelDiv = function () {\r\n        if (!this.initialized) {\r\n            this.parentElement.appendChild(this.levelDiv);\r\n            domel(this.levelDiv)\r\n                .addClass(this.cssPrefix + \"-levelDiv\")\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            this.initialized = true;\r\n        }\r\n    };\r\n    MenuLevel.prototype.submit = function (menuItem) {\r\n        if (menuItem != null) {\r\n            if (!menuItem.items) {\r\n                this.parentMenu.hideMenu();\r\n                var selectedItems = [];\r\n                if (menuItem == this.applyItem) {\r\n                    this.submitItems(this.items, selectedItems);\r\n                }\r\n                this.parentMenu.submitMenu(menuItem, selectedItems);\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.remove = function () {\r\n        //remove old level elements\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.subLevel) {\r\n                item.subLevel.remove();\r\n            }\r\n        }\r\n        if (this.levelDiv) {\r\n            this.levelDiv.innerHTML = \"\";\r\n            var parentNode = this.levelDiv.parentNode;\r\n            if (parentNode != null) {\r\n                parentNode.removeChild(this.levelDiv);\r\n            }\r\n        }\r\n        this.levelDiv = null;\r\n    };\r\n    MenuLevel.prototype.update = function (newItems) {\r\n        this.remove();\r\n        //create new level\r\n        this.items = newItems;\r\n        this.activeItem = null;\r\n        this.selectedItem = null;\r\n        this.applyItem.itemDiv = null;\r\n        this.initialized = false;\r\n        this.updated++;\r\n        this.renderContent();\r\n    };\r\n    MenuLevel.prototype.refreshCheckboxes = function () {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.itemCheckbox) {\r\n                item.itemCheckbox.checked = this.isItemSelected(item);\r\n            }\r\n            if (item.subLevel) {\r\n                item.subLevel.refreshCheckboxes();\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.refreshItems = function () {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.itemDiv) {\r\n                if (item.hidden) {\r\n                    item.itemDiv.style.display = \"none\";\r\n                }\r\n                else {\r\n                    item.itemDiv.style.display = \"block\";\r\n                }\r\n            }\r\n            if (item.subLevel) {\r\n                item.subLevel.refreshItems();\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.findItem = function (searchedText) {\r\n        var txt = searchedText.toLowerCase();\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.text.toLowerCase().indexOf(txt) == 0) {\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return MenuLevel;\r\n}());\r\nvar PopupMenu = /** @class */ (function () {\r\n    function PopupMenu(options) {\r\n        var _this = this;\r\n        this.isCursorInside = false;\r\n        this.mouseIsOverBlock = false;\r\n        this.mouseIsOverLink = false;\r\n        this.toId = null;\r\n        this.active = false;\r\n        this.ancorFocused = null;\r\n        this.options = {\r\n            items: [],\r\n            buttons: {\r\n                submit: i18n.getText('ButtonApply'),\r\n                cancel: i18n.getText('ButtonCancel')\r\n            },\r\n            itemFilterCallback: null,\r\n            useDefaultStyles: false,\r\n            multiselect: false,\r\n            adjustHeight: true,\r\n            showSearchBoxAfter: 30,\r\n            activateOnMouseOver: true,\r\n            container: document.body,\r\n            zIndex: 100000,\r\n            domWriteItemsId: false,\r\n            itemRenderedCallback: null\r\n        };\r\n        if (options) {\r\n            dataUtils.assignDeep(this.options, options);\r\n        }\r\n        this.menuId = PopupMenu.lastMenuID++;\r\n        this.updateProps();\r\n        this.rootLevel = new MenuLevel({\r\n            menu: this,\r\n            items: this.options.items,\r\n            levelIndex: 0,\r\n            container: this.options.container,\r\n            domWriteItemsId: this.options.domWriteItemsId,\r\n            menuId: this.options.id,\r\n            itemRenderedCallback: this.options.itemRenderedCallback,\r\n            showSelected: this.options.showSelected,\r\n        });\r\n        this.rootLevel.levelDiv.classList.add(this.cssPrefix + \"-rootLevel\");\r\n        this.rootLevel.levelDiv.style.zIndex = \"\" + this.options.zIndex;\r\n        this.menuKeyUpHandler = function (e) {\r\n            if (e.which == 27) {\r\n                _this.hideMenu();\r\n                e.stopImmediatePropagation();\r\n            }\r\n        };\r\n        this.globalMouseDownHandler = function (e) {\r\n            if (!_this.active)\r\n                return true;\r\n            var event = window.event || e;\r\n            var o = event.srcElement || event.target;\r\n            var isOutside = true;\r\n            while (o) {\r\n                if (o.tagName && o.tagName.toLowerCase() == 'div') {\r\n                    // it is added in renderContent of MenuLevel class\r\n                    if (o.menuLevel) {\r\n                        if (o.menuLevel.parentMenu == _this) {\r\n                            isOutside = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                o = o.parentNode || o.parentElement;\r\n            }\r\n            if (isOutside) {\r\n                _this.hideMenu();\r\n            }\r\n            return true;\r\n        };\r\n        this.render();\r\n    }\r\n    Object.defineProperty(PopupMenu.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-menu';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PopupMenu.prototype.getItems = function () {\r\n        return this.rootLevel.getItems();\r\n    };\r\n    PopupMenu.prototype.updateProps = function () {\r\n        this.style = {};\r\n        this.style.colors = { border: \"#666666\", shadow: \"#888888\", bgON: \"white\", fgON: \"black\", bgOVER: \"#B6BDD2\", fgOVER: \"black\" };\r\n        this.style.itemStyle = { fontSize: \"14px\" };\r\n        this.minItemWidth = 0;\r\n        this.maxItemWidth = 0;\r\n        this.maxHeight = 0;\r\n        this.zIndex = \"\" + this.options.zIndex;\r\n        this.commandTemplate = \"\";\r\n        this.args = [];\r\n        this.active = false;\r\n    };\r\n    PopupMenu.prototype.render = function () {\r\n    };\r\n    PopupMenu.prototype.clearItemsMenuProps = function (items) {\r\n        if (!items)\r\n            return;\r\n        for (var i = 0; i < items.length; i++) {\r\n            this.clearItemMenuProps(items[i]);\r\n        }\r\n    };\r\n    PopupMenu.prototype.clearItemMenuProps = function (item) {\r\n        //don't clear properties they belong this menu\r\n        if (item.subLevel && item.subLevel.parentMenu == this)\r\n            return;\r\n        if (item.subLevel) {\r\n            item.subLevel.remove();\r\n            item.subLevel = null;\r\n        }\r\n        if (item.itemDiv) {\r\n            item.itemDiv = null;\r\n        }\r\n        if (item.items) {\r\n            this.clearItemsMenuProps(item.items);\r\n        }\r\n    };\r\n    PopupMenu.prototype.setSelectedItems = function (items, selectedIds) {\r\n        var itemsLength = items ? items.length : 0;\r\n        for (var i = 0; i < itemsLength; i++) {\r\n            var item = items[i];\r\n            if (item.items) {\r\n                this.setSelectedItems(item.items, selectedIds);\r\n            }\r\n            else {\r\n                item.selected = selectedIds.indexOf(item.id) >= 0;\r\n            }\r\n        }\r\n    };\r\n    PopupMenu.prototype.getRootLevel = function () {\r\n        return this.rootLevel;\r\n    };\r\n    PopupMenu.prototype.getItemFilterCallback = function () {\r\n        return this.itemFilterCallback;\r\n    };\r\n    PopupMenu.prototype.showMenu = function (options) {\r\n        this.ancorFocused = options.anchor == document.activeElement ? options.anchor : null;\r\n        this.clearItemsMenuProps(this.options.items);\r\n        this.itemSelectedCallback = options.itemSelectedCallback || null;\r\n        this.menuClosedCallback = options.menuClosedCallback || null;\r\n        this.itemFilterCallback = options.itemFilterCallback || null;\r\n        if (options.items) {\r\n            this.options.items = options.items;\r\n            this.rootLevel.setItems(options.items);\r\n        }\r\n        if (options.onMenuItemSelected) {\r\n            this.options.onMenuItemSelected = options.onMenuItemSelected;\r\n        }\r\n        var selectedIds = options.selectedIds || null;\r\n        if (selectedIds) {\r\n            if (typeof selectedIds === \"string\") {\r\n                selectedIds = selectedIds.split(\",\");\r\n            }\r\n        }\r\n        else {\r\n            selectedIds = [];\r\n        }\r\n        this.active = true;\r\n        this.setSelectedItems(this.options.items, selectedIds);\r\n        if (browserUtils.isMobileMode()) {\r\n            this.rootLevel.showAt(0, 0, true, true);\r\n            this.rootLevel.levelDiv.style.top = '0px';\r\n            this.rootLevel.levelDiv.style.bottom = '0px';\r\n            this.rootLevel.levelDiv.style.right = '0px';\r\n            this.rootLevel.levelDiv.style.position = 'fixed';\r\n            this.rootLevel.levelDiv.style.fontSize = '20px';\r\n        }\r\n        else {\r\n            var anchor = options.anchor || document.documentElement;\r\n            var srcPos = getElementAbsolutePos(anchor);\r\n            var anchorHeight = anchor.offsetHeight;\r\n            var anchorWidth = anchor.offsetHeight;\r\n            var pos = {\r\n                x: srcPos.x,\r\n                y: srcPos.y + anchorHeight + 2\r\n            };\r\n            var scroll_1 = getScrollPos();\r\n            var winSize = getWinSize();\r\n            //show menu to the side that have more space available\r\n            var leftSpace = pos.x + anchorWidth - scroll_1.left;\r\n            var rightSpace = winSize.width - leftSpace + anchorWidth;\r\n            pos.x += 2;\r\n            this.rootLevel.showAt(pos.x, pos.y, true, true);\r\n            this.rootLevel.levelDiv.style.width = '';\r\n            this.rootLevel.levelDiv.style.right = '';\r\n            if ((rightSpace >= this.rootLevel.levelDiv.offsetWidth) || (rightSpace >= leftSpace)) {\r\n                //show level to the right\r\n                if (rightSpace < this.rootLevel.levelDiv.offsetWidth) {\r\n                    this.rootLevel.levelDiv.style.right = -scroll_1.left + 'px';\r\n                }\r\n            }\r\n            else {\r\n                //show level to the left\r\n                if (leftSpace < this.rootLevel.levelDiv.offsetWidth) {\r\n                    this.rootLevel.levelDiv.style.left = scroll_1.left + 4 + 'px';\r\n                }\r\n                else {\r\n                    this.rootLevel.levelDiv.style.left = '';\r\n                }\r\n                this.rootLevel.levelDiv.style.right = getViewportSize().width - pos.x - anchorWidth + 'px';\r\n            }\r\n            this.rootLevel.levelDiv.style.fontSize = '14px';\r\n        }\r\n        this.rootLevel.levelDiv.style.visibility = 'visible';\r\n        this.rootLevel.focus();\r\n        document.addEventListener('keyup', this.menuKeyUpHandler);\r\n        document.addEventListener('mousedown', this.globalMouseDownHandler, true);\r\n    };\r\n    PopupMenu.prototype.hideMenu = function () {\r\n        document.removeEventListener('mousedown', this.globalMouseDownHandler, true);\r\n        document.removeEventListener('keyup', this.menuKeyUpHandler);\r\n        this.rootLevel.hide();\r\n        if (this.ancorFocused) {\r\n            this.ancorFocused.focus();\r\n        }\r\n        if (this.menuClosedCallback) {\r\n            this.menuClosedCallback();\r\n        }\r\n    };\r\n    PopupMenu.prototype.submitMenu = function (menuItem, selectedItems) {\r\n        if (this.itemSelectedCallback) {\r\n            this.itemSelectedCallback(menuItem, selectedItems);\r\n        }\r\n    };\r\n    PopupMenu.prototype.knockMenuStyle = function (menu) {\r\n        menu.removeAttribute('style');\r\n        var ul = menu.querySelectorAll('ul').item(0);\r\n        var hasUlStyle = ul && ul.style ? true : false;\r\n        if (hasUlStyle !== false) {\r\n            ul.setAttribute('style', '');\r\n        }\r\n    };\r\n    PopupMenu.prototype.refreshItems = function () {\r\n        this.rootLevel.refreshItems();\r\n    };\r\n    PopupMenu.prototype.refreshCheckboxes = function () {\r\n        this.rootLevel.refreshCheckboxes();\r\n    };\r\n    PopupMenu.lastMenuID = 0;\r\n    return PopupMenu;\r\n}());\r\nexport { PopupMenu };\r\n//# sourceMappingURL=popup_menu.js.map","var DisplayFormatParser = /** @class */ (function () {\r\n    function DisplayFormatParser() {\r\n        this.formatStr = '';\r\n        this.pos = 0;\r\n        this.token = 'text';\r\n        this.tokenText = '';\r\n    }\r\n    DisplayFormatParser.prototype.start = function (s) {\r\n        this.formatStr = s;\r\n        this.pos = 0;\r\n        this.tokenText = '';\r\n    };\r\n    DisplayFormatParser.prototype.skipSpaces = function () {\r\n        while (this.pos < this.formatStr.length && this.formatStr.charAt(this.pos) === ' ')\r\n            this.pos++;\r\n    };\r\n    DisplayFormatParser.prototype.getToken = function () {\r\n        return this.token;\r\n    };\r\n    DisplayFormatParser.prototype.getTokenText = function () {\r\n        return this.tokenText;\r\n    };\r\n    DisplayFormatParser.prototype.next = function () {\r\n        this.skipSpaces();\r\n        if (this.pos >= this.formatStr.length)\r\n            return false;\r\n        var npos = 0;\r\n        if (this.formatStr.charAt(this.pos) === '{') {\r\n            npos = this.formatStr.indexOf('}', this.pos);\r\n            if (npos < 0)\r\n                return false;\r\n            this.tokenText = this.formatStr.substring(this.pos, npos + 1);\r\n            if (this.tokenText.indexOf('{expr') === 0 || this.tokenText.indexOf('{attr') === 0) {\r\n                this.token = 'expression';\r\n            }\r\n            this.pos = npos + 1;\r\n        }\r\n        else if (this.formatStr.charAt(this.pos) === '[' && this.pos < this.formatStr.length - 1 && this.formatStr.charAt(this.pos + 1) === '[') {\r\n            this.pos += 2;\r\n            npos = this.formatStr.indexOf(']]', this.pos);\r\n            this.token = 'function';\r\n            this.tokenText = this.formatStr.substring(this.pos, npos);\r\n            this.pos = npos + 2;\r\n        }\r\n        else {\r\n            this.token = 'text';\r\n            var npos1 = this.formatStr.indexOf('{', this.pos);\r\n            if (npos1 < 0)\r\n                npos1 = this.formatStr.length;\r\n            var npos2 = this.formatStr.indexOf('[[', this.pos);\r\n            if (npos2 < 0)\r\n                npos2 = this.formatStr.length;\r\n            npos = Math.min(npos1, npos2);\r\n            this.tokenText = this.formatStr.substring(this.pos, npos).trim();\r\n            this.pos = npos;\r\n        }\r\n        return true;\r\n    };\r\n    return DisplayFormatParser;\r\n}());\r\nexport { DisplayFormatParser };\r\n//# sourceMappingURL=display_format_parser.js.map","/**\r\n * Represents parts of Query Panel which can be editable\r\n */\r\nexport var QPEditablePart;\r\n(function (QPEditablePart) {\r\n    QPEditablePart[QPEditablePart[\"None\"] = 0] = \"None\";\r\n    QPEditablePart[QPEditablePart[\"Value\"] = 1] = \"Value\";\r\n    QPEditablePart[QPEditablePart[\"Attribute\"] = 2] = \"Attribute\";\r\n    QPEditablePart[QPEditablePart[\"Operator\"] = 4] = \"Operator\";\r\n    QPEditablePart[QPEditablePart[\"Addition\"] = 8] = \"Addition\";\r\n    QPEditablePart[QPEditablePart[\"Removal\"] = 16] = \"Removal\";\r\n    QPEditablePart[QPEditablePart[\"All\"] = 255] = \"All\";\r\n    QPEditablePart[QPEditablePart[\"NoAddition\"] = -9] = \"NoAddition\";\r\n    QPEditablePart[QPEditablePart[\"NoRemoval\"] = -17] = \"NoRemoval\";\r\n    QPEditablePart[QPEditablePart[\"FixedConditionList\"] = 5] = \"FixedConditionList\";\r\n})(QPEditablePart || (QPEditablePart = {}));\r\n//# sourceMappingURL=qp_editable_part.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, DataType } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { createBrowserEvent, domel } from '@easydata/ui';\r\nimport { ColumnRendererCP } from './column_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar SimpleColumnRendererCP = /** @class */ (function (_super) {\r\n    __extends(SimpleColumnRendererCP, _super);\r\n    function SimpleColumnRendererCP() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SimpleColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\";\r\n    };\r\n    SimpleColumnRendererCP.prototype.renderExpressionBlock = function () {\r\n        var _this = this;\r\n        return domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-expr-block\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-attrelement\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(_this.renderBaseExpression()); })\r\n            .toDOM();\r\n    };\r\n    SimpleColumnRendererCP.prototype.renderBaseExpression = function () {\r\n        var _this = this;\r\n        var attrCaption = this.getAttributeCaption(this.baseAttr);\r\n        if (this.isEditable()) {\r\n            return domel('a')\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(attrCaption)\r\n                .text(attrCaption) //TO DO:add localization\r\n                .on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                //ev.preventDefault();\r\n                _this.panel.showEntitiesMenu({\r\n                    anchor: ev.target,\r\n                    selectedIds: null,\r\n                    itemSelectedCallback: _this.baseExpressionItemSelectedCallback.bind(_this)\r\n                });\r\n                return false;\r\n            })\r\n                .toDOM();\r\n        }\r\n        return domel('span')\r\n            .text(attrCaption)\r\n            .title(attrCaption)\r\n            .toDOM();\r\n    };\r\n    SimpleColumnRendererCP.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.id = attrid;\r\n        this.column.expr.setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.fireColumnChanged();\r\n        return false;\r\n    };\r\n    SimpleColumnRendererCP.prototype.getUIS = function () {\r\n        var arg = this.column.expr.args[0];\r\n        if (arg) {\r\n            var model = this.panel.getContext().getModel();\r\n            return model.checkAttrProperty(arg.value, \"useInSorting\");\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    SimpleColumnRendererCP.prototype.changeTypeHandler = function (ev) {\r\n        var _this = this;\r\n        this.keepShowingButtons = true;\r\n        this.functionMenu.showMenu({\r\n            anchor: ev.target,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                _this.processExtraButtonMenuItems(data.id, null);\r\n                return false;\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n                if (!_this.isMouseOverBlock) {\r\n                    _this.element.dispatchEvent(createBrowserEvent('mouseleave'));\r\n                }\r\n            }\r\n        });\r\n    };\r\n    SimpleColumnRendererCP.prototype.changeTypeToCustomSql = function () {\r\n        var _this = this;\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.CustomSql);\r\n        var parentElement = this.element.parentElement;\r\n        setTimeout(function () {\r\n            //focus CustomSQL Edit\r\n            var newElement = parentElement.querySelector(\"div[data-id='\" + _this.column.id + \"']  div[class*='\" + _this.cssPrefix + \"-expr-block']  div[class*='\" + _this.cssPrefix + \"-colelement']  a\");\r\n            if (newElement)\r\n                newElement.click();\r\n        }, 500);\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCP.prototype.changeTypeToAggr = function (funcId) {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.AggregateFunction, { funcId: funcId });\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCP.prototype.processExtraButtonMenuItems = function (action, evt) {\r\n        if (action === \"CUSTOMSQL\") {\r\n            this.changeTypeToCustomSql();\r\n        }\r\n        else {\r\n            this.changeTypeToAggr(action);\r\n        }\r\n        return true;\r\n    };\r\n    SimpleColumnRendererCP.prototype.getExtraButtonMenuItems = function () {\r\n        var items = [];\r\n        var funcs = this.panel.getContext().getModel().getAggrFunctions();\r\n        var toInclude = true;\r\n        var funcAllowed = true;\r\n        var item = null;\r\n        var attribute = this.getAttribute();\r\n        var funcCaption;\r\n        for (var idx = 0; idx < funcs.length; idx++) {\r\n            if (!funcs[idx])\r\n                continue;\r\n            toInclude = true;\r\n            if (funcs[idx].id === 'SUM' || funcs[idx].id === 'AVG') {\r\n                toInclude = [DataType.Autoinc, DataType.Byte, DataType.Currency, DataType.Float, DataType.Int32,\r\n                    DataType.Int64, DataType.Word].indexOf(attribute.dataType) >= 0;\r\n            }\r\n            else if (funcs[idx].id === 'MIN' || funcs[idx].id === 'MAX') {\r\n                toInclude = [DataType.Autoinc, DataType.BCD, DataType.Byte, DataType.Currency, DataType.Date, DataType.DateTime, DataType.Time,\r\n                    DataType.Float, DataType.Int32, DataType.Int64, DataType.Word].indexOf(attribute.dataType) >= 0;\r\n            }\r\n            if (this.column.expr.func === funcs[idx].id && !toInclude) {\r\n                funcAllowed = false;\r\n            }\r\n            if (toInclude) {\r\n                funcCaption = this.panel.getContext().getModel().getAggrFunctionCaption(funcs[idx].id);\r\n                item = {\r\n                    id: funcs[idx].id,\r\n                    text: funcCaption\r\n                };\r\n                items.push(item);\r\n            }\r\n        }\r\n        if (!funcAllowed) {\r\n            this.column.expr.func = items[0].id;\r\n        }\r\n        //Add \"Custom Expression\" menu\r\n        var columnsPanel = this.panel;\r\n        if (columnsPanel.areCustomExpressionsAllowed()) {\r\n            item = {\r\n                id: 'CustomSqlDivider',\r\n                text: '---'\r\n            };\r\n            items.push(item);\r\n            funcCaption = i18n.getText('CustomExpression');\r\n            item = {\r\n                id: 'CUSTOMSQL',\r\n                text: funcCaption\r\n            };\r\n            items.push(item);\r\n        }\r\n        return [{\r\n                id: '__group',\r\n                text: i18n.getText('ColTypeGroup'),\r\n                items: items\r\n            }];\r\n    };\r\n    return SimpleColumnRendererCP;\r\n}(ColumnRendererCP));\r\nexport { SimpleColumnRendererCP };\r\n//# sourceMappingURL=simple_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { DisplayFormatParser } from '../../../utils/display_format_parser';\r\n;\r\nimport { SimpleColumnRendererCP } from './simple_column_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar AggrFuncColumnRendererCP = /** @class */ (function (_super) {\r\n    __extends(AggrFuncColumnRendererCP, _super);\r\n    function AggrFuncColumnRendererCP() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.displayFormatParser = new DisplayFormatParser();\r\n        return _this;\r\n    }\r\n    AggrFuncColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-aggr\";\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.getAttribute = function () {\r\n        return this.panel\r\n            .getContext()\r\n            .getModel()\r\n            .getAttributeById(this.column.expr.args[0].value);\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.getDefaultColumnCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr) + ' '\r\n            + this.panel.getContext().getModel().getAggrFunctionCaption(this.column.expr.func);\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.renderExpressionBlock = function () {\r\n        var _this = this;\r\n        var model = this.panel.getContext().getModel();\r\n        var exprBlockBuilder = domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-expr-block\", this.cssPrefix + \"-expr-block-aggr\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        var format = model.getAggrFunctionFormat(this.column.expr.func);\r\n        if (!format || format === '')\r\n            return;\r\n        var arrFormat = this.parseDisplayFormat(format);\r\n        if (arrFormat.length === 0)\r\n            return;\r\n        var item = null;\r\n        var arrLength = arrFormat.length;\r\n        var _loop_1 = function (idx) {\r\n            item = arrFormat[idx];\r\n            if (item.type === 1) {\r\n                if (this_1.isEditable()) {\r\n                    var functionLink_1 = domel('a')\r\n                        .attr('href', 'javascript:void(0)')\r\n                        .text(item.text)\r\n                        .on('click', function (ev) {\r\n                        ev.stopPropagation();\r\n                        _this.functionMenu.showMenu({\r\n                            anchor: functionLink_1.toDOM(),\r\n                            selectedIds: null,\r\n                            itemSelectedCallback: function (data, items) {\r\n                                if (data.id === \"CUSTOMSQL\") {\r\n                                    _this.changeTypeToCustomSql();\r\n                                }\r\n                                else {\r\n                                    _this.column.expr.func = data.id;\r\n                                    _this.column.caption = '';\r\n                                    _this.fireColumnChanged();\r\n                                }\r\n                            }\r\n                        });\r\n                    });\r\n                    exprBlockBuilder\r\n                        .addChild('div', function (builder) { return builder\r\n                        .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-aggrfuncelement\")\r\n                        .addClass(browserUtils.getMobileCssClass())\r\n                        .addChildElement(functionLink_1.toDOM()); });\r\n                }\r\n                else {\r\n                    exprBlockBuilder\r\n                        .addChild('div', function (b) { return b\r\n                        .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-aggrfuncelement\")\r\n                        .addClass(browserUtils.getMobileCssClass())\r\n                        .addChild('span', function (b) { return b\r\n                        .text(item.text)\r\n                        .title(item.text); }); });\r\n                }\r\n            }\r\n            else if (item.type === 2) {\r\n                exprBlockBuilder\r\n                    .addChild('div', function (builder) { return builder\r\n                    .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-attrelement\")\r\n                    .addClass(browserUtils.getMobileCssClass())\r\n                    .addChildElement(_this.renderBaseExpression()); });\r\n            }\r\n            else if (item.type === 3) {\r\n                exprBlockBuilder\r\n                    .addChild('span', function (builder) { return builder\r\n                    .addClass(_this.cssPrefix + \"-colelement\")\r\n                    .addClass(browserUtils.getMobileCssClass())\r\n                    .text(item.text)\r\n                    .title(item.text); });\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            _loop_1(idx);\r\n        }\r\n        return exprBlockBuilder.toDOM();\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.renderColumnTypeButton = function () {\r\n        var button = _super.prototype.renderColumnTypeButton.call(this);\r\n        if (button) {\r\n            button.firstElementChild.classList.add('aggregated');\r\n            button.firstElementChild.setAttribute('title', i18n.getText('ButtonToSimple'));\r\n        }\r\n        return button;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.args[0].id = attrid;\r\n        this.column.expr.args[0].setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.fireColumnChanged();\r\n        return false;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.changeTypeToSimple = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.EntityAttribute);\r\n        this.fireColumnChanged();\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.parseDisplayFormat = function (format) {\r\n        if (!format)\r\n            return [];\r\n        var result = [];\r\n        var parser = this.displayFormatParser;\r\n        parser.start(format);\r\n        while (parser.next()) {\r\n            var token = parser.getToken();\r\n            var tokenText = parser.getTokenText();\r\n            if (token === 'function') {\r\n                result.push({ type: 1, text: tokenText });\r\n            }\r\n            else if (token === 'expression') {\r\n                result.push({ type: 2 });\r\n            }\r\n            else if (token === 'text') {\r\n                result.push({ type: 3, text: tokenText });\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.changeTypeHandler = function (ev) {\r\n        this.changeTypeToSimple();\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.processExtraButtonMenuItems = function (action, evt) {\r\n        this.changeTypeToSimple();\r\n        return true;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.getExtraButtonMenuItems = function () {\r\n        return [{\r\n                id: '__group',\r\n                text: i18n.getText('ColTypeGroup'),\r\n                items: [{\r\n                        id: 'type',\r\n                        text: i18n.getText('ColTypeSimple')\r\n                    }]\r\n            }];\r\n    };\r\n    return AggrFuncColumnRendererCP;\r\n}(SimpleColumnRendererCP));\r\nexport { AggrFuncColumnRendererCP };\r\n//# sourceMappingURL=aggrfunc_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { SimpleColumnRendererCP } from './simple_column_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar CustomSqlColumnRendererCP = /** @class */ (function (_super) {\r\n    __extends(CustomSqlColumnRendererCP, _super);\r\n    function CustomSqlColumnRendererCP() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CustomSqlColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\" + _super.prototype.getClassesToAdd.call(this);\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.renderColumnTypeButton = function () {\r\n        var button = _super.prototype.renderColumnTypeButton.call(this);\r\n        if (button) {\r\n            button.firstElementChild.classList.add('aggregated');\r\n            button.firstElementChild.setAttribute('title', i18n.getText('ButtonToSimple'));\r\n        }\r\n        return button;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.renderExpressionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultColumnCaption();\r\n        }\r\n        var exprBlock = domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-expr-block\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .toDOM();\r\n        var builder = domel('div', exprBlock)\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-attrelement\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        if (this.isEditable()) {\r\n            builder\r\n                .addChild('a', function (b) { return b\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(_this.column.caption)\r\n                .text(_this.column.caption)\r\n                .on('touchstart click', function (ev) {\r\n                ev.stopPropagation();\r\n                var element = ev.target;\r\n                var inputEl = element.parentElement.querySelector('input');\r\n                if (inputEl) {\r\n                    element.style.display = 'none';\r\n                    inputEl.style.removeProperty('display');\r\n                    inputEl.style.width = \"100%\";\r\n                    inputEl.focus();\r\n                }\r\n            }); } //TO DO:add localization and input field\r\n            )\r\n                .addChild('input', function (b) { return b\r\n                .hide()\r\n                .value(_this.column.expr.sql)\r\n                .on('blur keydown', function (ev) {\r\n                var isEndEvent = false;\r\n                var save = true;\r\n                if (ev instanceof KeyboardEvent) {\r\n                    // Enter\r\n                    if (ev.keyCode === 13) {\r\n                        isEndEvent = true;\r\n                        //ESC\r\n                    }\r\n                    else if (ev.keyCode === 27) {\r\n                        isEndEvent = true;\r\n                        save = false;\r\n                    }\r\n                }\r\n                else if (ev instanceof FocusEvent) {\r\n                    isEndEvent = true;\r\n                }\r\n                if (isEndEvent) {\r\n                    var inputEl = ev.target;\r\n                    var aEl = inputEl.parentElement.querySelector('a');\r\n                    if (aEl) {\r\n                        aEl.style.removeProperty('display');\r\n                        inputEl.style.display = 'none';\r\n                    }\r\n                    if (save && _this.column.expr.sql !== inputEl.value) {\r\n                        _this.column.expr.sql = inputEl.value;\r\n                        _this.fireColumnChanged();\r\n                    }\r\n                    else {\r\n                        inputEl.value = _this.column.expr.sql;\r\n                    }\r\n                }\r\n            }); });\r\n        }\r\n        else {\r\n            builder\r\n                .addChild('span', function (b) {\r\n                b.text(_this.column.caption)\r\n                    .title(_this.column.caption);\r\n            });\r\n        }\r\n        return exprBlock;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.changeTypeToSimple = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.EntityAttribute);\r\n        this.fireColumnChanged();\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getDefaultColumnCaption = function () {\r\n        return \"Custom SQL Column\";\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getDefaultValue = function () {\r\n        return this.column.expr.sql;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getUIS = function () {\r\n        return true;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.changeTypeHandler = function (ev) {\r\n        this.changeTypeToSimple();\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.processExtraButtonMenuItems = function (action, evt) {\r\n        this.changeTypeToSimple();\r\n        return true;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.createFunctionMenu = function () {\r\n        // Nothing TO DO\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getExtraButtonMenuItems = function () {\r\n        return [{\r\n                id: '__group',\r\n                text: i18n.getText('ColTypeGroup'),\r\n                items: [{\r\n                        id: 'type',\r\n                        text: i18n.getText('ColTypeSimple')\r\n                    }]\r\n            }];\r\n    };\r\n    return CustomSqlColumnRendererCP;\r\n}(SimpleColumnRendererCP));\r\nexport { CustomSqlColumnRendererCP };\r\n//# sourceMappingURL=customsql_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { SortDirection, ExprTag, Widget, WidgetGroup, QueryChangePart, QueryChangeAction } from '@easyquery/core';\r\nimport { eqDragManager, DropEffect, getElementAbsolutePos, domel } from '@easydata/ui';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { eqCssPrefix, eqCssMobile } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { AggrFuncColumnRendererCP } from './renderers/columnspanel/aggrfunc_column_renderer';\r\nimport { CustomSqlColumnRendererCP } from './renderers/columnspanel/customsql_column_renderer';\r\nimport { SimpleColumnRendererCP } from './renderers/columnspanel/simple_column_renderer';\r\nvar ColumnsPanel = /** @class */ (function (_super) {\r\n    __extends(ColumnsPanel, _super);\r\n    function ColumnsPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            isSubQuery: false,\r\n            activeColumn: null,\r\n            showAddRow: true,\r\n            showHeader: true,\r\n            showColumnTitles: true,\r\n            allowAggrColumns: true,\r\n            allowDuplicates: true,\r\n            allowCustomExpressions: false,\r\n            allowSorting: true,\r\n            attrElementFormat: '{entity} {attr}',\r\n            titleElementFormat: null,\r\n            buttons: null,\r\n            alwaysShowButtons: false,\r\n            accentActiveColumn: true,\r\n            menuSearchBoxAfter: 30,\r\n            allowDragDrop: true,\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                adjustHeight: true,\r\n                itemRenderedCallback: null\r\n            },\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            columnRenderedCallback: null,\r\n            customExpressionText: 0,\r\n            allowHiddenColumns: false\r\n        };\r\n        _this.landingSlot = domel('div')\r\n            .addClass(_this.cssPrefix + \"-col-landing-slot\")\r\n            .addChildElement(domel('div')\r\n            .toDOM())\r\n            .toDOM();\r\n        _this.landingIndex = -1;\r\n        _this.slot.classList.add(_this.cssPrefix + \"-panel\");\r\n        _this.group = WidgetGroup.Query;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ColumnsPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qc';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnsPanel.prototype.getWidgetType = function () {\r\n        return 'columnsPanel';\r\n    };\r\n    ColumnsPanel.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        var model = context.getModel();\r\n        this.detachQueryObserver();\r\n        this.attachQueryObserver();\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"entityAttr\", \"entityAttrSort\"],\r\n                onDragEnter: function (container, ev) {\r\n                    _this.slot.classList.add(eqCssPrefix + \"-drophover\");\r\n                    if (ev.item.scope === \"entityAttrSort\") {\r\n                        _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                    }\r\n                    else {\r\n                        var attrId = ev.data.attrId;\r\n                        if (!model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                            ev.dropEffect = DropEffect.Forbid;\r\n                        }\r\n                        ev.dragImage.classList.add('eqjs-sortable-helper');\r\n                    }\r\n                },\r\n                onDragOver: function (container, ev) {\r\n                    var attrId = ev.data.attrId;\r\n                    if (ev.item.scope === \"entityAttrSort\" ||\r\n                        model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                        _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                    }\r\n                },\r\n                onDragLeave: function (container, ev) {\r\n                    if (ev.item.scope === \"entityAttrSort\") {\r\n                        ev.dropEffect = DropEffect.Forbid;\r\n                    }\r\n                    else {\r\n                        ev.dragImage.classList.remove('eqjs-sortable-helper');\r\n                        ev.dragImage.style.removeProperty('width');\r\n                    }\r\n                    _this.slot.classList.remove(eqCssPrefix + \"-drophover\");\r\n                    _this.hideLandingSlot();\r\n                },\r\n                onDrop: function (container, ev) {\r\n                    if (ev.item.scope == \"entityAttrSort\") {\r\n                        var query = _this.getQuery();\r\n                        var columns = query.getColumns();\r\n                        var index = columns.indexOf(ev.data.column);\r\n                        _this.moveColumnCore(index, _this.landingIndex);\r\n                    }\r\n                    else {\r\n                        var attrId = ev.data.attrId;\r\n                        _this.addNewColumn(attrId, _this.landingIndex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.renderBaseElements = function () {\r\n        var _this = this;\r\n        var minusHeight = 0;\r\n        if (this.options.showHeader) {\r\n            var headerBuilder = domel('div', this.slot)\r\n                .hide()\r\n                .addClass(this.cssPrefix + \"-header\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .addChild('div', function (builder) { return builder\r\n                .addClass(_this.cssPrefix + \"-header-expression\")\r\n                .text(i18n.getText('HeaderExpression')); });\r\n            if (this.options.showColumnTitles !== false) {\r\n                headerBuilder\r\n                    .addChild('div', function (builder) { return builder\r\n                    .addClass(_this.cssPrefix + \"-header-title\")\r\n                    .text(i18n.getText('HeaderTitle')); });\r\n            }\r\n            this.headerElement = headerBuilder.toDOM();\r\n            minusHeight += this.headerElement.offsetHeight;\r\n        }\r\n        this.columnsBlock =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-columns\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        if (this.options.showAddRow) {\r\n            this.addRowElement =\r\n                domel('div', this.slot)\r\n                    .addClass(eqCssPrefix + \"-addrow\", this.cssPrefix + \"-addrow\", eqCssPrefix + \"-addrow-empty\")\r\n                    .addClass(browserUtils.getMobileCssClass())\r\n                    .addChild('a', function (builder) { return builder\r\n                    .attr('href', 'javascript:void(0)')\r\n                    .text(i18n.getText('CmdClickToAddColumn'))\r\n                    .on('click', function (e) {\r\n                    e.preventDefault();\r\n                    _this.showEntitiesMenu({\r\n                        anchor: e.target,\r\n                        selectedIds: null,\r\n                        itemSelectedCallback: function (data, items) {\r\n                            var attrid = data.id;\r\n                            _this.addNewColumn(attrid);\r\n                            return false;\r\n                        }\r\n                    });\r\n                }); })\r\n                    .toDOM();\r\n            minusHeight += this.addRowElement.offsetHeight;\r\n        }\r\n        this.columnsBlock.style.maxHeight = this.slot.offsetHeight - minusHeight - 25 + \"px\";\r\n    };\r\n    ColumnsPanel.prototype.destroyCore = function () {\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    ColumnsPanel.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            var focusedBefore = document.activeElement;\r\n            var isFocusInside = _this.slot.contains(focusedBefore) || focusedBefore == document.body;\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var columns = edata.changee;\r\n                    var modifyColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var renderer = _this.getColumnRenderer(column, colEl);\r\n                            if (renderer) {\r\n                                var newEl = renderer.render();\r\n                                if (isFocusInside) {\r\n                                    var focusElem = newEl.querySelector('a') || newEl.querySelector('.eqjs-column-button');\r\n                                    if (focusElem) {\r\n                                        focusElem.focus();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return modifyColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        modifyColumn_1(columns);\r\n                    }\r\n                    _this.agjustHeaderVisibility();\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var columns = edata.changee;\r\n                    var addColumn_1 = function (column) {\r\n                        var index = query.getColumns().indexOf(column);\r\n                        var newEl = _this.addColumnElement(column, index);\r\n                        if (isFocusInside) {\r\n                            newEl.querySelector(\"a\").focus();\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return addColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        addColumn_1(columns);\r\n                    }\r\n                    _this.agjustHeaderVisibility();\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var columns = edata.changee;\r\n                    var deleteColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var next = colEl.nextSibling;\r\n                            var prev = colEl.previousSibling;\r\n                            _this.columnsBlock.removeChild(colEl);\r\n                            if (isFocusInside) {\r\n                                var focusCond = next || prev || _this.addRowElement;\r\n                                var focusElem = focusCond.querySelector('a') || focusCond.querySelector('.eqjs-column-button');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    _this.agjustHeaderVisibility();\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return deleteColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        deleteColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    ColumnsPanel.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    ColumnsPanel.prototype.showLandingSlot = function (pageX, pageY) {\r\n        var rowElems = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var rows = [];\r\n        for (var i = 0; i < rowElems.length; i++) {\r\n            var rowElem = rowElems[i];\r\n            if (rowElem.style.display === 'none')\r\n                continue;\r\n            rows.push(rowElem);\r\n        }\r\n        if (rows.length === 0) {\r\n            this.landingIndex = 0;\r\n            this.columnsBlock.appendChild(this.landingSlot);\r\n            return;\r\n        }\r\n        var landingPos = getElementAbsolutePos(this.landingSlot);\r\n        if (pageY >= landingPos.y && pageY <= landingPos.y + this.landingSlot.offsetHeight) {\r\n            return;\r\n        }\r\n        var firstRow = rows[0];\r\n        var rowHeight = firstRow.offsetHeight;\r\n        var absPos = getElementAbsolutePos(firstRow);\r\n        var newLandingIndex = (pageY > absPos.y + rowHeight / 2) ? Math.round((pageY - absPos.y + rowHeight / 2) / rowHeight) : 0;\r\n        if (newLandingIndex > rows.length) {\r\n            newLandingIndex = rows.length;\r\n        }\r\n        if (newLandingIndex != this.landingIndex) {\r\n            this.landingIndex = newLandingIndex;\r\n            if (this.landingIndex < rows.length) {\r\n                this.columnsBlock.insertBefore(this.landingSlot, rows[this.landingIndex]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(this.landingSlot);\r\n            }\r\n            this.landingSlot.scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.hideLandingSlot = function () {\r\n        var _this = this;\r\n        this.landingIndex = -1;\r\n        setTimeout(function () {\r\n            if (_this.landingSlot.parentElement) {\r\n                _this.landingSlot.parentElement.removeChild(_this.landingSlot);\r\n            }\r\n        }, 10);\r\n    };\r\n    ColumnsPanel.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n        if (browserUtils.isMobileMode()) {\r\n            this.options.buttons = [\"menu\"];\r\n            this.options.showHeader = false;\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.onProcessStartCore = function () {\r\n    };\r\n    ColumnsPanel.prototype.onProcessEndCore = function () {\r\n    };\r\n    ColumnsPanel.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    ColumnsPanel.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    ColumnsPanel.prototype.render = function () {\r\n        try {\r\n            this.renderBaseElements();\r\n            this.createEntitiesMenu();\r\n            this.createColumnMenus();\r\n            this.agjustHeaderVisibility();\r\n            domel(this.slot)\r\n                .removeClass(eqCssMobile)\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            var query = this.context.getQuery();\r\n            var columns = query.getColumns();\r\n            for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\r\n                var column = columns_1[_i];\r\n                this.columnsBlock.appendChild(this.renderColumn(column));\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.context.throwError({\r\n                action: \"ColumnsPanel rendering\",\r\n                text: e.message\r\n            });\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.agjustHeaderVisibility = function () {\r\n        if (this.headerElement) {\r\n            var query = this.context.getQuery();\r\n            var columns = query.getColumns();\r\n            this.headerElement.style.display = (columns.length) ? '' : 'none';\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.renderColumn = function (column) {\r\n        var renderer = this.getColumnRenderer(column);\r\n        if (renderer)\r\n            return renderer.render();\r\n        return null;\r\n    };\r\n    ColumnsPanel.prototype.toggleColumnPicked = function (column) {\r\n        var el;\r\n        var isActive;\r\n        if (column) {\r\n            el = this.columnsBlock.querySelector(\"div[data-id=\" + column.id + \"]\");\r\n            if (el) {\r\n                isActive = el.classList.contains('active');\r\n            }\r\n        }\r\n        //clear 'active' in all rows\r\n        var rows = this.columnsBlock.querySelectorAll(\".\" + this.cssPrefix + \"-row\");\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            domel(row)\r\n                .removeClass('active');\r\n            if (!this.options.alwaysShowButtons) {\r\n                domel(row)\r\n                    .data(\"show-buttons\", null);\r\n            }\r\n        }\r\n        if (el && !isActive) {\r\n            domel(el)\r\n                .addClass('active')\r\n                .data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.addNewColumn = function (attrId, index) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInResult) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInResult) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn();\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.None;\r\n            column.sortIndex = -1;\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        var colToAdd, col;\r\n        if (Array.isArray(attrId)) {\r\n            colToAdd = [];\r\n            for (var i = 0; i < attrId.length; i++) {\r\n                col = getColumnByAttrId(attrId[i]);\r\n                if (col) {\r\n                    colToAdd.push(col);\r\n                }\r\n            }\r\n        }\r\n        else\r\n            colToAdd = getColumnByAttrId(attrId);\r\n        this.addColumn(colToAdd, index);\r\n        return colToAdd;\r\n    };\r\n    ColumnsPanel.prototype.addColumn = function (column, index) {\r\n        var query = this.getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        if (Array.isArray(column))\r\n            column = this.checkColumnsArray(column);\r\n        else\r\n            column = this.checkColumn(column);\r\n        if (!column || (Array.isArray(column) && column.length == 0)) {\r\n            return;\r\n        }\r\n        query.addColumnObj(column, index, self);\r\n        query.fireColumnsChangedEvent(QueryChangeAction.Add, column);\r\n    };\r\n    //adds one column to the panel on the specified position\r\n    ColumnsPanel.prototype.addColumnElement = function (column, index) {\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var newColBlock = this.renderColumn(column);\r\n        if (rows.length > 0) {\r\n            if (index < rows.length) {\r\n                this.columnsBlock.insertBefore(newColBlock, rows[index]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(newColBlock);\r\n                this.scrollToBottom();\r\n            }\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(newColBlock);\r\n            this.scrollToBottom();\r\n        }\r\n        if (this.options.columnRenderedCallback) {\r\n            this.options.columnRenderedCallback(newColBlock);\r\n        }\r\n        return newColBlock;\r\n    };\r\n    ColumnsPanel.prototype.scrollToBottom = function () {\r\n        this.columnsBlock.scrollTop = this.columnsBlock.scrollHeight - this.columnsBlock.clientHeight;\r\n    };\r\n    ColumnsPanel.prototype.checkColumnsArray = function (cols) {\r\n        var i = 0, len = cols.length;\r\n        var result = [];\r\n        for (var i_1 = 0; i_1 < len; i_1++) {\r\n            if (this.checkColumn(cols[i_1]))\r\n                result.push(cols[i_1]);\r\n        }\r\n        return result;\r\n    };\r\n    ColumnsPanel.prototype.checkColumn = function (col) {\r\n        if (!this.options.allowDuplicates) {\r\n            var query = this.getQuery();\r\n            var columns = query.getColumns();\r\n            for (var i = 0; i < columns.length; i++) {\r\n                if ((col.expr.tag === ExprTag.EntityAttribute && columns[i].expr.tag === ExprTag.EntityAttribute\r\n                    || col.expr.tag === ExprTag.ParentEntityAttribute && columns[i].expr.tag === ExprTag.ParentEntityAttribute)\r\n                    && col.expr.value === columns[i].expr.value) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    ColumnsPanel.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnsPanel.prototype.getColumnsBlock = function () {\r\n        return this.columnsBlock;\r\n    };\r\n    ColumnsPanel.prototype.getColumnRenderer = function (column, slot) {\r\n        switch (column.expr.tag) {\r\n            case ExprTag.AggregateFunction:\r\n                return new AggrFuncColumnRendererCP(this, column, slot);\r\n            case ExprTag.CustomSql:\r\n                return new CustomSqlColumnRendererCP(this, column, slot);\r\n            case ExprTag.EntityAttribute:\r\n            case ExprTag.ParentEntityAttribute:\r\n                return new SimpleColumnRendererCP(this, column, slot);\r\n        }\r\n        return null;\r\n    };\r\n    ColumnsPanel.prototype.areCustomExpressionsAllowed = function () {\r\n        var query = this.getQuery();\r\n        return query.isEx() && this.options.allowCustomExpressions;\r\n    };\r\n    ColumnsPanel.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: true, addUIS: false, attrPlacement: this.options.attrPlacement, sortEntities: this.options.sortEntities });\r\n        var options = {\r\n            id: menuId,\r\n            items: entitiesList,\r\n            adjustHeight: this.options.adjustEntitiesMenuHeight,\r\n            domWriteItemsId: this.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    ColumnsPanel.prototype.getSortMenuList = function () {\r\n        return [\r\n            { id: 'None', text: i18n.getText('CmdNotSorted') },\r\n            { id: 'Ascending', text: i18n.getText('CmdAscending') },\r\n            { id: 'Descending', text: i18n.getText('CmdDescending') },\r\n            { id: '---', text: '---' }\r\n        ];\r\n    };\r\n    ColumnsPanel.prototype.getMoveMenuList = function () {\r\n        return [\r\n            { id: 'MoveTop', text: i18n.getText('CmdMoveToFirst') },\r\n            { id: 'MoveUp', text: i18n.getText('CmdMoveToPrev') },\r\n            { id: 'MoveDown', text: i18n.getText('CmdMoveToNext') },\r\n            { id: 'MoveBottom', text: i18n.getText('CmdMoveToLast') }\r\n        ];\r\n    };\r\n    ColumnsPanel.prototype.createSortMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-SortMenu';\r\n        }\r\n        var items = this.getSortMenuList().concat(this.moveMenu.getItems());\r\n        var menuOptions = {\r\n            id: menuId,\r\n            \"items\": items,\r\n            domWriteItemsId: this.options.domWriteItemsId,\r\n            showSelected: true\r\n        };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n        this.sortMenu = new PopupMenu(menuOptions);\r\n    };\r\n    ColumnsPanel.prototype.createMoveMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-MoveMenu';\r\n        }\r\n        var items = dataUtils.createArrayFrom(this.getMoveMenuList());\r\n        if (this.options.allowHiddenColumns) {\r\n            items.push({ id: '---', text: '---' });\r\n            items.push({ id: 'IsHidden', text: i18n.getText('CmdHiddenColumn') });\r\n        }\r\n        var menuOptions = {\r\n            \"items\": items,\r\n            id: menuId,\r\n            domWriteItemsId: this.options.domWriteItemsId,\r\n            showSelected: true\r\n        };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        this.moveMenu = new PopupMenu(menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n    };\r\n    ColumnsPanel.prototype.showEntitiesMenu = function (menuOptions) {\r\n        this.entitiesMenu.showMenu(menuOptions);\r\n    };\r\n    ColumnsPanel.prototype.moveColumn = function (column, direction) {\r\n        var query = this.getQuery();\r\n        var columns = query.getColumns();\r\n        var index = columns.indexOf(column);\r\n        if (index >= 0) {\r\n            switch (direction) {\r\n                case 'MoveTop':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, 0);\r\n                    break;\r\n                case 'MoveUp':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index - 1);\r\n                    break;\r\n                case 'MoveDown':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index + 1);\r\n                    break;\r\n                case 'MoveBottom':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, columns.length - 1);\r\n                    break;\r\n            }\r\n            ;\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.moveColumnCore = function (index1, index2) {\r\n        var query = this.getQuery();\r\n        if (!query)\r\n            return;\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var colToMove = rows[index1];\r\n        if (index2 == 0) {\r\n            this.columnsBlock.insertBefore(colToMove, this.columnsBlock[0]);\r\n        }\r\n        else if (index2 > 0 && index2 < rows.length - 1) {\r\n            if (index1 < index2) {\r\n                this.columnsBlock.insertBefore(colToMove, rows[index2 + 1]);\r\n            }\r\n            else {\r\n                this.columnsBlock.insertBefore(colToMove, rows[index2]);\r\n            }\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(colToMove);\r\n        }\r\n        query.moveColumn(index1, index2);\r\n        query.fireColumnsChangedEvent();\r\n    };\r\n    ColumnsPanel.prototype.createColumnMenus = function () {\r\n        this.createMoveMenu();\r\n        if (this.options.allowSorting) {\r\n            this.createSortMenu();\r\n        }\r\n    };\r\n    return ColumnsPanel;\r\n}(Widget));\r\nexport { ColumnsPanel };\r\n//# sourceMappingURL=columns_panel.js.map","import { i18n } from '@easydata/core';\r\nimport { QueryChangeAction, SortDirection } from \"@easyquery/core\";\r\nimport { eqDragManager, DropEffect, createBrowserEvent, domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nvar ColumnRendererCB = /** @class */ (function () {\r\n    function ColumnRendererCB(panel, column, slot) {\r\n        this.functionMenu = null;\r\n        this.isMouseOverBlock = false;\r\n        this.keepShowingButtons = false;\r\n        this.tapedTwice = false;\r\n        this.bar = panel;\r\n        this.column = column;\r\n        this.element = slot;\r\n    }\r\n    Object.defineProperty(ColumnRendererCB.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-cb';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnRendererCB.prototype.render = function () {\r\n        var _this = this;\r\n        this.baseAttr = this.getAttribute();\r\n        var builder = domel('div');\r\n        builder.data('id', this.column.id);\r\n        if (this.element) {\r\n            //to remove all event listeners\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        if (this.bar.options.allowDragDrop) {\r\n            eqDragManager.registerDraggableItem({\r\n                element: this.element,\r\n                scope: \"entityAttrSort\",\r\n                beforeDragStart: function () { return _this.element.dispatchEvent(createBrowserEvent('mouseleave')); },\r\n                onDragStart: function (ev) {\r\n                    _this.hideButtons();\r\n                    _this.element.style.display = 'none';\r\n                    ev.dropEffect = DropEffect.Allow;\r\n                },\r\n                onDragEnd: function (ev) {\r\n                    if (!ev.data.finishedSuccessfully) {\r\n                        _this.element.removeAttribute('style');\r\n                    }\r\n                },\r\n                data: { column: this.column }\r\n            });\r\n        }\r\n        if (!this.column.isReadOnly()) {\r\n            this.createFunctionMenu();\r\n        }\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            //        .addChildElement(this.renderExpressionBlock())\r\n            .addChildElement(this.renderCaptionBlock())\r\n            .addChildElement(this.renderSortingImage());\r\n        if (!browserUtils.isMobileMode()) {\r\n            builder\r\n                .addChildElement(this.renderButtonsBlock());\r\n        }\r\n        //start event listeners\r\n        builder\r\n            .on('mouseenter', this.onMouseEnter.bind(this))\r\n            .on('mouseleave', this.onMouseLeave.bind(this));\r\n        //end event listeners\r\n        if (this.bar.options.accentActiveColumn || browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('touchstart click', this.onMouseClick.bind(this));\r\n        }\r\n        return this.element;\r\n    };\r\n    ColumnRendererCB.prototype.fireColumnChanged = function () {\r\n        this.column.fireChangedEvent();\r\n    };\r\n    ColumnRendererCB.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ColumnRendererCB.prototype.getAttribute = function () {\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeById(this.column.expr.value);\r\n    };\r\n    ColumnRendererCB.prototype.isEditable = function () {\r\n        return this.column.enabled && !this.column.isReadOnly();\r\n    };\r\n    ColumnRendererCB.prototype.renderButtonsBlock = function () {\r\n        return domel('div', this.element)\r\n            .addClass(eqCssPrefix + \"-column-buttonsBlock\", this.cssPrefix + \"-buttonsBlock\")\r\n            //.addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderSortingButton())\r\n            .addChildElement(this.renderColumnTypeButton())\r\n            .addChildElement(this.renderDeleteButton())\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderButtonsBlockMobile = function () {\r\n        var builder = domel('div', this.element)\r\n            .addClass(eqCssPrefix + \"-column-buttonsBlock-mobile\")\r\n            .addChildElement(this.renderSortingButton())\r\n            .addChildElement(this.renderColumnTypeButton())\r\n            .addChildElement(this.renderDeleteButton())\r\n            .addChildElement(this.renderCaptionEditorMobile());\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderCaptionEditorMobile = function () {\r\n        return domel('div').toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderCaptionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultCaption();\r\n        }\r\n        if (!this.isEditable()) {\r\n            return domel('div')\r\n                .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .addChild('div', function (b) { return b\r\n                .title(_this.column.caption)\r\n                .text(_this.column.caption)\r\n                .attr('tabIndex', '0'); })\r\n                .toDOM();\r\n        }\r\n        var tapHandler = function (ev) {\r\n            if (!_this.tapedTwice) {\r\n                _this.tapedTwice = true;\r\n                setTimeout(function () { _this.tapedTwice = false; }, 300);\r\n            }\r\n        };\r\n        var isFocused = false;\r\n        domel(this.element).on('touchstart dblclick', function (ev) {\r\n            if (ev instanceof TouchEvent && !_this.tapedTwice) {\r\n                tapHandler(ev);\r\n                return true;\r\n            }\r\n            ev.stopPropagation();\r\n            isFocused = _this.element.querySelector('a') == document.activeElement;\r\n            var inputEl = _this.element.querySelector(\".\" + _this.cssPrefix + \"-captionelement input\");\r\n            var aEl = _this.element.querySelector(\".\" + _this.cssPrefix + \"-captionelement a\");\r\n            if (inputEl) {\r\n                inputEl.style.width = _this.element.clientWidth + \"px\";\r\n                aEl.style.display = 'none';\r\n                inputEl.style.removeProperty('display');\r\n                inputEl.focus();\r\n                _this.element.setAttribute(eqDragManager.DRAG_DISABLED_ATTR, '');\r\n            }\r\n            return false;\r\n        }); //TO DO:add localization and input field);\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('a', function (builder) { return builder\r\n            .attr('href', 'javascript:void(0)')\r\n            .title(_this.column.caption)\r\n            .text(_this.column.caption)\r\n            .on('keydown', function (e) {\r\n            var evt = e;\r\n            var isCtrlEnter = (evt.ctrlKey || evt.metaKey) && (evt.keyCode == 13 || evt.keyCode == 10);\r\n            if (isCtrlEnter && _this.isColumnActive()) {\r\n                var clickEvent = document.createEvent('MouseEvents');\r\n                clickEvent.initEvent('dblclick', true, true);\r\n                _this.element.dispatchEvent(clickEvent);\r\n                evt.stopPropagation();\r\n                return false;\r\n            }\r\n            return true;\r\n        }); })\r\n            .addChild('input', function (builder) { return builder\r\n            .hide()\r\n            .value(_this.column.caption)\r\n            .on('blur keydown', function (ev) {\r\n            var isEndEvent = false;\r\n            var save = true;\r\n            if (ev instanceof KeyboardEvent) {\r\n                // Enter\r\n                if (ev.keyCode === 13) {\r\n                    isEndEvent = true;\r\n                    //ESC\r\n                }\r\n                else if (ev.keyCode === 27) {\r\n                    isEndEvent = true;\r\n                    save = false;\r\n                }\r\n            }\r\n            else if (ev instanceof FocusEvent) {\r\n                isEndEvent = true;\r\n            }\r\n            if (isEndEvent) {\r\n                var inputEl = ev.target;\r\n                var aEl = inputEl.parentElement.querySelector('a');\r\n                if (aEl) {\r\n                    aEl.style.removeProperty('display');\r\n                    inputEl.style.display = 'none';\r\n                }\r\n                if (save && _this.column.caption !== inputEl.value) {\r\n                    _this.column.caption = inputEl.value;\r\n                    _this.fireColumnChanged();\r\n                }\r\n                else {\r\n                    inputEl.value = _this.column.caption;\r\n                }\r\n                _this.element.removeAttribute(eqDragManager.DRAG_DISABLED_ATTR);\r\n                if (isFocused) {\r\n                    _this.element.querySelector('a').focus();\r\n                }\r\n            }\r\n        }); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderSortingImage = function () {\r\n        var _this = this;\r\n        var sortButtonCssClass = eqCssPrefix + \"-column-sortbutton\";\r\n        var sortButtonDirectionCssClass = sortButtonCssClass;\r\n        switch (this.column.sorting) {\r\n            case SortDirection.Ascending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-asc\";\r\n                break;\r\n            case SortDirection.Descending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-desc\";\r\n                break;\r\n        }\r\n        if (this.column.sorting == SortDirection.None) {\r\n            return null;\r\n        }\r\n        else {\r\n            return domel('div')\r\n                .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-sortimage-placeholder\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .addChild('div', function (builder) { return builder\r\n                .addClass(_this.cssPrefix + \"-img-sorting\", sortButtonDirectionCssClass)\r\n                .title(i18n.getText('ButtonSorting')); })\r\n                .toDOM();\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.buttonSortingClickHandler = function (ev, anchor) {\r\n        var _this = this;\r\n        ev.stopPropagation();\r\n        this.keepShowingButtons = true;\r\n        var menu = this.getUIS() ? this.bar.sortMenu || this.bar.moveMenu : this.bar.moveMenu;\r\n        menu.showMenu({\r\n            anchor: anchor,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                var strToSortDirection = function (str) {\r\n                    if (str == 'None') {\r\n                        return SortDirection.None;\r\n                    }\r\n                    else if (str == \"Ascending\") {\r\n                        return SortDirection.Ascending;\r\n                    }\r\n                    else if (str == \"Descending\") {\r\n                        return SortDirection.Descending;\r\n                    }\r\n                };\r\n                if (data.id == 'None' || data.id == \"Ascending\" || data.id == \"Descending\") {\r\n                    var query = _this.bar.getQuery();\r\n                    _this.column.sorting = strToSortDirection(data.id);\r\n                    _this.column.sortIndex = query.getColumnSortIndex(_this.column);\r\n                    _this.fireColumnChanged();\r\n                }\r\n                else {\r\n                    _this.bar.moveColumn(_this.column, data.id);\r\n                }\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n                if (!_this.isMouseOverBlock) {\r\n                    _this.leaveButtonBlock();\r\n                }\r\n            }\r\n        });\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.renderSortingButton = function () {\r\n        var _this = this;\r\n        if (!this.isEditable()) {\r\n            return null;\r\n        }\r\n        var builder = domel('div')\r\n            .addClass(eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-sortbutton\", eqCssPrefix + \"-column-sortbutton-none\")\r\n            .title(i18n.getText('ButtonSorting'))\r\n            .attr('tabIndex', '0')\r\n            .on('touchstart click', function (ev) { return _this.buttonSortingClickHandler(ev, builder.toDOM()); })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } });\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.buttonDeleteClickHandler = function (ev) {\r\n        ev.stopPropagation();\r\n        var query = this.bar.getQuery();\r\n        query.removeColumn(this.column, this.bar);\r\n        query.fireColumnsChangedEvent(QueryChangeAction.Delete, this.column);\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.renderDeleteButton = function () {\r\n        var _this = this;\r\n        if (this.column.isReadOnly()) {\r\n            return null;\r\n        }\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-delete\")\r\n            .title(i18n.getText('CmdDelete'))\r\n            .attr('tabIndex', '0')\r\n            .on('touchstart click', function (ev) { return _this.buttonDeleteClickHandler(ev); })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.getDefaultCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr);\r\n    };\r\n    ColumnRendererCB.prototype.getDefaultTitleText = function (attr) {\r\n        var format = this.bar.options.titleElementFormat || this.bar.options.attrElementFormat;\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnRendererCB.prototype.getClassesToAdd = function () {\r\n        var result = \"\";\r\n        result += this.column.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n        if (this.column.enabled) {\r\n            result += this.column.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n        }\r\n        return result;\r\n    };\r\n    ColumnRendererCB.prototype.buttonTypeClickHandler = function (ev) {\r\n        ev.stopPropagation();\r\n        this.keepShowingButtons = true;\r\n        this.changeTypeHandler(ev);\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.renderColumnTypeButton = function () {\r\n        var _this = this;\r\n        if (!this.isEditable()) {\r\n            return null;\r\n        }\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-type\")\r\n            .title(i18n.getText('ButtonToAggr'))\r\n            .attr('tabIndex', '0')\r\n            .on('touchstart click', function (ev) { return _this.buttonTypeClickHandler(ev); })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.getUIS = function () {\r\n        return this.bar\r\n            .getContext().getModel()\r\n            .checkAttrProperty(this.column.expr.value, \"useInSorting\");\r\n    };\r\n    ColumnRendererCB.prototype.onMouseClick = function (ev) {\r\n        this.bar.toggleColumnPicked(this.column);\r\n        this.adjustButtonsVisibility();\r\n        // if (!browserUtils.isMobileMode()) {\r\n        //     this.element.dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n        // }\r\n    };\r\n    ColumnRendererCB.prototype.onMouseEnter = function (e) {\r\n        if (browserUtils.isMobileMode())\r\n            return;\r\n        this.isMouseOverBlock = true;\r\n        this.enterButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.onMouseLeave = function (e) {\r\n        if (browserUtils.isMobileMode())\r\n            return;\r\n        this.isMouseOverBlock = false;\r\n        this.leaveButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.isColumnActive = function () {\r\n        return this.element.classList.contains(\"active\");\r\n    };\r\n    ColumnRendererCB.prototype.hideButtons = function () {\r\n        if (browserUtils.isMobileMode()) {\r\n            if (this.onHideButtonsMobile) {\r\n                this.onHideButtonsMobile();\r\n            }\r\n        }\r\n        else {\r\n            domel(this.element).data(\"show-buttons\", null);\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.showButtons = function () {\r\n        if (browserUtils.isMobileMode()) {\r\n            if (this.onShowButtonsMobile) {\r\n                this.onShowButtonsMobile();\r\n            }\r\n        }\r\n        else {\r\n            domel(this.element).data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.adjustButtonsVisibility = function () {\r\n        if (this.bar.options.alwaysShowButtons\r\n            || ((this.bar.options.accentActiveColumn || browserUtils.isMobileMode())\r\n                && this.isColumnActive())) {\r\n            this.showButtons();\r\n        }\r\n        else {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.enterButtonBlock = function () {\r\n        this.showButtons();\r\n    };\r\n    ColumnRendererCB.prototype.leaveButtonBlock = function () {\r\n        if (this.bar.options.alwaysShowButtons != true && (!this.isColumnActive() || this.bar.options.accentActiveColumn != true)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.createFunctionMenu = function () {\r\n        var items = [];\r\n        var funcs = this.bar.getContext().getModel().getAggrFunctions();\r\n        var funcAllowed = true;\r\n        var item = null;\r\n        var attribute = this.getAttribute();\r\n        var funcCaption;\r\n        for (var _i = 0, funcs_1 = funcs; _i < funcs_1.length; _i++) {\r\n            var func = funcs_1[_i];\r\n            if (!func)\r\n                continue;\r\n            var toInclude = func.appliedTypes.indexOf(attribute.dataType) >= 0;\r\n            if (this.column.expr.func === func.id && !toInclude) {\r\n                funcAllowed = false;\r\n            }\r\n            if (toInclude) {\r\n                funcCaption = this.bar.getContext().getModel()\r\n                    .getAggrFunctionCaption(func.id);\r\n                item = {\r\n                    id: func.id,\r\n                    text: funcCaption\r\n                };\r\n                items.push(item);\r\n            }\r\n        }\r\n        if (!funcAllowed) {\r\n            this.column.expr.func = items[0].id;\r\n        }\r\n        //Add \"Custom Expression\" menu\r\n        var columnsPanel = this.bar;\r\n        if (columnsPanel.areCustomExpressionsAllowed()) {\r\n            item = {\r\n                id: 'CustomSqlDivider',\r\n                text: '---'\r\n            };\r\n            items.push(item);\r\n            funcCaption = i18n.getText('CustomExpression');\r\n            item = {\r\n                id: 'CUSTOMSQL',\r\n                text: funcCaption\r\n            };\r\n            items.push(item);\r\n        }\r\n        var menuId = this.element.id;\r\n        if (menuId) {\r\n            menuId += '-FunctionsMenu';\r\n        }\r\n        var menuOptions = {\r\n            items: items,\r\n            id: menuId,\r\n            searchBoxAlwaysShown: false,\r\n            domWriteItemsId: true //this.panel.options.domWriteItemsId\r\n        };\r\n        this.functionMenu = new PopupMenu(menuOptions);\r\n    };\r\n    return ColumnRendererCB;\r\n}());\r\nexport { ColumnRendererCB };\r\n//# sourceMappingURL=column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { createBrowserEvent } from '@easydata/ui';\r\nimport { ColumnRendererCB } from './column_renderer';\r\nvar SimpleColumnRendererCB = /** @class */ (function (_super) {\r\n    __extends(SimpleColumnRendererCB, _super);\r\n    function SimpleColumnRendererCB() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SimpleColumnRendererCB.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\";\r\n    };\r\n    SimpleColumnRendererCB.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.id = attrid;\r\n        this.column.expr.setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.refresh();\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCB.prototype.getUIS = function () {\r\n        var arg = this.column.expr.args[0];\r\n        if (arg) {\r\n            var model = this.bar.getContext().getModel();\r\n            return model.checkAttrProperty(arg.value, \"useInSorting\");\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    SimpleColumnRendererCB.prototype.changeTypeToCustomSql = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.CustomSql);\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCB.prototype.changeTypeToAggr = function (funcId) {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.AggregateFunction, { funcId: funcId });\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCB.prototype.changeTypeHandler = function (ev) {\r\n        var _this = this;\r\n        this.functionMenu.showMenu({\r\n            anchor: ev.target,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                if (data.id == \"CUSTOMSQL\") {\r\n                    _this.changeTypeToCustomSql();\r\n                }\r\n                else {\r\n                    _this.changeTypeToAggr(data.id);\r\n                }\r\n                return false;\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n                if (!_this.isMouseOverBlock) {\r\n                    _this.element.dispatchEvent(createBrowserEvent('mouseleave'));\r\n                }\r\n            }\r\n        });\r\n    };\r\n    return SimpleColumnRendererCB;\r\n}(ColumnRendererCB));\r\nexport { SimpleColumnRendererCB };\r\n//# sourceMappingURL=simple_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { SimpleColumnRendererCB } from './simple_column_renderer';\r\nvar AggrFuncColumnRendererCB = /** @class */ (function (_super) {\r\n    __extends(AggrFuncColumnRendererCB, _super);\r\n    function AggrFuncColumnRendererCB() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AggrFuncColumnRendererCB.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-aggr\";\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.getAttribute = function () {\r\n        return this.bar\r\n            .getContext()\r\n            .getModel()\r\n            .getAttributeById(this.column.expr.args[0].value);\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.getDefaultCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr) + ' '\r\n            + this.bar.getContext().getModel().getAggrFunctionCaption(this.column.expr.func);\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.renderColumnTypeButton = function () {\r\n        var button = _super.prototype.renderColumnTypeButton.call(this);\r\n        if (button) {\r\n            button.classList.add('aggregated');\r\n            button.title = i18n.getText('ButtonToSimple');\r\n        }\r\n        return button;\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.args[0].id = attrid;\r\n        this.column.expr.args[0].setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.fireColumnChanged();\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.changeTypeToSimple = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.EntityAttribute);\r\n        this.fireColumnChanged();\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.changeTypeHandler = function (ev) {\r\n        this.changeTypeToSimple();\r\n    };\r\n    return AggrFuncColumnRendererCB;\r\n}(SimpleColumnRendererCB));\r\nexport { AggrFuncColumnRendererCB };\r\n//# sourceMappingURL=aggrfunc_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { ExprTag, SortDirection, QueryChangePart, QueryChangeAction, Widget, WidgetGroup } from '@easyquery/core';\r\nimport { eqDragManager, DropEffect, getElementAbsolutePos, domel } from '@easydata/ui';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { AggrFuncColumnRendererCB } from './renderers/columnsbar/aggrfunc_column_renderer';\r\nimport { SimpleColumnRendererCB } from './renderers/columnsbar/simple_column_renderer';\r\nvar ColumnsBar = /** @class */ (function (_super) {\r\n    __extends(ColumnsBar, _super);\r\n    function ColumnsBar(slot, customQuery) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            isSubQuery: false,\r\n            activeColumn: null,\r\n            showAddRow: true,\r\n            showHeader: true,\r\n            showColumnTitles: true,\r\n            allowAggrColumns: true,\r\n            allowDuplicates: true,\r\n            allowCustomExpressions: false,\r\n            allowSorting: true,\r\n            attrElementFormat: '{entity} {attr}',\r\n            titleElementFormat: null,\r\n            alwaysShowButtons: false,\r\n            accentActiveColumn: true,\r\n            menuSearchBoxAfter: 30,\r\n            allowDragDrop: true,\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                adjustHeight: true,\r\n                itemRenderedCallback: null\r\n            },\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            columnRenderedCallback: null,\r\n            customExpressionText: 0,\r\n        };\r\n        _this.landingSlot = domel('div')\r\n            .addClass(eqCssPrefix + \"-highlight\")\r\n            .toDOM();\r\n        _this.landingIndex = -1;\r\n        _this.sortMenuList = [\r\n            { id: 'None', text: i18n.getText('CmdNotSorted') },\r\n            { id: 'Ascending', text: i18n.getText('CmdAscending') },\r\n            { id: 'Descending', text: i18n.getText('CmdDescending') },\r\n            { id: '---', text: '---' }\r\n        ];\r\n        _this.moveMenuList = [\r\n            { id: 'MoveTop', text: i18n.getText('CmdMoveToFirst') },\r\n            { id: 'MoveUp', text: i18n.getText('CmdMoveToPrev') },\r\n            { id: 'MoveDown', text: i18n.getText('CmdMoveToNext') },\r\n            { id: 'MoveBottom', text: i18n.getText('CmdMoveToLast') }\r\n        ];\r\n        domel(_this.slot)\r\n            .addClass(_this.cssPrefix + \"-panel\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        _this.group = WidgetGroup.Query;\r\n        _this.customQuery = customQuery;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ColumnsBar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return \"eqjs-cb\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnsBar.prototype.getWidgetType = function () {\r\n        return 'columnsPanel';\r\n    };\r\n    ColumnsBar.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.detachQueryObserver();\r\n        this.attachQueryObserver();\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"entityAttrSort\"],\r\n                onDragEnter: function (container, ev) {\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragOver: function (container, ev) {\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragLeave: function (container, ev) {\r\n                    ev.dropEffect = DropEffect.Forbid;\r\n                    _this.hideLandingSlot();\r\n                },\r\n                onDrop: function (container, ev) {\r\n                    var query = _this.getQuery();\r\n                    var columns = query.getColumns();\r\n                    var index = columns.indexOf(ev.data.column);\r\n                    _this.moveColumnCore(index, _this.landingIndex);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    ColumnsBar.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            var focusedBefore = document.activeElement;\r\n            var isFocusInside = _this.slot.contains(focusedBefore) || focusedBefore == document.body;\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var columns = edata.changee;\r\n                    var modifyColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var newEl = _this.renderColumn(column, colEl);\r\n                            if (isFocusInside) {\r\n                                var focusElem = newEl.querySelector('a');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return modifyColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        modifyColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var columns = edata.changee;\r\n                    var addColumn_1 = function (column) {\r\n                        var index = query.getColumns().indexOf(column);\r\n                        _this.addColumnElement(column, index);\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return addColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        addColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var columns = edata.changee;\r\n                    var deleteColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var next = colEl.nextSibling;\r\n                            var prev = colEl.previousSibling;\r\n                            _this.columnsBlock.removeChild(colEl);\r\n                            if (isFocusInside) {\r\n                                var focusCond = next || prev || _this.addRowButton;\r\n                                var focusElem = focusCond.querySelector('a');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return deleteColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        deleteColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    ColumnsBar.prototype.getQuery = function () {\r\n        return this.customQuery\r\n            ? this.customQuery\r\n            : this.getContext().getQuery();\r\n    };\r\n    ColumnsBar.prototype.destroyCore = function () {\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    ColumnsBar.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    ColumnsBar.prototype.showLandingSlot = function (pageX, pageY) {\r\n        var elements = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var columnSlots = [];\r\n        for (var i = 0; i < elements.length; i++) {\r\n            if (elements[i].style.display !== 'none') {\r\n                columnSlots.push(elements[i]);\r\n            }\r\n        }\r\n        if (columnSlots.length === 0) {\r\n            this.landingIndex = 0;\r\n            return;\r\n        }\r\n        var landingPos = getElementAbsolutePos(this.landingSlot);\r\n        if (pageX >= landingPos.x && pageX <= landingPos.x + this.landingSlot.offsetWidth\r\n            && pageY >= landingPos.y && pageY <= landingPos.y + this.landingSlot.offsetHeight) {\r\n            return;\r\n        }\r\n        var newLandingIndex = this.landingIndex;\r\n        for (var i = 0; i < columnSlots.length; i++) {\r\n            var colSlot = columnSlots[i];\r\n            var absPos = getElementAbsolutePos(colSlot);\r\n            var colWidth = colSlot.offsetWidth;\r\n            var colHeight = colSlot.offsetHeight;\r\n            var paddingWidth = 0.2 * colWidth;\r\n            var paddingHeight = 2;\r\n            if (pageX >= absPos.x + paddingWidth && pageX <= absPos.x + colWidth - paddingWidth\r\n                && pageY >= absPos.y + paddingHeight && pageY <= absPos.y + colHeight - paddingHeight) {\r\n                if (pageX > landingPos.x)\r\n                    newLandingIndex = i + 1;\r\n                else\r\n                    newLandingIndex = i;\r\n                break;\r\n            }\r\n        }\r\n        if (newLandingIndex != this.landingIndex || this.landingSlot.parentElement) {\r\n            this.landingIndex = newLandingIndex;\r\n            if (this.landingIndex <= 0) {\r\n                this.columnsBlock.insertBefore(this.landingSlot, columnSlots[0]);\r\n            }\r\n            if (this.landingIndex < columnSlots.length) {\r\n                this.columnsBlock.insertBefore(this.landingSlot, columnSlots[this.landingIndex]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(this.landingSlot);\r\n            }\r\n        }\r\n    };\r\n    ColumnsBar.prototype.hideLandingSlot = function () {\r\n        this.landingIndex = -1;\r\n        if (this.landingSlot.parentElement) {\r\n            this.landingSlot.parentElement.removeChild(this.landingSlot);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.onProcessStartCore = function () {\r\n    };\r\n    ColumnsBar.prototype.onProcessEndCore = function () {\r\n    };\r\n    ColumnsBar.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    ColumnsBar.prototype.clear = function () {\r\n        // if (this.addRowButton) {\r\n        //     this.addRowButton.innerHTML = \"\";\r\n        //     this.addRowButton.className = \"\";\r\n        // }\r\n        // this.columnsBlock.innerHTML = \"\";\r\n        this.slot.innerHTML = '';\r\n    };\r\n    ColumnsBar.prototype.renderAddRowButton = function () {\r\n        var _this = this;\r\n        domel(this.addRowButton)\r\n            .addClass(eqCssPrefix + \"-addrow\", this.cssPrefix + \"-addrow\", eqCssPrefix + \"-addrow-empty\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .title(i18n.getText('CmdClickToAddColumn'))\r\n            .addChild('a', function (builder) { return builder\r\n            .attr('href', 'javascript:void(0)')\r\n            .on('click', function (e) {\r\n            e.preventDefault();\r\n            _this.showEntitiesMenu({\r\n                anchor: e.target,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var attrid = data.id;\r\n                    _this.addNewColumn(attrid);\r\n                    return false;\r\n                }\r\n            });\r\n        }); });\r\n        if (browserUtils.isMobileMode()) {\r\n            domel(this.columnsBlock)\r\n                .addChildElement(this.addRowButton);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.render = function () {\r\n        var _this = this;\r\n        this.createEntitiesMenu();\r\n        if (this.options.allowSorting) {\r\n            this.createSortMenu();\r\n        }\r\n        this.createMoveMenu();\r\n        this.columnsBlock =\r\n            domel('div')\r\n                .addClass(this.cssPrefix + \"-columns\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        if (this.options.showAddRow) {\r\n            this.addRowButton =\r\n                domel('div')\r\n                    .toDOM();\r\n            if (browserUtils.isMobileMode()) {\r\n                domel(this.columnsBlock)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            else {\r\n                domel(this.slot)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            this.renderAddRowButton();\r\n        }\r\n        domel(this.slot)\r\n            .addChildElement(this.columnsBlock)\r\n            .addChildElement(this.renderColumnButtonsBlockMobile());\r\n        var query = this.getQuery();\r\n        var columns = query.getColumns();\r\n        columns.forEach(function (column, index) {\r\n            var slot = _this.renderColumn(column);\r\n            _this.columnsBlock.appendChild(slot);\r\n        });\r\n    };\r\n    ColumnsBar.prototype.renderColumnButtonsBlockMobile = function () {\r\n        var _this = this;\r\n        this.columnButtonsBlockMobileArrow = domel('i').toDOM();\r\n        this.columnButtonsBlockMobile = domel('div')\r\n            .addClass(this.cssPrefix + \"-column-buttonsBlock\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.columnButtonsBlockMobileArrow)\r\n            .hide()\r\n            .toDOM();\r\n        this.buttonsBlockSortingButton = domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button\", this.cssPrefix + \"-column-sortbutton-none\")\r\n            .toDOM();\r\n        domel(this.buttonsBlockSortingButton)\r\n            .on('touchstart click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.currentColumnRenderer.buttonSortingClickHandler.call(_this.currentColumnRenderer, ev, _this.buttonsBlockSortingButton);\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n            return false;\r\n        });\r\n        this.buttonsBlockTypeButton = domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button\", this.cssPrefix + \"-column-button-type\")\r\n            .on('touchstart click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.currentColumnRenderer.buttonTypeClickHandler.call(_this.currentColumnRenderer, ev);\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n            return false;\r\n        })\r\n            .toDOM();\r\n        this.buttonsBlockDeleteButton = domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button\", this.cssPrefix + \"-column-button-delete\")\r\n            .on('touchstart click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.currentColumnRenderer.buttonDeleteClickHandler.call(_this.currentColumnRenderer, ev);\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n            return false;\r\n        })\r\n            .toDOM();\r\n        domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button-close-block\")\r\n            .on('touchstart click', function () {\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n        });\r\n        return this.columnButtonsBlockMobile;\r\n    };\r\n    ColumnsBar.prototype.showColumnButtonsMobile = function (column, columnRenderer, columnElement) {\r\n        this.currentActiveColumn = column;\r\n        this.currentColumnRenderer = columnRenderer;\r\n        //calculate coordinates\r\n        var rect = columnElement.getBoundingClientRect();\r\n        var top = columnElement.offsetTop;\r\n        var left = columnElement.offsetLeft;\r\n        domel(this.columnButtonsBlockMobileArrow)\r\n            .setStyle('left', (left + rect.width / 2).toString() + 'px');\r\n        if (rect.top > 100) {\r\n            domel(this.columnButtonsBlockMobile)\r\n                .removeClass('show-below')\r\n                .setStyle('top', (top - rect.height).toString() + 'px');\r\n        }\r\n        else {\r\n            domel(this.columnButtonsBlockMobile)\r\n                .addClass('show-below')\r\n                .setStyle('top', (top + rect.height).toString() + 'px');\r\n        }\r\n        //show/hide separate buttons\r\n        if (column.enabled && !column.isReadOnly()) {\r\n            domel(this.buttonsBlockSortingButton).show();\r\n            domel(this.buttonsBlockTypeButton).show();\r\n        }\r\n        else {\r\n            domel(this.buttonsBlockSortingButton).hide();\r\n            domel(this.buttonsBlockTypeButton).hide();\r\n        }\r\n        //show\r\n        if (column.isReadOnly()) {\r\n            domel(this.columnButtonsBlockMobile).hide();\r\n        }\r\n        else {\r\n            domel(this.columnButtonsBlockMobile).show();\r\n        }\r\n    };\r\n    ColumnsBar.prototype.hideColumnButtonsMobile = function () {\r\n        domel(this.columnButtonsBlockMobile).hide();\r\n    };\r\n    ColumnsBar.prototype.renderColumn = function (column, elem) {\r\n        var _this = this;\r\n        var renderer = this.getColumnRenderer(column, elem);\r\n        if (renderer) {\r\n            var columnSlot_1 = renderer.render();\r\n            renderer.onShowButtonsMobile = function () {\r\n                _this.showColumnButtonsMobile(column, renderer, columnSlot_1);\r\n            };\r\n            renderer.onHideButtonsMobile = function () {\r\n                _this.hideColumnButtonsMobile();\r\n            };\r\n            return columnSlot_1;\r\n        }\r\n        return null;\r\n    };\r\n    ColumnsBar.prototype.getColumnRenderer = function (column, slot) {\r\n        switch (column.expr.tag) {\r\n            case ExprTag.AggregateFunction:\r\n                return new AggrFuncColumnRendererCB(this, column, slot);\r\n            case ExprTag.CustomSql:\r\n            //                return new CustomSqlColumnRendererCB(this, column, slot);\r\n            case ExprTag.EntityAttribute:\r\n            case ExprTag.ParentEntityAttribute:\r\n                return new SimpleColumnRendererCB(this, column, slot);\r\n        }\r\n        return null;\r\n    };\r\n    ColumnsBar.prototype.addNewColumn = function (attrId, index) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInResult) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInResult) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn();\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.None;\r\n            column.sortIndex = -1;\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        if (!this.getQuery()) {\r\n            return;\r\n        }\r\n        var colToAdd, col;\r\n        if (Array.isArray(attrId)) {\r\n            colToAdd = [];\r\n            for (var i = 0; i < attrId.length; i++) {\r\n                col = getColumnByAttrId(attrId[i]);\r\n                if (col) {\r\n                    colToAdd.push(col);\r\n                }\r\n            }\r\n        }\r\n        else\r\n            colToAdd = getColumnByAttrId(attrId);\r\n        this.addColumn(colToAdd, index);\r\n        return colToAdd;\r\n    };\r\n    ColumnsBar.prototype.toggleColumnPicked = function (column) {\r\n        var el;\r\n        var isActive;\r\n        if (column) {\r\n            el = this.columnsBlock.querySelector(\"div[data-id=\" + column.id + \"]\");\r\n            if (el) {\r\n                isActive = el.classList.contains('active');\r\n            }\r\n        }\r\n        //clear 'active' in all rows\r\n        var rows = this.columnsBlock.querySelectorAll(\".\" + this.cssPrefix + \"-row\");\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            domel(row)\r\n                .removeClass('active')\r\n                .data(\"show-buttons\", null);\r\n        }\r\n        if (el && !isActive) {\r\n            domel(el)\r\n                .addClass('active')\r\n                .data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    ColumnsBar.prototype.addColumn = function (column, index) {\r\n        var query = this.getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        if (Array.isArray(column))\r\n            column = this.checkColumnsArray(column);\r\n        else\r\n            column = this.checkColumn(column);\r\n        if (!column || (Array.isArray(column) && column.length == 0)) {\r\n            return;\r\n        }\r\n        query.addColumnObj(column, index, self);\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.Columns,\r\n            action: QueryChangeAction.Add,\r\n            changee: column\r\n        });\r\n    };\r\n    //adds one column to the bar on the specified position\r\n    ColumnsBar.prototype.addColumnElement = function (column, index) {\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var newColBlock = this.renderColumn(column);\r\n        if (rows.length > 0) {\r\n            if (index < rows.length - 1) {\r\n                this.columnsBlock.insertBefore(newColBlock, rows[index]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(newColBlock);\r\n            }\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(newColBlock);\r\n        }\r\n        if (this.options.columnRenderedCallback) {\r\n            this.options.columnRenderedCallback(newColBlock);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.checkColumnsArray = function (cols) {\r\n        var i = 0, len = cols.length;\r\n        var result = [];\r\n        for (var i_1 = 0; i_1 < len; i_1++) {\r\n            if (this.checkColumn(cols[i_1]))\r\n                result.push(cols[i_1]);\r\n        }\r\n        return result;\r\n    };\r\n    ColumnsBar.prototype.checkColumn = function (col) {\r\n        if (!this.options.allowDuplicates) {\r\n            var query = this.getQuery();\r\n            var columns = query.getColumns();\r\n            var colJson = JSON.stringify(col.expr);\r\n            for (var i = 0; i < columns.length; i++) {\r\n                var qcolJson = JSON.stringify(columns[i].expr);\r\n                if (qcolJson === colJson) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    ColumnsBar.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnsBar.prototype.getColumnsBlock = function () {\r\n        return this.columnsBlock;\r\n    };\r\n    ColumnsBar.prototype.showEntitiesMenu = function (menuOptions) {\r\n        this.entitiesMenu.showMenu(menuOptions);\r\n    };\r\n    ColumnsBar.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: true, addUIS: false, attrPlacement: this.options.attrPlacement, sortEntities: this.options.sortEntities });\r\n        var options = { items: entitiesList, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    ColumnsBar.prototype.createSortMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-SortMenu';\r\n        }\r\n        var items = this.sortMenuList.concat(this.moveMenuList);\r\n        var menuOptions = { \"items\": items, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n        this.sortMenu = new PopupMenu(menuOptions);\r\n    };\r\n    ColumnsBar.prototype.createMoveMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-MoveMenu';\r\n        }\r\n        var items = this.moveMenuList;\r\n        var menuOptions = { \"items\": items, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        this.moveMenu = new PopupMenu(menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n    };\r\n    ColumnsBar.prototype.moveColumn = function (column, direction) {\r\n        var query = this.getQuery();\r\n        var columns = query.getColumns();\r\n        var index = columns.indexOf(column);\r\n        if (index >= 0) {\r\n            switch (direction) {\r\n                case 'MoveTop':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, 0);\r\n                    break;\r\n                case 'MoveUp':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index - 1);\r\n                    break;\r\n                case 'MoveDown':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index + 1);\r\n                    break;\r\n                case 'MoveBottom':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, columns.length - 1);\r\n                    break;\r\n            }\r\n            ;\r\n        }\r\n    };\r\n    ColumnsBar.prototype.moveColumnCore = function (index1, index2) {\r\n        var query = this.getQuery();\r\n        if (!query)\r\n            return;\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var colToMove = rows[index1];\r\n        if (index2 <= 0) {\r\n            this.columnsBlock.insertBefore(colToMove, this.columnsBlock[0]);\r\n        }\r\n        else if (index2 < rows.length) {\r\n            this.columnsBlock.insertBefore(colToMove, rows[index2]);\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(colToMove);\r\n        }\r\n        query.moveColumn(index1, index2);\r\n        query.fireColumnsChangedEvent(QueryChangeAction.All);\r\n    };\r\n    ColumnsBar.prototype.areCustomExpressionsAllowed = function () {\r\n        var query = this.getQuery();\r\n        return query.isEx() && this.options.allowCustomExpressions;\r\n    };\r\n    ColumnsBar.globalCounter = 0;\r\n    return ColumnsBar;\r\n}(Widget));\r\nexport { ColumnsBar };\r\n//# sourceMappingURL=columns_bar.js.map","import { i18n } from '@easydata/core';\r\nimport { QueryChangeAction, SortDirection } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar ColumnRendererSB = /** @class */ (function () {\r\n    function ColumnRendererSB(bar, column, slot) {\r\n        this.functionMenu = null;\r\n        this.isMouseOverBlock = false;\r\n        this.keepShowingButtons = false;\r\n        this.bar = bar;\r\n        this.column = column;\r\n        this.element = slot;\r\n    }\r\n    Object.defineProperty(ColumnRendererSB.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-sb';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnRendererSB.prototype.render = function () {\r\n        this.baseAttr = this.getAttribute();\r\n        var builder = domel('div');\r\n        builder.data('id', this.column.id);\r\n        if (this.element) {\r\n            //to remove all event listeners\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderCaptionBlock());\r\n        if (this.isEditable()) {\r\n            builder\r\n                .addChildElement(this.renderSortingButton());\r\n        }\r\n        return this.element;\r\n    };\r\n    ColumnRendererSB.prototype.fireColumnChanged = function () {\r\n        this.column.fireChangedEvent();\r\n    };\r\n    ColumnRendererSB.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ColumnRendererSB.prototype.getAttribute = function () {\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeById(this.column.expr.value);\r\n    };\r\n    ColumnRendererSB.prototype.isEditable = function () {\r\n        return this.column.enabled && !this.column.isReadOnly();\r\n    };\r\n    ColumnRendererSB.prototype.renderCaptionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultCaption();\r\n        }\r\n        function getArrow(sd) {\r\n            switch (sd) {\r\n                case SortDirection.Ascending:\r\n                    return ' ↑';\r\n                case SortDirection.Descending:\r\n                    return ' ↓';\r\n                default:\r\n                    return '';\r\n            }\r\n        }\r\n        var text = this.column.caption;\r\n        if (!this.isEditable()) {\r\n            text += getArrow(this.column.sorting);\r\n        }\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (b) { return b\r\n            .title(_this.column.caption)\r\n            .text(text); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererSB.prototype.renderSortingButton = function () {\r\n        var _this = this;\r\n        var sortButtonCssClass = eqCssPrefix + \"-column-sortbutton\";\r\n        var sortButtonDirectionCssClass = sortButtonCssClass;\r\n        switch (this.column.sorting) {\r\n            case SortDirection.None:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-none\";\r\n                break;\r\n            case SortDirection.Ascending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-asc\";\r\n                break;\r\n            case SortDirection.Descending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-desc\";\r\n                break;\r\n        }\r\n        var builder = domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-sortimage-placeholder\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-img-sorting\", sortButtonDirectionCssClass)\r\n            .title(i18n.getText('ButtonSorting')); })\r\n            .on('touchstart click', function (ev) { return _this.buttonSortingClickHandler(ev, builder.toDOM()); });\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererSB.prototype.buttonSortingClickHandler = function (ev, anchor) {\r\n        var _this = this;\r\n        ev.stopPropagation();\r\n        this.keepShowingButtons = true;\r\n        var menu = this.bar.sortMenu;\r\n        menu.showMenu({\r\n            anchor: anchor,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                var strToSortDirection = function (str) {\r\n                    if (str == 'None') {\r\n                        return SortDirection.None;\r\n                    }\r\n                    else if (str == \"Ascending\") {\r\n                        return SortDirection.Ascending;\r\n                    }\r\n                    else if (str == \"Descending\") {\r\n                        return SortDirection.Descending;\r\n                    }\r\n                };\r\n                if (data.id == 'None' || data.id == \"Ascending\" || data.id == \"Descending\") {\r\n                    var query = _this.bar.getContext().getQuery();\r\n                    if (_this.column.isJustSorted() && data.id == 'None') {\r\n                        query.removeColumn(_this.column, _this.bar);\r\n                        query.fireColumnsChangedEvent(QueryChangeAction.Delete, _this.column, true);\r\n                    }\r\n                    else {\r\n                        _this.column.sorting = strToSortDirection(data.id);\r\n                        _this.column.sortIndex = query.getColumnSortIndex(_this.column);\r\n                        _this.fireColumnChanged();\r\n                    }\r\n                }\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n            }\r\n        });\r\n        return false;\r\n    };\r\n    ColumnRendererSB.prototype.getDefaultCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr);\r\n    };\r\n    ColumnRendererSB.prototype.getDefaultTitleText = function (attr) {\r\n        var format = this.bar.options.titleElementFormat || this.bar.options.attrElementFormat;\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnRendererSB.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\";\r\n    };\r\n    ColumnRendererSB.prototype.getUIS = function () {\r\n        return this.bar\r\n            .getContext().getModel()\r\n            .checkAttrProperty(this.column.expr.value, \"useInSorting\");\r\n    };\r\n    return ColumnRendererSB;\r\n}());\r\nexport { ColumnRendererSB };\r\n//# sourceMappingURL=column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, QueryChangeAction, QueryChangePart, SortDirection, ExprTag } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { ColumnRendererSB } from './renderers/sortingbar/column_renderer';\r\nvar SortingBar = /** @class */ (function (_super) {\r\n    __extends(SortingBar, _super);\r\n    function SortingBar(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            showAddRow: true,\r\n            attrElementFormat: '{entity} {attr}',\r\n            titleElementFormat: null,\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                adjustHeight: true,\r\n                itemRenderedCallback: null\r\n            },\r\n        };\r\n        _this.sortMenuList = [\r\n            { id: 'None', text: i18n.getText('CmdNotSorted') },\r\n            { id: 'Ascending', text: i18n.getText('CmdAscending') },\r\n            { id: 'Descending', text: i18n.getText('CmdDescending') }\r\n        ];\r\n        domel(_this.slot)\r\n            .addClass(_this.cssPrefix + \"-panel\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        _this.group = WidgetGroup.Query;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SortingBar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return \"eqjs-sb\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SortingBar.prototype.getWidgetType = function () {\r\n        return 'sortingBar';\r\n    };\r\n    SortingBar.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.destroyCore();\r\n        this.attachQueryObserver();\r\n    };\r\n    SortingBar.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    SortingBar.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.SortingColumns\r\n                && edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var columns = edata.changee;\r\n                    var modifyColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            _this.renderColumn(column, colEl);\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return modifyColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        modifyColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var columns = edata.changee;\r\n                    var addColumn_1 = function (column) {\r\n                        _this.addColumnElement(column);\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return addColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        addColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var columns = edata.changee;\r\n                    var deleteColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl)\r\n                            _this.columnsBlock.removeChild(colEl);\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return deleteColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        deleteColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    SortingBar.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getContext().getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    SortingBar.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    SortingBar.prototype.destroyCore = function () {\r\n        this.detachQueryObserver();\r\n        this.clear();\r\n    };\r\n    SortingBar.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    SortingBar.prototype.renderAddRowButton = function () {\r\n        var _this = this;\r\n        domel(this.addRowButton)\r\n            .addClass(eqCssPrefix + \"-addrow\", this.cssPrefix + \"-addrow\", eqCssPrefix + \"-addrow-empty\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .title(i18n.getText('CmdClickToAddColumn'))\r\n            .addChild('a', function (builder) { return builder\r\n            .attr('href', 'javascript:void(0)')\r\n            .on('click', function (e) {\r\n            e.preventDefault();\r\n            _this.showEntitiesMenu({\r\n                anchor: e.target,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var attrid = data.id;\r\n                    _this.addNewColumn(attrid);\r\n                    return false;\r\n                }\r\n            });\r\n        }); });\r\n        if (browserUtils.isMobileMode()) {\r\n            domel(this.columnsBlock)\r\n                .addChildElement(this.addRowButton);\r\n        }\r\n    };\r\n    SortingBar.prototype.showEntitiesMenu = function (menuOptions) {\r\n        this.entitiesMenu.showMenu(menuOptions);\r\n    };\r\n    SortingBar.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: false, addUIS: true });\r\n        var options = { items: entitiesList,\r\n            adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    SortingBar.prototype.createSortMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-SortMenu';\r\n        }\r\n        var items = this.sortMenuList;\r\n        var menuOptions = { \"items\": items, id: menuId };\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n        this.sortMenu = new PopupMenu(menuOptions);\r\n    };\r\n    SortingBar.prototype.render = function () {\r\n        var _this = this;\r\n        this.createEntitiesMenu();\r\n        this.createSortMenu();\r\n        this.columnsBlock =\r\n            domel('div')\r\n                .addClass(this.cssPrefix + \"-columns\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        if (this.options.showAddRow) {\r\n            this.addRowButton =\r\n                domel('div')\r\n                    .toDOM();\r\n            if (browserUtils.isMobileMode()) {\r\n                domel(this.columnsBlock)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            else {\r\n                domel(this.slot)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            this.renderAddRowButton();\r\n        }\r\n        domel(this.slot)\r\n            .addChildElement(this.columnsBlock);\r\n        var query = this.context.getQuery();\r\n        var columns = query.getColumns().concat(query.getJustSortedColumns());\r\n        columns.forEach(function (column, index) {\r\n            var slot = _this.renderColumn(column);\r\n            _this.columnsBlock.appendChild(slot);\r\n        });\r\n    };\r\n    SortingBar.prototype.addNewColumn = function (attrId) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getContext().getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInSorting) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInSorting) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn(true);\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.Ascending;\r\n            column.sortIndex = _this.getQuery().getColumnSortIndex(column);\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        if (!this.getContext().getQuery()) {\r\n            return;\r\n        }\r\n        return this.addColumn(getColumnByAttrId(attrId));\r\n    };\r\n    SortingBar.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    SortingBar.prototype.addColumn = function (column) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        column = this.checkColumn(column);\r\n        if (!column) {\r\n            return;\r\n        }\r\n        column = query.addColumn({\r\n            caption: column.caption,\r\n            attributeId: column.expr.value,\r\n            sorting: column.sorting,\r\n            sortIndex: column.sortIndex,\r\n            justsorted: true\r\n        });\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.SortingColumns,\r\n            action: QueryChangeAction.Add,\r\n            changee: column\r\n        });\r\n        return column;\r\n    };\r\n    SortingBar.prototype.checkColumn = function (col) {\r\n        var query = this.getContext().getQuery();\r\n        var columns = query.getColumns()\r\n            .concat(query.getJustSortedColumns());\r\n        var colJson = JSON.stringify(col.expr.saveToData());\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var qcolJson = JSON.stringify(columns[i].expr.saveToData());\r\n            if (qcolJson === colJson) {\r\n                return null;\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    SortingBar.prototype.renderColumn = function (column, elem) {\r\n        var renderer = new ColumnRendererSB(this, column, elem);\r\n        if (renderer) {\r\n            var columnSlot = renderer.render();\r\n            return columnSlot;\r\n        }\r\n        return null;\r\n    };\r\n    //adds one column to the bar on the specified position\r\n    SortingBar.prototype.addColumnElement = function (column) {\r\n        var newColBlock = this.renderColumn(column);\r\n        this.columnsBlock.appendChild(newColBlock);\r\n        if (this.options.columnRenderedCallback) {\r\n            this.options.columnRenderedCallback(newColBlock);\r\n        }\r\n    };\r\n    SortingBar.prototype.clear = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    return SortingBar;\r\n}(Widget));\r\nexport { SortingBar };\r\n//# sourceMappingURL=sorting_bar.js.map","import { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar TextRenderer = /** @class */ (function () {\r\n    function TextRenderer(panel, text, slot) {\r\n        this.panel = panel;\r\n        this.text = text;\r\n        this.element = slot || domel('div').toDOM();\r\n    }\r\n    Object.defineProperty(TextRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TextRenderer.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    TextRenderer.prototype.render = function () {\r\n        var _this = this;\r\n        domel(this.element)\r\n            .html('')\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('span', function (builder) { return builder\r\n            .text(_this.text)\r\n            .title(_this.text); })\r\n            .toDOM();\r\n        return this.element;\r\n    };\r\n    TextRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement\";\r\n    };\r\n    return TextRenderer;\r\n}());\r\nexport { TextRenderer };\r\n//# sourceMappingURL=text_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { equtils, QueryChangeAction } from '@easyquery/core';\r\nimport { createBrowserEvent, domel } from '@easydata/ui';\r\nimport { TextRenderer } from './text_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nexport var ConditionAction;\r\n(function (ConditionAction) {\r\n    ConditionAction[ConditionAction[\"AddCondition\"] = 0] = \"AddCondition\";\r\n    ConditionAction[ConditionAction[\"AddGroup\"] = 1] = \"AddGroup\";\r\n    ConditionAction[ConditionAction[\"Enable\"] = 2] = \"Enable\";\r\n    ConditionAction[ConditionAction[\"Delete\"] = 4] = \"Delete\";\r\n    ConditionAction[ConditionAction[\"Menu\"] = 5] = \"Menu\";\r\n    ConditionAction[ConditionAction[\"Parameterized\"] = 6] = \"Parameterized\";\r\n    ConditionAction[ConditionAction[\"InJoin\"] = 7] = \"InJoin\";\r\n})(ConditionAction || (ConditionAction = {}));\r\nvar ConditionRenderer = /** @class */ (function () {\r\n    function ConditionRenderer(panel, condition, slot) {\r\n        this.panel = panel;\r\n        this.condition = condition;\r\n        this.element = slot || domel('div').toDOM();\r\n    }\r\n    Object.defineProperty(ConditionRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ConditionRenderer.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ConditionRenderer.prototype.clear = function () {\r\n        if (this.element) {\r\n            this.element.className = '';\r\n            this.element.removeAttribute('data-id');\r\n            this.element.removeAttribute('style');\r\n            domel(this.element)\r\n                .html('');\r\n        }\r\n        //        const elClone = this.element.cloneNode(true);\r\n        //        this.element.parentNode.replaceChild(elClone, el);\r\n    };\r\n    ConditionRenderer.prototype.render = function (autoAppear) {\r\n        this.clear();\r\n        //this.preRender();\r\n        this.coreRender(autoAppear);\r\n        if (this.panel.options.onConditionRendered) {\r\n            this.panel.options.onConditionRendered(this.condition, this.element);\r\n        }\r\n        return this.element;\r\n    };\r\n    ConditionRenderer.prototype.isEditable = function () {\r\n        return this.condition.enabled && !this.condition.isReadOnly();\r\n    };\r\n    return ConditionRenderer;\r\n}());\r\nexport { ConditionRenderer };\r\nvar SimpleConditionRenderer = /** @class */ (function (_super) {\r\n    __extends(SimpleConditionRenderer, _super);\r\n    function SimpleConditionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SimpleConditionRenderer.prototype.getClassesToAdd = function () {\r\n        var result = this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-condition\";\r\n        result += this.condition.isInJoin() ? \" \" + this.cssPrefix + \"-condition-injoin\" : '';\r\n        result += this.condition.isParameterized() ? \" \" + this.cssPrefix + \"-condition-parameterized\" : '';\r\n        if (!browserUtils.isMobileMode()) {\r\n            var level = this.condition.getLevel();\r\n            if (level > 0)\r\n                result += \" \" + this.cssPrefix + \"-level-\" + level;\r\n        }\r\n        result += this.condition.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n        if (this.condition.enabled) {\r\n            result += this.condition.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n        }\r\n        return result;\r\n    };\r\n    SimpleConditionRenderer.prototype.coreRender = function (autoAppear) {\r\n        var _this = this;\r\n        var model = this.panel.getContext().getModel();\r\n        var operator = model.getOperatorById(this.condition.getOperatorId());\r\n        var arrFormat = equtils.parseOperatorFormat(operator);\r\n        var item = null;\r\n        var arrLength = arrFormat.length;\r\n        var builder = domel('div');\r\n        if (this.element && this.element.parentNode) {\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .data('id', this.condition.id)\r\n            .data('condrow', '')\r\n            .addChildElement(this.renderCheckbox())\r\n            .addChildElement(this.renderConjunction());\r\n        var mayAppear = autoAppear;\r\n        var _loop_1 = function (idx) {\r\n            item = arrFormat[idx];\r\n            if (item.type === 'operator') {\r\n                var renderer = this_1.panel.getOperatorRenderer(this_1.condition, item.text);\r\n                if (renderer) {\r\n                    builder.addChildElement(renderer.render());\r\n                }\r\n            }\r\n            else if (item.type === 'expression') {\r\n                var toAppear = mayAppear && (item.index > 0);\r\n                var exprRenderer_1 = this_1.panel.getExpressionRenderer(this_1.condition.expressions[item.index]);\r\n                if (exprRenderer_1) {\r\n                    var el = exprRenderer_1.render(toAppear);\r\n                    builder.addChildElement(el);\r\n                    setTimeout(function () {\r\n                        exprRenderer_1.adjustWidth();\r\n                    }, 100);\r\n                }\r\n                mayAppear = mayAppear && !toAppear;\r\n            }\r\n            else if (item.type === 'text') {\r\n                builder.addChildElement(new TextRenderer(this_1.panel, item.text).render());\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            _loop_1(idx);\r\n        }\r\n        if (this.panel.options.accentActiveCondition || browserUtils.isMobileMode()) {\r\n            builder.on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                _this.panel.toggleConditionPicked(_this.condition);\r\n                _this.adjustButtonsVisibility();\r\n                if (!browserUtils.isMobileMode()) {\r\n                    _this.element.dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n                }\r\n                return false;\r\n            });\r\n        }\r\n        builder\r\n            .addChildElement(this.renderButtonsBlock());\r\n        if (!browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('mouseenter', function (event) {\r\n                _this.isMouseOverBlock = true;\r\n                _this.enterButtonBlock();\r\n                event.stopPropagation();\r\n                return false;\r\n            })\r\n                .on('mouseleave', function (event) {\r\n                _this.isMouseOverBlock = false;\r\n                if (!_this.keepShowingButtons && domel(_this.buttonsBlock).isVisible()) {\r\n                    _this.leaveButtonBlock();\r\n                }\r\n                event.stopPropagation();\r\n                return false;\r\n            });\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.setConditionParameterized = function (value) {\r\n        this.condition.setParameterized(value);\r\n        this.condition.fireChangedEvent();\r\n    };\r\n    SimpleConditionRenderer.prototype.setConditionInJoin = function (value) {\r\n        this.condition.setInJoin(value);\r\n        this.condition.fireChangedEvent();\r\n    };\r\n    SimpleConditionRenderer.prototype.getConditionMenu = function () {\r\n        return this.panel.getConditionMenu();\r\n    };\r\n    SimpleConditionRenderer.prototype.renderConjunction = function () {\r\n        var parent = this.condition.getParent();\r\n        if (!parent)\r\n            return null;\r\n        var isFirstConditionInGroup = dataUtils.findItemIndexById(parent.getConditions(), this.condition.id) == 0;\r\n        if (this.panel.options.showConjunctions && !isFirstConditionInGroup) {\r\n            var linkTypeStr = equtils.linkTypeToStr(this.condition.getParent().linkType);\r\n            var conjuctionText = i18n.getText(\"Conj\" + linkTypeStr);\r\n            return domel(\"span\")\r\n                .text(conjuctionText)\r\n                .title(conjuctionText)\r\n                .addClass(this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-condition-conjuction\")\r\n                .toDOM();\r\n        }\r\n        return null;\r\n    };\r\n    SimpleConditionRenderer.prototype.renderCheckbox = function () {\r\n        var _this = this;\r\n        if (this.panel.options.showCheckboxes && !this.condition.isReadOnly()) {\r\n            return domel(\"div\")\r\n                .title(i18n.getText('CmdToggleEnable'))\r\n                .attr('tabIndex', '0')\r\n                .addClass(this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-condition-checkbox\")\r\n                .addClass(\"\" + (this.condition.enabled ? 'enabled' : ''))\r\n                .on('click', function () {\r\n                _this.condition.enabled = !_this.condition.enabled;\r\n                _this.condition.fireChangedEvent();\r\n                return false;\r\n            })\r\n                .on('keypress', function (evt) { if ([13, 32].includes(evt.keyCode)) {\r\n                evt.target.click();\r\n            } })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.isConditionActive = function () {\r\n        return this.element.classList.contains(\"active\");\r\n    };\r\n    SimpleConditionRenderer.prototype.hideButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", null);\r\n    };\r\n    SimpleConditionRenderer.prototype.showButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", \"\");\r\n    };\r\n    SimpleConditionRenderer.prototype.adjustButtonsVisibility = function () {\r\n        if (this.panel.options.alwaysShowButtonsInConditions\r\n            || (this.panel.options.accentActiveCondition && this.isConditionActive())) {\r\n            this.showButtons();\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.enterButtonBlock = function () {\r\n        this.showButtons();\r\n    };\r\n    SimpleConditionRenderer.prototype.leaveButtonBlock = function () {\r\n        if (!this.panel.options.alwaysShowButtonsInConditions\r\n            && (!this.isConditionActive() || this.panel.options.accentActiveCondition)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.conditionMenuHandler = function (action, evt) {\r\n        var _this = this;\r\n        switch (action) {\r\n            case ConditionAction.AddCondition:\r\n                if (!this.condition.isGroup())\r\n                    return;\r\n                var entMenu = this.panel.getEntitiesMenu();\r\n                if (entMenu) {\r\n                    entMenu.showMenu({\r\n                        anchor: evt.target,\r\n                        itemSelectedCallback: function (item) {\r\n                            var query = _this.panel.getQuery();\r\n                            var descr = {\r\n                                parent: _this.condition,\r\n                                attributeId: item.id\r\n                            };\r\n                            var cond = query.addSimpleCondition(descr);\r\n                            if (cond) {\r\n                                query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n                            }\r\n                            return false;\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case ConditionAction.AddGroup:\r\n                if (!this.condition.isGroup())\r\n                    return;\r\n                var query = this.panel.getQuery();\r\n                var descr = {\r\n                    parent: this.condition\r\n                };\r\n                var group = this.panel.getQuery().addConditionGroup(descr);\r\n                if (group) {\r\n                    query.fireConditionsChangedEvent(QueryChangeAction.Add, group);\r\n                }\r\n                break;\r\n            case ConditionAction.Enable:\r\n                this.condition.enabled = !this.condition.enabled;\r\n                this.condition.fireChangedEvent();\r\n                break;\r\n            case ConditionAction.Delete:\r\n                var parent_1 = this.condition.getParent();\r\n                if (!parent_1)\r\n                    return;\r\n                var conditions = parent_1.getConditions();\r\n                var idx = conditions.indexOf(this.condition);\r\n                if (idx >= 0) {\r\n                    conditions.splice(idx, 1);\r\n                    this.condition.getQuery().fireConditionsChangedEvent(QueryChangeAction.Delete, this.condition);\r\n                }\r\n                break;\r\n            case ConditionAction.Menu:\r\n                var condMenu = this.getConditionMenu();\r\n                this.keepShowingButtons = true;\r\n                condMenu.showMenu({\r\n                    anchor: evt.target,\r\n                    selectedIds: this.getConditionMenuSelectedItems(),\r\n                    itemSelectedCallback: function (item) {\r\n                        var action;\r\n                        switch (item.id) {\r\n                            case \"enable\":\r\n                                action = ConditionAction.Enable;\r\n                                break;\r\n                            case \"delete\":\r\n                                action = ConditionAction.Delete;\r\n                                break;\r\n                            case \"param\":\r\n                                action = ConditionAction.Parameterized;\r\n                                break;\r\n                            case \"inJoin\":\r\n                                action = ConditionAction.InJoin;\r\n                                break;\r\n                            case \"addCondition\":\r\n                                action = ConditionAction.AddCondition;\r\n                                break;\r\n                            case \"addGroup\":\r\n                                action = ConditionAction.AddGroup;\r\n                                break;\r\n                        }\r\n                        _this.conditionMenuHandler(action, evt);\r\n                    },\r\n                    itemFilterCallback: function (item) {\r\n                        var result = _this.condition.enabled || item.id === \"enable\" || item.id === \"delete\";\r\n                        if (item.id === \"enable\") {\r\n                            var parent_2 = _this.condition.getParent();\r\n                            result = result && parent_2 && parent_2.enabled;\r\n                        }\r\n                        else if (item.id === \"delete\") {\r\n                            result = result && ((_this.panel.options.editableParts & QPEditablePart.Removal) === QPEditablePart.Removal);\r\n                        }\r\n                        else if (item.id === \"addGroup\" || item.id === \"addCondition\") {\r\n                            result = result && ((_this.panel.options.editableParts & QPEditablePart.Addition) === QPEditablePart.Addition);\r\n                        }\r\n                        return result;\r\n                    },\r\n                    menuClosedCallback: function () {\r\n                        _this.keepShowingButtons = false;\r\n                        if (!_this.isMouseOverBlock)\r\n                            _this.leaveButtonBlock();\r\n                    }\r\n                });\r\n                break;\r\n            case ConditionAction.Parameterized:\r\n                this.condition.setParameterized(!this.condition.isParameterized());\r\n                this.condition.fireChangedEvent();\r\n                break;\r\n            case ConditionAction.InJoin:\r\n                this.condition.setInJoin(!this.condition.isInJoin());\r\n                this.condition.fireChangedEvent();\r\n                break;\r\n        }\r\n        evt.stopPropagation();\r\n        return false;\r\n    };\r\n    SimpleConditionRenderer.prototype.getConditionMenuSelectedItems = function () {\r\n        var arrSelected = [];\r\n        if (this.condition.enabled) {\r\n            arrSelected.push(\"enable\");\r\n        }\r\n        ;\r\n        if (this.condition.isParameterized()) {\r\n            arrSelected.push(\"param\");\r\n        }\r\n        ;\r\n        if (this.condition.isInJoin()) {\r\n            arrSelected.push(\"inJoin\");\r\n        }\r\n        ;\r\n        return arrSelected;\r\n    };\r\n    SimpleConditionRenderer.prototype.renderButtonsBlock = function () {\r\n        var _this = this;\r\n        var onButtonMouseEnter = function (evt) {\r\n            domel(evt.target)\r\n                .addClass(_this.cssPrefix + \"-condition-button-active\");\r\n        };\r\n        var onButtonMouseLeave = function (evt) {\r\n            domel(evt.target)\r\n                .removeClass(_this.cssPrefix + \"-condition-button-active\");\r\n        };\r\n        var builder = domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-condition-buttonsBlock\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        this.buttonsBlock = builder.toDOM();\r\n        if (this.condition.isReadOnly()) {\r\n            return this.buttonsBlock;\r\n        }\r\n        var buttonsToShow = this.getButtonsToShow();\r\n        if (buttonsToShow.indexOf(\"addCondition\") >= 0 && this.condition.enabled\r\n            && ((this.panel.options.editableParts & QPEditablePart.Addition) == QPEditablePart.Addition)) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-addCondition\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdAddCondition'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.AddCondition, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        var showAddGroupBtn = buttonsToShow.indexOf(\"addGroup\") >= 0 || buttonsToShow.indexOf(\"addPredicate\") >= 0;\r\n        if (showAddGroupBtn && this.condition.enabled\r\n            && ((this.panel.options.editableParts & QPEditablePart.Addition) == QPEditablePart.Addition)) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-addPredicate\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdAddCondGroup'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.AddGroup, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        if (this.getButtonsToShow().indexOf(\"enable\") >= 0 && this.condition.getParent() && this.condition.getParent().enabled) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-enable\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdToggleEnable'))\r\n                        .addClass(_this.condition.enabled ? 'enabled' : '')\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.Enable, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        if (this.getButtonsToShow().indexOf(\"delete\") >= 0 && this.condition.getParent()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Removal) == QPEditablePart.Removal)) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-delete\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdDelete'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.Delete, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        if (this.getButtonsToShow().indexOf(\"menu\") >= 0) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-menu\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('ButtonMenu'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.Menu, evt); });\r\n                    if (!browserUtils.isMobileMode()) {\r\n                        b\r\n                            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                            evt.target.click();\r\n                        } })\r\n                            .on('mouseenter', onButtonMouseEnter)\r\n                            .on('mouseleave', onButtonMouseLeave);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        this.adjustButtonsVisibility();\r\n        return this.buttonsBlock;\r\n    };\r\n    SimpleConditionRenderer.prototype.getButtonsToShow = function () {\r\n        return this.panel.options.buttons && this.panel.options.buttons.condition && Array.isArray(this.panel.options.buttons.condition) ? this.panel.options.buttons.condition : [\"enable\", \"delete\"];\r\n    };\r\n    return SimpleConditionRenderer;\r\n}(ConditionRenderer));\r\nexport { SimpleConditionRenderer };\r\n//# sourceMappingURL=condition_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DomElementBuilder } from '@easydata/ui';\r\nvar DomDropDownElementBuilder = /** @class */ (function (_super) {\r\n    __extends(DomDropDownElementBuilder, _super);\r\n    function DomDropDownElementBuilder(parent) {\r\n        var _this = _super.call(this, 'a', parent) || this;\r\n        _this.attr('href', 'javascript:void(0)');\r\n        _this.on('click', function (ev) {\r\n            ev.preventDefault();\r\n            _this.appear();\r\n            return false;\r\n        });\r\n        return _this;\r\n    }\r\n    DomDropDownElementBuilder.prototype.onGetMenu = function (onGetMenu) {\r\n        this._onGetMenu = onGetMenu;\r\n        return this;\r\n    };\r\n    DomDropDownElementBuilder.prototype.onItemSelected = function (onItemSelected) {\r\n        this._onItemSelected = onItemSelected;\r\n        return this;\r\n    };\r\n    DomDropDownElementBuilder.prototype.appear = function () {\r\n        var _this = this;\r\n        var menu = this._onGetMenu ? this._onGetMenu() : null;\r\n        if (menu) {\r\n            menu.showMenu({\r\n                anchor: this.element,\r\n                itemSelectedCallback: function (item) {\r\n                    if (_this._onItemSelected) {\r\n                        _this._onItemSelected(item.id);\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return DomDropDownElementBuilder;\r\n}(DomElementBuilder));\r\nexport { DomDropDownElementBuilder };\r\nexport function dropdown(parent) {\r\n    return new DomDropDownElementBuilder(parent);\r\n}\r\n//# sourceMappingURL=dropdown.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { eqconsts, equtils } from '@easyquery/core';\r\nimport { createBrowserEvent, domel } from '@easydata/ui';\r\nimport { ConditionRenderer, SimpleConditionRenderer } from './condition_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { dropdown } from '../../../utils/dropdown';\r\nvar ConditionGroupRenderer = /** @class */ (function (_super) {\r\n    __extends(ConditionGroupRenderer, _super);\r\n    function ConditionGroupRenderer(panel, condition, slot) {\r\n        var _this = _super.call(this, panel, condition, slot) || this;\r\n        _this.isRoot = !condition.getParent();\r\n        return _this;\r\n    }\r\n    ConditionGroupRenderer.prototype.getClassesToAdd = function () {\r\n        var result = this.cssPrefix + \"-group\";\r\n        if (this.isRoot) {\r\n            result += \" \" + this.cssPrefix + \"-group-root\";\r\n        }\r\n        return result;\r\n    };\r\n    ConditionGroupRenderer.prototype.coreRender = function (autoAppear) {\r\n        domel(this.element)\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderGroupRow())\r\n            .addChildElement(this.renderConditions(autoAppear))\r\n            .data('id', this.condition.id)\r\n            .data('group', '');\r\n    };\r\n    ConditionGroupRenderer.prototype.renderGroupRow = function () {\r\n        if (this.isRoot && !this.panel.options.showRootRow) {\r\n            return null;\r\n        }\r\n        else {\r\n            return new ConditionGroupRowRenderer(this.panel, this.condition).render();\r\n        }\r\n    };\r\n    ConditionGroupRenderer.prototype.renderConditions = function (autoAppear) {\r\n        var _this = this;\r\n        var builder = domel('div');\r\n        builder\r\n            .addClass(this.cssPrefix + \"-conditions\")\r\n            .addClass(\"\" + browserUtils.getMobileCssClass())\r\n            .data('conditions', '');\r\n        if (this.isRoot) {\r\n            builder.addClass(this.cssPrefix + \"-conditions-root\");\r\n        }\r\n        this.condition.getConditions().forEach(function (condition, index, array) {\r\n            var renderer = _this.panel.getConditionRenderer(condition);\r\n            if (renderer) {\r\n                builder.addChildElement(renderer.render(autoAppear && index == array.length - 1));\r\n            }\r\n        });\r\n        return builder.toDOM();\r\n    };\r\n    return ConditionGroupRenderer;\r\n}(ConditionRenderer));\r\nexport { ConditionGroupRenderer };\r\nvar ConditionGroupRowRenderer = /** @class */ (function (_super) {\r\n    __extends(ConditionGroupRowRenderer, _super);\r\n    function ConditionGroupRowRenderer(panel, condition, slot) {\r\n        var _this = _super.call(this, panel, condition, slot) || this;\r\n        _this.isRoot = !_this.condition.getParent();\r\n        return _this;\r\n    }\r\n    ConditionGroupRowRenderer.prototype.getButtonsToShow = function () {\r\n        return this.panel.options.buttons && this.panel.options.buttons.group && Array.isArray(this.panel.options.buttons.group) ? this.panel.options.buttons.group : [\"addCondition\", \"addGroup\", \"enable\", \"delete\"];\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getClassesToAdd = function () {\r\n        var result;\r\n        if (this.isRoot) {\r\n            result = this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-group \" + this.cssPrefix + \"-row-group-root\";\r\n        }\r\n        else {\r\n            result = this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-group\";\r\n            var level = this.condition.getLevel();\r\n            if (level > 0)\r\n                result += \" \" + this.cssPrefix + \"-level-\" + level;\r\n            result += this.condition.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n            if (this.condition.enabled) {\r\n                result += this.condition.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ConditionGroupRowRenderer.prototype.coreRender = function (autoAppear) {\r\n        var _this = this;\r\n        var builder = domel(this.element)\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .data('group-row', '')\r\n            .addChildElement(this.renderCheckbox())\r\n            .addChildElement(this.renderConjunction());\r\n        var level = this.condition.getLevel();\r\n        if (level > 0)\r\n            builder.addClass(this.cssPrefix + \"-level-\" + level);\r\n        this.buildGroupElements(builder, this.getGroupTitle());\r\n        if (this.panel.options.accentActiveCondition) {\r\n            builder.on('click', function (ev) {\r\n                _this.panel.toggleConditionPicked(_this.condition);\r\n                _this.adjustButtonsVisibility();\r\n                if (!browserUtils.isMobileMode()) {\r\n                    builder.toDOM().dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n                }\r\n            });\r\n        }\r\n        builder\r\n            .addChildElement(this.renderButtonsBlock());\r\n        if (!browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('mouseenter', function (event) {\r\n                _this.isMouseOverBlock = true;\r\n                _this.enterButtonBlock();\r\n                event.stopPropagation();\r\n                return false;\r\n            })\r\n                .on('mouseleave', function (event) {\r\n                _this.isMouseOverBlock = false;\r\n                if (!_this.keepShowingButtons && domel(_this.buttonsBlock).isVisible()) {\r\n                    _this.leaveButtonBlock();\r\n                }\r\n                event.stopPropagation();\r\n                return false;\r\n            });\r\n        }\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getGroupTitle = function () {\r\n        var result;\r\n        if (this.isRoot && !browserUtils.isMobileMode()) {\r\n            result = i18n.getText('RootConditionGroupTitle');\r\n            if (!result) {\r\n                //to support old text key\r\n                result = i18n.getText('RootPredicateTitle');\r\n            }\r\n        }\r\n        else {\r\n            result = i18n.getText('ConditionGroupTitle');\r\n            if (!result) {\r\n                //to support old text key\r\n                result = i18n.getText('PredicateTitle');\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ConditionGroupRowRenderer.prototype.buildGroupElements = function (builder, groupTitle) {\r\n        var _this = this;\r\n        var pos = groupTitle.indexOf('{lt}');\r\n        if (pos < 0) {\r\n            //invalid format\r\n            builder.addText(i18n.getText('ErrIncorrectGroupTitleFormat'));\r\n            builder.addClass(this.cssPrefix + \"-error\");\r\n        }\r\n        else {\r\n            if (pos > 0) {\r\n                builder.addChild('span', function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-grelement\")\r\n                        .addText(groupTitle.substring(0, pos));\r\n                });\r\n            }\r\n            var linkTypeStr = equtils.linkTypeToStr(this.condition.linkType);\r\n            var curType_1 = dataUtils.findItemById(eqconsts.predicateLinkTypeList, linkTypeStr);\r\n            if (!curType_1) {\r\n                curType_1 = eqconsts.predicateLinkTypeList[0];\r\n            }\r\n            if (this.isEditable()) {\r\n                dropdown(builder.toDOM())\r\n                    .onGetMenu(function () { return _this.getLinkTypeMenu(); })\r\n                    .onItemSelected(function (id) {\r\n                    _this.condition.linkType = equtils.strToLinkType(id);\r\n                    _this.condition.fireChangedEvent();\r\n                })\r\n                    .addText(i18n.getText(curType_1.key))\r\n                    .title(i18n.getText(curType_1.key))\r\n                    .addClass(this.cssPrefix + \"-grelement\");\r\n            }\r\n            else {\r\n                builder.addChild('span', function (b) {\r\n                    b.text(i18n.getText(curType_1.key))\r\n                        .title(i18n.getText(curType_1.key))\r\n                        .addClass(_this.cssPrefix + \"-grelement\");\r\n                });\r\n            }\r\n            builder.addChild('span', function (b) {\r\n                b.addClass(_this.cssPrefix + \"-grelement\")\r\n                    .addText(groupTitle.substring(pos + 4));\r\n            });\r\n        }\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getConditionMenu = function () {\r\n        return this.panel.getConditionGroupMenu(this.condition.getParent() == null);\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getLinkTypeMenu = function () {\r\n        return this.panel.getLinkTypeMenu();\r\n    };\r\n    ConditionGroupRowRenderer.prototype.renderConjunction = function () {\r\n        return this.isRoot ? null : _super.prototype.renderConjunction.call(this);\r\n    };\r\n    ConditionGroupRowRenderer.prototype.renderCheckbox = function () {\r\n        return this.isRoot ? null : _super.prototype.renderCheckbox.call(this);\r\n    };\r\n    ConditionGroupRowRenderer.prototype.leaveButtonBlock = function () {\r\n        if (!this.panel.options.alwaysShowButtonsInGroups\r\n            && (!this.isConditionActive() || this.panel.options.accentActiveCondition)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ConditionGroupRowRenderer.prototype.adjustButtonsVisibility = function () {\r\n        if (this.panel.options.alwaysShowButtonsInGroups\r\n            || (this.panel.options.accentActiveCondition && this.isConditionActive())) {\r\n            this.showButtons();\r\n        }\r\n    };\r\n    return ConditionGroupRowRenderer;\r\n}(SimpleConditionRenderer));\r\nexport { ConditionGroupRowRenderer };\r\n//# sourceMappingURL=condition_group_renderer.js.map","export var FacetType;\r\n(function (FacetType) {\r\n    FacetType[\"DataGrid\"] = \"DATA_GRID\";\r\n    FacetType[\"Chart\"] = \"CHART\";\r\n    FacetType[\"PivotTable\"] = \"PIVOT_TABLE\";\r\n})(FacetType || (FacetType = {}));\r\n//# sourceMappingURL=facet_type.js.map","import { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../../utils/browser_utils';\r\nvar BaseElementRenderer = /** @class */ (function () {\r\n    function BaseElementRenderer(slot) {\r\n        this.element = slot || domel('div').toDOM();\r\n    }\r\n    BaseElementRenderer.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    BaseElementRenderer.prototype.render = function (isEditMode) {\r\n        var _this = this;\r\n        if (isEditMode === void 0) { isEditMode = false; }\r\n        this.labelElement = this.renderLabelElement();\r\n        domel(this.element)\r\n            .html('')\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.labelElement);\r\n        if (this.isEditable()) {\r\n            this.renderEditor();\r\n            if (isEditMode) {\r\n                setTimeout(function () { return _this.showEditor(); }, 50);\r\n            }\r\n        }\r\n        return this.element;\r\n    };\r\n    BaseElementRenderer.prototype.isEditable = function () {\r\n        return true;\r\n    };\r\n    BaseElementRenderer.prototype.renderLabelElement = function () {\r\n        var _this = this;\r\n        var displayedText = this.getLabelText();\r\n        if (this.isEditable()) {\r\n            return domel('a')\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(displayedText)\r\n                .text(displayedText)\r\n                .on('click', function (ev) {\r\n                ev.preventDefault();\r\n                _this.showEditor();\r\n                return false;\r\n            })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            return domel('span')\r\n                .title(displayedText)\r\n                .text(displayedText)\r\n                .toDOM();\r\n        }\r\n    };\r\n    BaseElementRenderer.prototype.getClassesToAdd = function () {\r\n        return '';\r\n    };\r\n    BaseElementRenderer.prototype.getLabelText = function () {\r\n        return this.getEmptyText();\r\n    };\r\n    BaseElementRenderer.prototype.getEmptyText = function () {\r\n        return '<empty>';\r\n    };\r\n    return BaseElementRenderer;\r\n}());\r\nexport { BaseElementRenderer };\r\n//# sourceMappingURL=base_element_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ConditionPart } from '@easyquery/core';\r\nimport { BaseElementRenderer } from '../base_element_renderer';\r\nvar ExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(ExpressionRenderer, _super);\r\n    function ExpressionRenderer(panel, expression, valueEditor, slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = panel;\r\n        _this.expression = expression;\r\n        _this.valueEditor = valueEditor;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ExpressionRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ExpressionRenderer.prototype.render = function (isEditMode) {\r\n        if (isEditMode === void 0) { isEditMode = false; }\r\n        _super.prototype.render.call(this, isEditMode);\r\n        if (this.panel.options.onExpressionRendered) {\r\n            this.panel.options.onExpressionRendered(this.expression, this.element);\r\n        }\r\n        return this.element;\r\n    };\r\n    ExpressionRenderer.prototype.getContext = function () {\r\n        return this.panel.getContext();\r\n    };\r\n    ExpressionRenderer.prototype.isReadOnly = function () {\r\n        var parent = this.expression.getParent();\r\n        return !parent.enabled || parent.isReadOnly();\r\n    };\r\n    ExpressionRenderer.prototype.isEditable = function () {\r\n        return !this.isReadOnly();\r\n    };\r\n    ExpressionRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-valueelement\";\r\n    };\r\n    ExpressionRenderer.prototype.getLabelText = function () {\r\n        var result = !this.expression.isEmpty()\r\n            ? this.expression.value\r\n            : this.getEmptyText();\r\n        return result;\r\n    };\r\n    ExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextValue || i18n.getText('MsgEmptyScalarValue'); //'[enter value]';\r\n    };\r\n    ExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        this.expression.setValue(value);\r\n        if (!silent) {\r\n            this.expression.getParent().fireChangedEvent(ConditionPart.Value);\r\n        }\r\n    };\r\n    ExpressionRenderer.prototype.getValue = function () {\r\n        return this.expression.value;\r\n    };\r\n    ExpressionRenderer.prototype.validateInput = function (value) {\r\n        return { success: true, value: value };\r\n    };\r\n    ExpressionRenderer.prototype.showValidationError = function (message, target) {\r\n        this.getContext().throwError({\r\n            action: \"ui.validation\",\r\n            \"text\": message\r\n        });\r\n    };\r\n    ExpressionRenderer.prototype.isEmptyValue = function () {\r\n        var v = this.getValue();\r\n        return (typeof (v) === \"undefined\" || v === null || !v);\r\n    };\r\n    ExpressionRenderer.prototype.adjustWidth = function () {\r\n    };\r\n    return ExpressionRenderer;\r\n}(BaseElementRenderer));\r\nexport { ExpressionRenderer };\r\n//# sourceMappingURL=expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { DataKind } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ExpressionRenderer } from './expression_renderer';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar InputExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(InputExpressionRenderer, _super);\r\n    function InputExpressionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    InputExpressionRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        this.inputBuilder = domel(\"input\")\r\n            .hide()\r\n            .addClass(this.cssPrefix + \"-ve-editbox\")\r\n            .type('text')\r\n            .on('blur', function (ev) {\r\n            if (_this.inputBuilder.isVisible() && !_this.dontProcessBlur) {\r\n                var validationResult = _this.validateInput(_this.inputElement.value);\r\n                if (validationResult.success) {\r\n                    _this.setValue(_this.inputElement.value);\r\n                    _this.closeEditor();\r\n                }\r\n                else {\r\n                    _this.dontProcessBlur = true;\r\n                    _this.inputElement.focus();\r\n                    setTimeout(function () { _this.dontProcessBlur = false; }, 200);\r\n                    _this.showValidationError(validationResult.message, ev.target);\r\n                }\r\n                ev.stopPropagation();\r\n                return false;\r\n            }\r\n        })\r\n            .on('keydown', function (ev) {\r\n            if (ev.keyCode === 27) { // ESC is pressed\r\n                _this.closeEditor();\r\n                ev.stopPropagation();\r\n                return false;\r\n            }\r\n            else if (ev.keyCode === 13) { // Enter is pressed\r\n                if (_this.inputBuilder.isVisible()) {\r\n                    _this.dontProcessBlur = true;\r\n                    var validationResult = _this.validateInput(_this.inputElement.value);\r\n                    if (validationResult.success) {\r\n                        _this.setValue(_this.inputElement.value);\r\n                        _this.closeEditor();\r\n                        _this.dontProcessBlur = false;\r\n                    }\r\n                    else {\r\n                        _this.inputElement.focus();\r\n                        setTimeout(function () { _this.dontProcessBlur = false; }, 200);\r\n                    }\r\n                    ev.stopPropagation();\r\n                    return false;\r\n                }\r\n            }\r\n        });\r\n        this.inputElement = this.inputBuilder.toDOM();\r\n        domel(this.element)\r\n            .addChildElement(this.inputElement);\r\n    };\r\n    InputExpressionRenderer.prototype.showEditor = function () {\r\n        var MIN_WIDTH = 200;\r\n        if (!browserUtils.isMobileMode()) {\r\n            var left = this.element.offsetLeft;\r\n            var width = this.element.offsetWidth > MIN_WIDTH ? this.element.offsetWidth : MIN_WIDTH;\r\n            var maxWidth = this.element.parentElement.clientWidth - left - 55;\r\n            this.inputBuilder\r\n                .removeStyle('left')\r\n                .removeStyle('right');\r\n            if (maxWidth < MIN_WIDTH) {\r\n                this.inputBuilder\r\n                    .setStyle('right', '55px')\r\n                    .setStyle('width', MIN_WIDTH + \"px\");\r\n            }\r\n            else if (maxWidth < width) {\r\n                this.inputBuilder\r\n                    .setStyle('left', left + \"px\")\r\n                    .setStyle('width', maxWidth + \"px\");\r\n            }\r\n            else {\r\n                this.inputBuilder\r\n                    .setStyle('left', left + \"px\")\r\n                    .setStyle('width', width + \"px\");\r\n            }\r\n        }\r\n        domel(this.labelElement).hide();\r\n        this.inputBuilder\r\n            .value(this.getValue())\r\n            .show();\r\n        this.inputElement.focus();\r\n    };\r\n    InputExpressionRenderer.prototype.closeEditor = function () {\r\n        this.inputBuilder.hide();\r\n        domel(this.labelElement).show();\r\n        this.labelElement.focus();\r\n    };\r\n    InputExpressionRenderer.prototype.validateInput = function (inputValue) {\r\n        this.inputBuilder.removeClass(\"eqjs-invalid\");\r\n        var result = {\r\n            success: true,\r\n            value: inputValue\r\n        };\r\n        if (this.expression.kind == DataKind.List) {\r\n            this.validateListInput(inputValue, result);\r\n        }\r\n        else {\r\n            this.validateScalarInput(inputValue, result);\r\n        }\r\n        return result;\r\n    };\r\n    InputExpressionRenderer.prototype.validateListInput = function (inputValue, result) {\r\n        var inputValues = inputValue.split(/\\s*,\\s*/);\r\n        for (var _i = 0, inputValues_1 = inputValues; _i < inputValues_1.length; _i++) {\r\n            var val = inputValues_1[_i];\r\n            this.validateScalarInput(val, result);\r\n            if (!result.success) {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    InputExpressionRenderer.prototype.validateScalarInput = function (inputValue, result) {\r\n        if (dataUtils.isNumericType(this.expression.dataType)) {\r\n            var parsedVal = +inputValue;\r\n            if (isNaN(parsedVal)) {\r\n                result.success = false;\r\n                result.message = '\"' + inputValue + '\" ' + i18n.getText('ErrNotNumber');\r\n            }\r\n            if (dataUtils.isIntType(this.expression.dataType) && parsedVal != parseInt(inputValue, 10)) {\r\n                result.success = false;\r\n                result.message = '\"' + inputValue + '\" ' + i18n.getText('ErrIncorrectInteger');\r\n            }\r\n        }\r\n    };\r\n    InputExpressionRenderer.prototype.showValidationError = function (message, target) {\r\n        _super.prototype.showValidationError.call(this, message, target);\r\n        this.inputBuilder.addClass(\"eqjs-invalid\");\r\n    };\r\n    InputExpressionRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    return InputExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { InputExpressionRenderer };\r\n//# sourceMappingURL=input_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { eqconsts, DataKind, ConditionPart, } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ExpressionRenderer } from './expression_renderer';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar ListExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(ListExpressionRenderer, _super);\r\n    function ListExpressionRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.menuItemsList = [];\r\n        _this.showWhenReady = false;\r\n        return _this;\r\n    }\r\n    ListExpressionRenderer.prototype.isEditable = function () {\r\n        return !this.isReadOnly()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    ListExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        var newValue = this.adjustNewValue(value);\r\n        if (value !== this.expression.value) {\r\n            var text = this.getValueText(value);\r\n            this.expression.setContent(newValue, text);\r\n            if (!silent) {\r\n                this.expression.getParent().fireChangedEvent(ConditionPart.Value);\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    ListExpressionRenderer.prototype.getValueText = function (value) {\r\n        var result = \"\";\r\n        if (Array.isArray(value)) {\r\n            for (var _i = 0, _a = this.menuItemsList; _i < _a.length; _i++) {\r\n                var item = _a[_i];\r\n                if (value.indexOf(item.id) >= 0) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var _b = 0, _c = this.menuItemsList; _b < _c.length; _b++) {\r\n                var item = _c[_b];\r\n                if (item.id === value) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        if (result) {\r\n            result = result.substring(0, result.length - 1);\r\n        }\r\n        return result;\r\n    };\r\n    ListExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextList || i18n.getText('MsgEmptyListValue');\r\n    };\r\n    ListExpressionRenderer.prototype.getListName = function () {\r\n        return this.valueEditor.name;\r\n    };\r\n    ListExpressionRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        this.fillMenuItemsList(function () {\r\n            _this.renderMenuBlock();\r\n        });\r\n    };\r\n    ListExpressionRenderer.prototype.getLabelText = function () {\r\n        if (!this.expression.isEmpty()) {\r\n            return this.expression.getText();\r\n        }\r\n        else {\r\n            return this.getEmptyText();\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.showLoader = function () {\r\n        //NOTHING TO DO\r\n    };\r\n    ListExpressionRenderer.prototype.hideLoader = function () {\r\n        //NOTHING TO DO\r\n    };\r\n    ListExpressionRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        if (this.menu) {\r\n            this.menu.showMenu({\r\n                anchor: this.labelElement,\r\n                selectedIds: this.getValuesAsArray(),\r\n                itemSelectedCallback: function (item, selectedItems) {\r\n                    if (!_this.menu.options.multiselect) {\r\n                        _this.setValue(item.id);\r\n                    }\r\n                    else if (selectedItems) {\r\n                        var selectedIds = [];\r\n                        var selLength = selectedItems.length;\r\n                        for (var i = 0; i < selLength; i++)\r\n                            selectedIds.push(selectedItems[i].id);\r\n                        _this.setValue(selectedIds);\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this.showWhenReady = true;\r\n            this.showLoader();\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.closeEditor = function () {\r\n        this.menu.hideMenu();\r\n    };\r\n    ListExpressionRenderer.prototype.renderMenuBlock = function () {\r\n        var multiSelect = false;\r\n        if (this.expression) {\r\n            multiSelect = this.expression.kind === DataKind.List;\r\n        }\r\n        var queryPanel = this.panel;\r\n        var options = {\r\n            items: this.menuItemsList,\r\n            multiselect: multiSelect,\r\n            container: queryPanel ? queryPanel.options.menuContainer : null,\r\n            showSelected: true\r\n        };\r\n        if (queryPanel) {\r\n            dataUtils.assignDeep(options, queryPanel.options.menuOptions);\r\n        }\r\n        ;\r\n        if (queryPanel && queryPanel.options.isSubQuery) {\r\n            options.zIndex = queryPanel.options.dialogZIndex + 1000;\r\n        }\r\n        var menuId = this.element.id;\r\n        if (menuId) {\r\n            options.id = menuId + '-EditorMenu';\r\n        }\r\n        if (queryPanel) {\r\n            options.domWriteItemsId = queryPanel.options.domWriteItemsId;\r\n        }\r\n        ;\r\n        options.buttons = {\r\n            submit: i18n.getText('ButtonApply'),\r\n            cancel: i18n.getText('ButtonCancel')\r\n        };\r\n        this.menu = new PopupMenu(options);\r\n    };\r\n    ListExpressionRenderer.prototype.getValuesAsArray = function () {\r\n        if (this.expression.kind !== DataKind.List) {\r\n            return [this.expression.value];\r\n        }\r\n        else {\r\n            //splits value by ',' \r\n            var res = this.expression.value.match(/\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\"|[^,]+/g);\r\n            return res\r\n                ? res.map(function (a) {\r\n                    if (a.charAt(0) == '\"' && a.charAt(a.length - 1) == '\"') {\r\n                        a = a.substring(1, a.length - 1);\r\n                        return a.replace(/\\\"/g, '\"');\r\n                    }\r\n                    else {\r\n                        return a;\r\n                    }\r\n                })\r\n                : [];\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.adjustNewValue = function (newValue) {\r\n        if (Array.isArray(newValue)) {\r\n            return newValue.map(function (a) {\r\n                if (a.indexOf(',') >= 0) {\r\n                    a = a.replace(/\"/g, '\\\"');\r\n                    return '\"' + a + '\"';\r\n                }\r\n                else {\r\n                    return a;\r\n                }\r\n            }).join(',');\r\n        }\r\n        else {\r\n            return newValue;\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        this.menuItemsList = this.valueEditor.values;\r\n        if (onComplete) {\r\n            onComplete();\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.takeDefaultValue = function () {\r\n        if (!this.menuItemsList)\r\n            return;\r\n        var itemLen = this.menuItemsList.length;\r\n        for (var i = 0; i < itemLen; i++) {\r\n            var item = this.menuItemsList[i];\r\n            if (item.isDefault) {\r\n                this.setValue(item.id, true);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    return ListExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { ListExpressionRenderer };\r\nvar CustomListExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(CustomListExpressionRenderer, _super);\r\n    function CustomListExpressionRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.isLoading = false;\r\n        _this.onClickTemp = null;\r\n        return _this;\r\n    }\r\n    CustomListExpressionRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        if (this.isLoading)\r\n            return;\r\n        this.isLoading = true;\r\n        this.fillMenuItemsList(function () {\r\n            _this.isLoading = false;\r\n            if (_this.isEmptyValue()) {\r\n                _this.takeDefaultValue();\r\n            }\r\n            if (!_this.expression.isEmpty() && _this.expression._isDefaultValue) {\r\n                var text = _this.getValueText(_this.expression.value);\r\n                _this.expression.setContent(_this.expression.value, text);\r\n                _this.expression.getParent().fireChangedEvent();\r\n            }\r\n            _this.renderMenuBlock();\r\n            if (_this.showWhenReady) {\r\n                _this.showWhenReady = false;\r\n                _this.hideLoader();\r\n                _this.showEditor();\r\n            }\r\n        });\r\n    };\r\n    CustomListExpressionRenderer.prototype.showLoader = function () {\r\n        this.labelElement.style.display = 'none';\r\n        if (!this.loaderElement) {\r\n            this.loaderElement = domel('div', this.element)\r\n                .addClass(this.cssPrefix + \"-ve-loader\")\r\n                .toDOM();\r\n        }\r\n        this.loaderElement.style.display = 'block';\r\n    };\r\n    CustomListExpressionRenderer.prototype.hideLoader = function () {\r\n        this.loaderElement.style.display = 'none';\r\n        this.labelElement.removeAttribute('style');\r\n    };\r\n    CustomListExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        var _this = this;\r\n        var listName = this.getListName();\r\n        var listRequestHandler = this.panel.getContext().getListRequestHandler();\r\n        if (eqconsts.constLists[listName]) {\r\n            this.menuItemsList = eqconsts.constLists[listName];\r\n            if (onComplete) {\r\n                onComplete();\r\n            }\r\n        }\r\n        else if (listRequestHandler) {\r\n            listRequestHandler({\r\n                listName: listName,\r\n                editorId: this.valueEditor.id,\r\n                editorParams: this.valueEditor.extraParams,\r\n                value: this.getValue()\r\n            }, function (list) {\r\n                _this.menuItemsList = list;\r\n                if (onComplete) {\r\n                    onComplete();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return CustomListExpressionRenderer;\r\n}(ListExpressionRenderer));\r\nexport { CustomListExpressionRenderer };\r\nvar SqlListExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(SqlListExpressionRenderer, _super);\r\n    function SqlListExpressionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SqlListExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        var _this = this;\r\n        var context = this.panel.getContext();\r\n        var editor = this.valueEditor;\r\n        var listRequestHandler = context.getListRequestHandler();\r\n        if (listRequestHandler) {\r\n            var requestData = {\r\n                listName: \"SQL\",\r\n                editorId: this.valueEditor.id,\r\n                editorParams: this.valueEditor.extraParams,\r\n                value: this.getValue()\r\n            };\r\n            //requestData.sql = editor.sql;\r\n            listRequestHandler(requestData, function (list) {\r\n                _this.menuItemsList = list;\r\n                if (onComplete) {\r\n                    onComplete();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return SqlListExpressionRenderer;\r\n}(CustomListExpressionRenderer));\r\nexport { SqlListExpressionRenderer };\r\n//# sourceMappingURL=list_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ConditionPart, } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ListExpressionRenderer } from './list_expression_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar AttributeExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(AttributeExpressionRenderer, _super);\r\n    function AttributeExpressionRenderer(panel, expression, entitiesMenu, slot) {\r\n        var _this = _super.call(this, panel, expression, null, slot) || this;\r\n        _this.menu = entitiesMenu;\r\n        return _this;\r\n    }\r\n    AttributeExpressionRenderer.prototype.renderEditor = function () {\r\n        //create menu\r\n    };\r\n    AttributeExpressionRenderer.prototype.getLabelText = function () {\r\n        var model = this.panel.getContext().getModel();\r\n        var attrId = this.expression.value;\r\n        var attrObj = attrId ? model.getAttributeById(attrId) : null;\r\n        var attrFormat = this.panel.options.attrElementFormat;\r\n        return attrObj ? model.getAttributeText(attrObj, attrFormat) : this.getEmptyText();\r\n    };\r\n    AttributeExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        silent = silent && value !== this.expression.value;\r\n        var result = _super.prototype.setValue.call(this, value, true);\r\n        if (!silent) {\r\n            this.expression.getParent().fireChangedEvent(ConditionPart.EntityAttr | ConditionPart.Operator);\r\n        }\r\n        return result;\r\n    };\r\n    AttributeExpressionRenderer.prototype.isEditable = function () {\r\n        return !this.isReadOnly()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Attribute) === QPEditablePart.Attribute);\r\n    };\r\n    AttributeExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextAttribute || i18n.getText('MsgEmptyAttrValue');\r\n    };\r\n    AttributeExpressionRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-attrelement\";\r\n    };\r\n    AttributeExpressionRenderer.prototype.adjustWidth = function () {\r\n        if (browserUtils.isMobileMode()) {\r\n            return;\r\n        }\r\n        var elWidth = this.element.clientWidth;\r\n        var parWidth = this.element.parentElement.clientWidth;\r\n        if (elWidth > parWidth / 2) {\r\n            domel(this.element)\r\n                .addClass(this.cssPrefix + \"-attrelement-wide\");\r\n        }\r\n    };\r\n    return AttributeExpressionRenderer;\r\n}(ListExpressionRenderer));\r\nexport { AttributeExpressionRenderer };\r\n//# sourceMappingURL=attribute_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { BaseElementRenderer } from './base_element_renderer';\r\nvar DropDownRenderer = /** @class */ (function (_super) {\r\n    __extends(DropDownRenderer, _super);\r\n    function DropDownRenderer(slot) {\r\n        return _super.call(this, slot) || this;\r\n    }\r\n    DropDownRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        var menu = this.getMenu();\r\n        if (menu) {\r\n            menu.showMenu({\r\n                anchor: this.labelElement,\r\n                itemSelectedCallback: function (item) {\r\n                    _this.itemSelected(item.id);\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    DropDownRenderer.prototype.closeEditor = function () {\r\n        var menu = this.getMenu();\r\n        if (menu)\r\n            menu.hideMenu();\r\n    };\r\n    return DropDownRenderer;\r\n}(BaseElementRenderer));\r\nexport { DropDownRenderer };\r\n//# sourceMappingURL=dropdown_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { QueryChangeAction } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { DropDownRenderer } from '../dropdown_renderer';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar AddRowRenderer = /** @class */ (function (_super) {\r\n    __extends(AddRowRenderer, _super);\r\n    function AddRowRenderer(panel, entitiesMenu, slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = panel;\r\n        _this.menu = entitiesMenu;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AddRowRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AddRowRenderer.prototype.getLabelText = function () {\r\n        return i18n.getText('CmdClickToAddCondition');\r\n    };\r\n    AddRowRenderer.prototype.getClassesToAdd = function () {\r\n        return eqCssPrefix + \"-addrow \" + this.cssPrefix + \"-addrow\";\r\n    };\r\n    AddRowRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Addition) === QPEditablePart.Addition);\r\n    };\r\n    AddRowRenderer.prototype.renderLabelElement = function () {\r\n        var _this = this;\r\n        var displayedText = this.getLabelText();\r\n        if (this.isEditable()) {\r\n            this.labelElement = domel('a')\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(displayedText)\r\n                .text(displayedText)\r\n                .on('click', function (ev) {\r\n                ev.preventDefault();\r\n                _this.showEditor();\r\n                return false;\r\n            })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            this.labelElement = domel('div')\r\n                .toDOM();\r\n        }\r\n        return this.labelElement;\r\n    };\r\n    AddRowRenderer.prototype.renderEditor = function () {\r\n        // do nothing - the menu is alredy created\r\n    };\r\n    AddRowRenderer.prototype.itemSelected = function (id) {\r\n        var query = this.panel.getQuery();\r\n        var descr = {\r\n            parent: query.getRootCondition(),\r\n            attributeId: id\r\n        };\r\n        var cond = query.addSimpleCondition(descr);\r\n        if (cond) {\r\n            query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n        }\r\n    };\r\n    AddRowRenderer.prototype.getMenu = function () {\r\n        return this.menu;\r\n    };\r\n    return AddRowRenderer;\r\n}(DropDownRenderer));\r\nexport { AddRowRenderer };\r\n//# sourceMappingURL=addrow_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { DataKind, ConditionPart } from '@easyquery/core';\r\nimport { DropDownRenderer } from '../dropdown_renderer';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar OperatorRenderer = /** @class */ (function (_super) {\r\n    __extends(OperatorRenderer, _super);\r\n    function OperatorRenderer(panel, condition, text, slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = panel;\r\n        _this.condition = condition;\r\n        _this.displayedText = text;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(OperatorRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    OperatorRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        //create menu\r\n        var model = this.panel.getContext().getModel();\r\n        var query = this.panel.getQuery();\r\n        var items = [];\r\n        var isRelatedToSubQuery = function (operator) {\r\n            return operator.defaultOperand.kind == DataKind.Query;\r\n        };\r\n        var attrId = (this.condition && this.condition.expressions && this.condition.expressions[0]) ? this.condition.expressions[0].value : null;\r\n        var attr = attrId ? model.getAttributeById(this.condition.expressions[0].value) : null;\r\n        if (attr && attr.operators) {\r\n            attr.operators.forEach(function (operId) {\r\n                var operator = model.getOperatorById(operId);\r\n                var related = isRelatedToSubQuery(operator);\r\n                if (!query.isEx() && related) {\r\n                    return;\r\n                }\r\n                if (operator && !(_this.panel.options.isSubQuery && related)) {\r\n                    items.push({\r\n                        id: operId,\r\n                        text: i18n.getText('Operators', operId, 'caption') || operator.caption\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        var options = {\r\n            items: items,\r\n            adjustHeight: this.panel.options.adjustEntitiesMenuHeight,\r\n            id: dataUtils.generateId('opmn'),\r\n            domWriteItemsId: this.panel.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.panel.options.menuOptions);\r\n        this.menu = new PopupMenu(options);\r\n    };\r\n    OperatorRenderer.prototype.getLabelText = function () {\r\n        return this.displayedText;\r\n    };\r\n    OperatorRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextOperator || i18n.getText('MsgEmptyOperator');\r\n    };\r\n    OperatorRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-operelement\";\r\n    };\r\n    OperatorRenderer.prototype.isEditable = function () {\r\n        return this.condition.enabled && !this.condition.isReadOnly()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Operator) === QPEditablePart.Operator);\r\n    };\r\n    OperatorRenderer.prototype.itemSelected = function (id) {\r\n        this.condition.setOperatorId(id);\r\n        this.condition.fireChangedEvent(ConditionPart.Operator);\r\n    };\r\n    OperatorRenderer.prototype.getMenu = function () {\r\n        return this.menu;\r\n    };\r\n    return OperatorRenderer;\r\n}(DropDownRenderer));\r\nexport { OperatorRenderer };\r\n//# sourceMappingURL=operator_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, DataType, utils as dataUtils } from '@easydata/core';\r\nimport { DefaultDateTimePicker } from '@easydata/ui';\r\nimport { ExpressionRenderer } from './expression_renderer';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar DateTimeExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(DateTimeExpressionRenderer, _super);\r\n    function DateTimeExpressionRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.dtp = null;\r\n        _this.internalDateFormat = 'yyyy-MM-dd';\r\n        _this.internalTimeFormat = 'HH:mm';\r\n        return _this;\r\n    }\r\n    DateTimeExpressionRenderer.prototype.renderEditor = function () {\r\n    };\r\n    DateTimeExpressionRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        if (this.dtp)\r\n            return;\r\n        var pickerOptions = {\r\n            yearRange: this.panel.options.yearRange,\r\n            showCalendar: this.expression.dataType !== DataType.Time,\r\n            showTimePicker: this.expression.dataType !== DataType.Date,\r\n            oneClickDateSelection: this.panel.options.oneClickDateSelection,\r\n            showDateTimeInput: this.panel.options.showDateTimeInput,\r\n            onApply: function (dateTime) {\r\n                var value = _this.convertToInternalFormat(dateTime);\r\n                _this.setValue(value);\r\n                _this.dtp = null;\r\n                setTimeout(function () { return _this.labelElement.focus(); }, 100);\r\n            },\r\n            onCancel: function () {\r\n                _this.labelElement.innerText = _this.getLabelText();\r\n                _this.dtp = null;\r\n                setTimeout(function () { return _this.labelElement.focus(); }, 100);\r\n            },\r\n            onDateTimeChanged: function (dateTime) {\r\n                var value = i18n.dateTimeToStr(dateTime, _this.expression.dataType);\r\n                _this.labelElement.innerText = value;\r\n            }\r\n        };\r\n        this.dtp = this.panel.options.dateTimePickerResolver\r\n            ? this.panel.options.dateTimePickerResolver(pickerOptions)\r\n            : new DefaultDateTimePicker(pickerOptions);\r\n        var model = this.expression.getModel();\r\n        var value = this.expression.value;\r\n        var dateTime = new Date();\r\n        if (this.expression.dataType != DataType.Time && model.isDateMacro(value)) {\r\n            dateTime = model.getDateMacroValue(value);\r\n        }\r\n        else if (this.expression.dataType == DataType.Time && model.isTimeMacro(value)) {\r\n            dateTime = model.getTimeMacroValue(value);\r\n        }\r\n        else {\r\n            dateTime = this.convertFromInternalFormat(value);\r\n        }\r\n        this.dtp.setDateTime(dateTime);\r\n        this.dtp.show(this.element);\r\n    };\r\n    DateTimeExpressionRenderer.prototype.closeEditor = function () {\r\n        this.dtp.cancel();\r\n        this.dtp = null;\r\n    };\r\n    DateTimeExpressionRenderer.prototype.getLabelText = function () {\r\n        if (!this.expression.value)\r\n            return this.getEmptyText();\r\n        var defValue = '${{Today}}';\r\n        var value = this.expression.value;\r\n        var model = this.expression.getModel();\r\n        if (model) {\r\n            if (model.isDateMacro(value) || model.isTimeMacro(value)) {\r\n                var macroText = value.substring(3, value.length - 2);\r\n                var res = i18n.getText(macroText);\r\n                return res ? res : defValue;\r\n            }\r\n        }\r\n        var result = i18n.dateTimeToStr(this.convertFromInternalFormat(value), this.expression.dataType);\r\n        return result;\r\n    };\r\n    DateTimeExpressionRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    DateTimeExpressionRenderer.prototype.convertFromInternalFormat = function (dateTime) {\r\n        return dataUtils.strToDateTime(dateTime, this.internalDateFormat + ' ' + this.internalTimeFormat);\r\n    };\r\n    DateTimeExpressionRenderer.prototype.convertToInternalFormat = function (dateTime) {\r\n        return dataUtils.dateTimeToStr(dateTime, this.internalDateFormat + ' ' + this.internalTimeFormat);\r\n    };\r\n    return DateTimeExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { DateTimeExpressionRenderer };\r\n//# sourceMappingURL=datetime_expression_render.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { SortDirection, Expression, DataKind, ExprTag, Query, QueryChangeAction, ConditionPart } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ExpressionRenderer } from \"./expression_renderer\";\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { QueryPanel } from '../../query_panel';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar SubQueryExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(SubQueryExpressionRenderer, _super);\r\n    function SubQueryExpressionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SubQueryExpressionRenderer.prototype.renderEditor = function () {\r\n        this.dialogBlockBody = domel('div')\r\n            .addClass(\"kfrm-form\")\r\n            //.setStyle('height', '100%')\r\n            .toDOM();\r\n        this.createEntitiesMenu();\r\n        this.renderColumnBlock();\r\n        this.renderQueryPanelBlock();\r\n    };\r\n    SubQueryExpressionRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    SubQueryExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        if (value instanceof Query) {\r\n            this.expression.subQuery = value;\r\n            if (!silent) {\r\n                this.expression.getParent().fireChangedEvent(ConditionPart.Value);\r\n            }\r\n        }\r\n    };\r\n    SubQueryExpressionRenderer.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        var exprType = this.expression.dataType;\r\n        this.colEntitiesList = model.getEntitiesTreeWithFilter(function (ent, attr) {\r\n            if (attr) {\r\n                return attr.useInConditions && attr.dataType === exprType;\r\n            }\r\n            else {\r\n                //if it's entity\r\n                return ent.attributes && ent.useInConditions;\r\n            }\r\n        });\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.element.getAttribute('data-id');\r\n        if (menuId) {\r\n            menuId += '-SubColumnMenu';\r\n        }\r\n        var options = {\r\n            items: this.colEntitiesList,\r\n            adjustHeight: this.panel.options.adjustEntitiesMenuHeight,\r\n            id: menuId,\r\n            zIndex: this.panel.options.dialogZIndex + 1000,\r\n            isSubQuery: true,\r\n            domWriteItemsId: this.panel.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.panel.options.menuOptions);\r\n        this.colEntitiesMenu = new PopupMenu(options);\r\n    };\r\n    SubQueryExpressionRenderer.prototype.renderColumnBlock = function () {\r\n        var _this = this;\r\n        this.columnBlock = domel('div', this.dialogBlockBody)\r\n            .addClass(\"kfrm-field\")\r\n            .addChild('label', function (b) { return b\r\n            .addText(i18n.getText('SubQueryColumnTitle')); })\r\n            .addChild('a', function (b) { return _this.columnElement = b\r\n            .attr('href', 'javascript:void(0)')\r\n            .on('click', function (e) {\r\n            _this.colEntitiesMenu.showMenu({\r\n                anchor: _this.columnElement,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var attrId = data.id;\r\n                    _this.setResultAttributeId(attrId);\r\n                    return false;\r\n                }\r\n            });\r\n        })\r\n            .toDOM(); })\r\n            .toDOM();\r\n    };\r\n    SubQueryExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextValue || i18n.getText('MsgSubQueryValue');\r\n    };\r\n    SubQueryExpressionRenderer.prototype.renderQueryPanelBlock = function () {\r\n        var parentEl = domel('div', this.dialogBlockBody)\r\n            .addClass(\"kfrm-field\")\r\n            .addChild('label', function (b) { return b\r\n            .addText(i18n.getText('SubQueryQueryPanelCaption')); })\r\n            .toDOM();\r\n        this.queryPanelBlock =\r\n            domel('div', parentEl)\r\n                .toDOM();\r\n        var qpId = this.element.getAttribute('data-id');\r\n        if (qpId) {\r\n            this.queryPanelBlock.id = qpId + '-SubQueryPanel';\r\n        }\r\n    };\r\n    SubQueryExpressionRenderer.prototype.setResultAttributeId = function (attrId) {\r\n        var attrObj = this.getContext().getModel().getAttributeById(attrId);\r\n        if (attrObj) {\r\n            var subQuery = this.getSubQuery();\r\n            var cols = subQuery.getColumns();\r\n            var column = void 0;\r\n            if (cols.length > 0) {\r\n                column = cols[0];\r\n                column.expr.setValue(attrId);\r\n                column.expr.dataType = attrObj.dataType;\r\n                column.fireChangedEvent();\r\n            }\r\n            else {\r\n                column = subQuery.createColumn();\r\n                column.sorting = SortDirection.None;\r\n                column.sortIndex = -1;\r\n                var expr = new Expression(column);\r\n                expr.setValue(attrId);\r\n                expr.tag = ExprTag.EntityAttribute;\r\n                expr.kind = DataKind.Attribute;\r\n                expr.dataType = attrObj.dataType;\r\n                column.expr = expr;\r\n                cols.push(column);\r\n                subQuery.fireColumnsChangedEvent(QueryChangeAction.Add, column);\r\n            }\r\n            this.columnElement.innerText = this.getAttributeText(attrObj);\r\n        }\r\n    };\r\n    SubQueryExpressionRenderer.prototype.getSubQuery = function () {\r\n        return this.queryPanel.getQuery();\r\n    };\r\n    SubQueryExpressionRenderer.prototype.getAttributeText = function (attribute) {\r\n        if (!attribute)\r\n            return i18n.getText('SubQueryEmptyColumn');\r\n        var attrText = i18n.getText('Attributes', attribute.id);\r\n        if (!attrText)\r\n            attrText = attribute.caption;\r\n        var format = this.panel.options.attrElementFormat;\r\n        if (!format)\r\n            return attrText;\r\n        var result = format.replace(new RegExp(\"{attr}\", 'g'), attrText);\r\n        var entityPath = this.getContext()\r\n            .getModel()\r\n            .getFullEntityPathByAttr(attribute.id, '.');\r\n        return result.replace(new RegExp(\"{entity}\", 'g'), entityPath);\r\n    };\r\n    SubQueryExpressionRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        var parentQuery = this.panel.getQuery();\r\n        var parentPanel = this.panel;\r\n        var context = this.getContext();\r\n        this.queryPanelBlock.innerHTML = \"\";\r\n        var subQuery = context.createQuery();\r\n        if (this.expression.subQuery) {\r\n            subQuery.loadFromData(this.expression.subQuery.toJSONData());\r\n        }\r\n        var subOptions = dataUtils.assign({}, parentPanel.options);\r\n        subOptions.isSubQuery = true;\r\n        subOptions.showAddRow = true;\r\n        subOptions.menuContainer = document.body;\r\n        subOptions.menuOptions.isSubQuery = true;\r\n        subOptions.entitiesListFilter = function (listItems, listOptions) {\r\n            if (parentPanel.options.entitiesListFilter) {\r\n                var subQueryPanelListOptions = listOptions || {};\r\n                subQueryPanelListOptions.isSubQuery = true;\r\n                parentPanel.options.entitiesListFilter(listItems, subQueryPanelListOptions);\r\n            }\r\n        };\r\n        this.queryPanel = new QueryPanel(this.queryPanelBlock, subQuery);\r\n        this.queryPanel.init(this.panel.getContext(), subOptions);\r\n        var attrId = null;\r\n        var cols = subQuery.getColumns();\r\n        ;\r\n        if (cols.length == 0) {\r\n            var condition = this.expression.getParent();\r\n            if (condition.expressions.length > 0) {\r\n                var attrExpr = condition.expressions[0];\r\n                attrId = (attrExpr.tag == ExprTag.EntityAttribute\r\n                    || attrExpr.kind == DataKind.Attribute) ? attrExpr.value : null;\r\n            }\r\n        }\r\n        else {\r\n            attrId = cols[0].expr.value;\r\n        }\r\n        if (attrId) {\r\n            this.setResultAttributeId(attrId);\r\n        }\r\n        else {\r\n            this.columnElement.innerText = i18n.getText(\"SubQueryEmptyColumn\");\r\n        }\r\n        this.queryPanel.refresh();\r\n        var rootCondEl = this.queryPanelBlock.querySelector('.eqjs-qp-conditions-root');\r\n        if (rootCondEl) {\r\n            rootCondEl.style.minHeight = '100px';\r\n        }\r\n        var dialogService = this.panel\r\n            .getContext()\r\n            .getServices()\r\n            .getDialogService();\r\n        dialogService.open({\r\n            title: i18n.getText('SubQueryDialogTitle'),\r\n            body: this.dialogBlockBody,\r\n            width: this.panel.options.subQueryDialogWidth,\r\n            //height: this.panel.options.subQueryDialogHeight,\r\n            closable: true,\r\n            cancelable: true,\r\n            onSubmit: function () {\r\n                var value = _this.queryPanel.getQuery();\r\n                // validate subquery\r\n                if (value.tryValidate({ checkExpressions: true })) {\r\n                    _this.setValue(value);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    SubQueryExpressionRenderer.prototype.closeEditor = function () {\r\n    };\r\n    return SubQueryExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { SubQueryExpressionRenderer };\r\n//# sourceMappingURL=subquery_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { ExprTag } from \"@easyquery/core\";\r\nimport { CustomListExpressionRenderer } from \"./list_expression_renderer\";\r\nvar BindToParentColumnExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(BindToParentColumnExpressionRenderer, _super);\r\n    function BindToParentColumnExpressionRenderer(panel, expression, editor, slot) {\r\n        var _this = _super.call(this, panel, expression, editor, slot) || this;\r\n        _this.expression.tag = ExprTag.ParentColumn;\r\n        return _this;\r\n    }\r\n    BindToParentColumnExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        var query = this.panel.getQuery().getParentQuery();\r\n        var parent = this.expression.getParent();\r\n        var attrDataType = parent.expressions[0].dataType;\r\n        this.menuItemsList = query\r\n            .getColumns()\r\n            .filter(function (col) { return col.expr.dataType == attrDataType; })\r\n            .map(function (col) {\r\n            return { id: col.id, text: col.caption };\r\n        });\r\n        if (onComplete) {\r\n            onComplete();\r\n        }\r\n    };\r\n    return BindToParentColumnExpressionRenderer;\r\n}(CustomListExpressionRenderer));\r\nexport { BindToParentColumnExpressionRenderer };\r\n//# sourceMappingURL=bind_to_parent_column_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, eqconsts, CondTag, EqValueEditor, EqEditorTag, DataKind, QueryChangePart, QueryChangeAction, ConditionPart } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { eqDragManager, DropEffect } from '@easydata/ui';\r\nimport { QPEditablePart } from '../types/qp_editable_part';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { SimpleConditionRenderer } from './renderers/querypanel/condition_renderer';\r\nimport { ConditionGroupRenderer } from './renderers/querypanel/condition_group_renderer';\r\nimport { InputExpressionRenderer } from './renderers/querypanel/input_expression_renderer';\r\nimport { AttributeExpressionRenderer } from './renderers/querypanel/attribute_expression_renderer';\r\nimport { AddRowRenderer } from './renderers/querypanel/addrow_renderer';\r\nimport { ListExpressionRenderer, SqlListExpressionRenderer, CustomListExpressionRenderer } from './renderers/querypanel/list_expression_renderer';\r\nimport { OperatorRenderer } from './renderers/querypanel/operator_renderer';\r\nimport { DateTimeExpressionRenderer } from './renderers/querypanel/datetime_expression_render';\r\nimport { SubQueryExpressionRenderer } from './renderers/querypanel/subquery_expression_renderer';\r\nimport { eqCssPrefix, eqCssMobile, safeFocus } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { BindToParentColumnExpressionRenderer } from './renderers/querypanel/bind_to_parent_column_expression_renderer';\r\n/**\r\n * The query panel wiget, implemented without JQuery.\r\n */\r\nvar QueryPanel = /** @class */ (function (_super) {\r\n    __extends(QueryPanel, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function QueryPanel(slot, customQuery) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            editableParts: QPEditablePart.All,\r\n            isSubQuery: false,\r\n            activeCondition: null,\r\n            entitiesPopupHandler: null,\r\n            entitiesListFilter: null,\r\n            menuContainer: document.body,\r\n            showRootRow: true,\r\n            showAddRow: true,\r\n            showCheckboxes: false,\r\n            allowParameterization: false,\r\n            allowInJoinConditions: false,\r\n            showPoweredBy: false,\r\n            buttons: {\r\n                condition: null,\r\n                group: null\r\n            },\r\n            alwaysShowButtonsInGroups: false,\r\n            alwaysShowButtonsInConditions: false,\r\n            showConjunctions: true,\r\n            accentActiveCondition: true,\r\n            activateRootOnStart: true,\r\n            yearRange: 'c-10:c+10',\r\n            oneClickDateSelection: true,\r\n            showDateTimeInput: false,\r\n            attrElementFormat: '{entity} {attr}',\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                itemRenderedCallback: null\r\n            },\r\n            allowDragDrop: true,\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            subQueryDialogWidth: 600,\r\n            subQueryDialogHeight: 300,\r\n            dialogZIndex: 100000,\r\n            numberListSeparators: [',', ';'],\r\n            autoEditNewCondition: false,\r\n            onConditionRendered: null,\r\n            onGetConditionRenderer: null,\r\n            onGetExpressionRenderer: null,\r\n            onGetOperatorRenderer: null,\r\n            onOperatorRendered: null,\r\n            onGetAddRowRenderer: null,\r\n            defaultQuery: null\r\n        };\r\n        _this.customQuery = null;\r\n        _this.landingSlot = domel('div')\r\n            .addClass(_this.cssPrefix + \"-cond-landing-slot\")\r\n            .addChildElement(domel('div')\r\n            .toDOM())\r\n            .toDOM();\r\n        if (!_this.slot.classList.contains(_this.cssPrefix + \"-panel\")) {\r\n            _this.slot.classList.add(_this.cssPrefix + \"-panel\");\r\n        }\r\n        _this.group = WidgetGroup.Query;\r\n        if (customQuery) {\r\n            _this.customQuery = customQuery;\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(QueryPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    QueryPanel.prototype.getWidgetType = function () {\r\n        return 'queryPanel';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    QueryPanel.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        //detach previously defined query observer (if any)\r\n        this.detachQueryObserver();\r\n        this.attachQueryObserver();\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        if (this.options.allowDragDrop) {\r\n            var model_1 = this.getContext().getModel();\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"entityAttr\"],\r\n                onDragEnter: function (container, ev) {\r\n                    _this.slot.classList.add(eqCssPrefix + \"-drophover\");\r\n                    ev.dragImage.classList.add('eqjs-sortable-helper');\r\n                    _this.showLandingSlot();\r\n                    var attrId = ev.data.attrId;\r\n                    if (!model_1.checkAttrProperty(attrId, \"useInConditions\")) {\r\n                        ev.dropEffect = DropEffect.Forbid;\r\n                    }\r\n                },\r\n                onDragOver: function (container, ev) {\r\n                },\r\n                onDragLeave: function (container, ev) {\r\n                    ev.dragImage.classList.remove('eqjs-sortable-helper');\r\n                    ev.dragImage.style.removeProperty('width');\r\n                    _this.slot.classList.remove(eqCssPrefix + \"-drophover\");\r\n                    _this.hideLangindSlot();\r\n                },\r\n                onDrop: function (container, ev) {\r\n                    var query = _this.getQuery();\r\n                    var descr = {\r\n                        parent: query.getRootCondition(),\r\n                        attributeId: ev.data.attrId\r\n                    };\r\n                    var cond = query.addSimpleCondition(descr);\r\n                    if (cond) {\r\n                        query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    QueryPanel.prototype.destroyCore = function () {\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    QueryPanel.prototype.getEntitiesMenu = function () {\r\n        return this.entitiesMenu;\r\n    };\r\n    QueryPanel.prototype.getConditionMenu = function () {\r\n        return this.conditionMenu;\r\n    };\r\n    QueryPanel.prototype.getLinkTypeMenu = function () {\r\n        return this.linkTypeMenu;\r\n    };\r\n    QueryPanel.prototype.getConditionGroupMenu = function (isRoot) {\r\n        if (isRoot === void 0) { isRoot = false; }\r\n        return isRoot ? this.rootGroupMenu : this.groupMenu;\r\n    };\r\n    QueryPanel.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to conditions\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Conditions && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            var focusedBefore = document.activeElement;\r\n            var isFocusInside = _this.slot.contains(focusedBefore) || focusedBefore == document.body;\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var conds = edata.changee;\r\n                    var modifyCondition_1 = function (cond, autoEdit) {\r\n                        var el = _this.slot.querySelector(\"div[data-id=\" + cond.id + \"]\");\r\n                        if (el) {\r\n                            autoEdit = autoEdit\r\n                                && ((edata.condPart & ConditionPart.Operator) === ConditionPart.Operator)\r\n                                && cond.expressions.length > 1\r\n                                && (cond.expressions[1]._isDefaultValue || cond.expressions[1].value == '' ||\r\n                                    cond.expressions[1].value == null);\r\n                            var isActive = el.classList.contains('active');\r\n                            var renderer = _this.getConditionRenderer(cond, el);\r\n                            if (renderer) {\r\n                                var newEl = renderer.render(autoEdit);\r\n                                if (isActive) {\r\n                                    _this.toggleConditionPicked(cond);\r\n                                }\r\n                                if (isFocusInside && !autoEdit) {\r\n                                    var focusElem = newEl.querySelector('a') || newEl.querySelector('.eqjs-qp-condition-button');\r\n                                    if (focusElem) {\r\n                                        safeFocus(focusElem);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    var autoEdit_1 = _this.options.autoEditNewCondition;\r\n                    if (Array.isArray(conds)) {\r\n                        conds.forEach(function (cond) { return modifyCondition_1(cond, autoEdit_1); });\r\n                        autoEdit_1 = false;\r\n                    }\r\n                    else {\r\n                        modifyCondition_1(conds, autoEdit_1);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var conds = edata.changee;\r\n                    var addCondition_1 = function (cond) {\r\n                        var renderer = _this.getConditionRenderer(cond);\r\n                        if (renderer) {\r\n                            var parent_1 = cond.getParent();\r\n                            var parentEl = _this.slot.querySelector(\"div[data-id=\" + parent_1.id + \"]\");\r\n                            if (parentEl) {\r\n                                var newCondContainer = parentEl.lastChild;\r\n                                if (newCondContainer) {\r\n                                    var el = renderer.render(_this.options.autoEditNewCondition);\r\n                                    newCondContainer.appendChild(el);\r\n                                    el.scrollIntoView(false);\r\n                                    if (isFocusInside && !_this.options.autoEditNewCondition) {\r\n                                        el.querySelector(\"a\").focus();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(conds)) {\r\n                        conds.forEach(function (cond) { return addCondition_1(cond); });\r\n                    }\r\n                    else {\r\n                        addCondition_1(conds);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var conds = edata.changee;\r\n                    var deleteCondition_1 = function (cond) {\r\n                        var el = _this.slot.querySelector(\"div[data-id=\" + cond.id + \"]\");\r\n                        if (el) {\r\n                            var parent_2 = _this.slot.querySelector(\"div[data-id=\" + cond.getParent().id + \"] > .eqjs-qp-row-group\");\r\n                            ;\r\n                            var next = el.nextSibling;\r\n                            var prev = el.previousSibling;\r\n                            el.parentElement.removeChild(el);\r\n                            if (isFocusInside) {\r\n                                var focusCond = next || prev || parent_2;\r\n                                var focusElem = focusCond.querySelector('a') || focusCond.querySelector('.eqjs-qp-condition-button');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(conds)) {\r\n                        conds.forEach(function (cond) { return deleteCondition_1(cond); });\r\n                    }\r\n                    else {\r\n                        deleteCondition_1(conds);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    QueryPanel.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    QueryPanel.prototype.getQuery = function () {\r\n        if (this.customQuery) {\r\n            return this.customQuery;\r\n        }\r\n        return this.context.getQuery();\r\n    };\r\n    QueryPanel.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    QueryPanel.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n        // dateFormatValue & dateFormatDisplay back compatibility\r\n        if (this.options.dateFormatValue) {\r\n            i18n.updateLocaleSettings({\r\n                editDateFormat: this.options.dateFormatValue\r\n            });\r\n        }\r\n        if (this.options.dateFormatDisplay) {\r\n            // TO DO: process option\r\n        }\r\n        if (typeof this.options.editableParts === \"undefined\") {\r\n            this.options.editableParts = QPEditablePart.All;\r\n        }\r\n        if (browserUtils.isMobileMode()) {\r\n            this.options.buttons = this.options.buttons || {};\r\n            this.options.buttons.condition = [\"menu\"];\r\n            this.options.buttons.group = [\"menu\"];\r\n        }\r\n    };\r\n    QueryPanel.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    QueryPanel.prototype.render = function () {\r\n        try {\r\n            this.entitiesMenu = this.createEntitiesMenu();\r\n            this.createConditionMenus();\r\n            this.createLinkTypeMenu();\r\n            this.rootContainer = domel('div', this.slot)\r\n                .toDOM();\r\n            domel(this.slot)\r\n                .removeClass(eqCssMobile)\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            var query = this.getQuery();\r\n            var root = query.getRootCondition();\r\n            var renderer = this.getConditionRenderer(root, this.rootContainer);\r\n            if (renderer) {\r\n                renderer.render();\r\n            }\r\n            if (this.options.showAddRow) {\r\n                this.addRowElement = domel('div', this.slot)\r\n                    .toDOM();\r\n                var addrowRenderer = this.getAddRowRenderer(this.addRowElement);\r\n                if (addrowRenderer)\r\n                    addrowRenderer.render();\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.context.throwError({\r\n                action: \"QueryPanel rendering\",\r\n                text: e.message,\r\n                sourceError: e\r\n            });\r\n        }\r\n    };\r\n    QueryPanel.prototype.getConditionRenderer = function (condition, slot) {\r\n        var renderer;\r\n        if (this.options.onGetConditionRenderer) {\r\n            renderer = this.options.onGetConditionRenderer(condition, slot);\r\n            if (renderer) {\r\n                return renderer;\r\n            }\r\n        }\r\n        switch (condition.tag) {\r\n            case CondTag.Simple:\r\n                return new SimpleConditionRenderer(this, condition, slot);\r\n            case CondTag.Group:\r\n                return new ConditionGroupRenderer(this, condition, slot);\r\n        }\r\n        return null;\r\n    };\r\n    QueryPanel.prototype.getExpressionRenderer = function (expression, slot) {\r\n        if (!expression) {\r\n            throw 'Expression is not defined in the condition';\r\n        }\r\n        var model = this.getContext().getModel();\r\n        var condition = expression.getParent();\r\n        var operator = model.getOperatorById(condition.getOperatorId());\r\n        var attribute = model.getAttributeById(condition.expressions[0].value);\r\n        var operand = model.getOperand(attribute, operator, expression.getIndex());\r\n        var editor;\r\n        var tag;\r\n        if (operand && operand.editor && operand.editor.tag !== EqEditorTag.Unknown) {\r\n            editor = operand.editor;\r\n        }\r\n        else if (attribute && attribute.defaultEditor) {\r\n            editor = attribute.defaultEditor;\r\n        }\r\n        else {\r\n            editor = new EqValueEditor();\r\n        }\r\n        tag = editor.tag;\r\n        var exprType = expression.dataType;\r\n        if (exprType == DataType.Unknown) {\r\n            exprType = attribute.dataType;\r\n        }\r\n        if (expression.kind === DataKind.Attribute) {\r\n            if (expression.getIndex() === 0) { // Base attribute expression\r\n                return new AttributeExpressionRenderer(this, expression, this.entitiesMenu, slot);\r\n            }\r\n            else {\r\n                var attributeMenu = this.createEntitiesMenu(function (ent, attr) {\r\n                    if (attr) {\r\n                        return attr.useInConditions && attr.dataType === exprType;\r\n                    }\r\n                    return true;\r\n                });\r\n                return new AttributeExpressionRenderer(this, expression, attributeMenu, slot);\r\n            }\r\n        }\r\n        else if (expression.kind === DataKind.Query) {\r\n            tag = EqEditorTag.SubQuery;\r\n        }\r\n        else if (expression.kind === DataKind.Scalar) {\r\n            if (tag == EqEditorTag.Unknown && (expression.dataType === DataType.Date\r\n                || expression.dataType === DataType.DateTime || expression.dataType === DataType.Time)) {\r\n                tag = EqEditorTag.DateTime;\r\n            }\r\n        }\r\n        else if (expression.kind == DataKind.ParentColumn) {\r\n            tag = EqEditorTag.BindToParentColumn;\r\n        }\r\n        if (this.options.onGetExpressionRenderer) {\r\n            var renderer = this.options.onGetExpressionRenderer(this, expression, editor, slot);\r\n            if (renderer) {\r\n                return renderer;\r\n            }\r\n        }\r\n        switch (tag) {\r\n            case EqEditorTag.List:\r\n                return new ListExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.SqlList:\r\n                return new SqlListExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.CustomList:\r\n                return new CustomListExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.DateTime:\r\n                return new DateTimeExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.SubQuery:\r\n                return new SubQueryExpressionRenderer(this, expression, editor, slot);\r\n            //move to ERS later\r\n            case EqEditorTag.BindToParentColumn:\r\n                return new BindToParentColumnExpressionRenderer(this, expression, editor, slot);\r\n            default:\r\n                return new InputExpressionRenderer(this, expression, editor, slot);\r\n        }\r\n    };\r\n    QueryPanel.prototype.getOperatorRenderer = function (condition, text, slot) {\r\n        var renderer;\r\n        if (this.options.onGetOperatorRenderer)\r\n            renderer = this.options.onGetOperatorRenderer(condition, text, slot);\r\n        if (renderer)\r\n            return renderer;\r\n        return new OperatorRenderer(this, condition, text, slot);\r\n    };\r\n    QueryPanel.prototype.getAddRowRenderer = function (slot) {\r\n        var renderer;\r\n        if (this.options.onGetAddRowRenderer)\r\n            renderer = this.options.onGetAddRowRenderer(slot);\r\n        if (renderer)\r\n            return renderer;\r\n        return new AddRowRenderer(this, this.entitiesMenu, slot);\r\n    };\r\n    QueryPanel.prototype.createEntitiesMenu = function (filterFunc) {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id || \"eq-querypanel\";\r\n        menuId += '-EntitiesMenu';\r\n        var entitiesList = model.getEntitiesTree({\r\n            addUIC: true,\r\n            addUIR: false,\r\n            addUIS: false,\r\n            attrPlacement: this.options.attrPlacement,\r\n            sortEntities: this.options.sortEntities\r\n        }, filterFunc);\r\n        var options = {\r\n            items: entitiesList,\r\n            adjustHeight: this.options.adjustEntitiesMenuHeight,\r\n            id: menuId,\r\n            domWriteItemsId: this.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        return new PopupMenu(options);\r\n    };\r\n    QueryPanel.prototype.showEntitiesMenu = function (options) {\r\n        this.entitiesMenu.showMenu(options);\r\n    };\r\n    QueryPanel.prototype.createConditionMenus = function () {\r\n        //ConditionMenu\r\n        {\r\n            var query = this.getQuery();\r\n            var menuId = this.slot.id || \"eq-querypanel\";\r\n            menuId += '-ConditionMenu';\r\n            var items = [\r\n                {\r\n                    id: \"enable\",\r\n                    text: i18n.getText('MenuEnable')\r\n                },\r\n                {\r\n                    id: \"delete\",\r\n                    text: i18n.getText('CmdDelete')\r\n                }\r\n            ];\r\n            if (query.isEx()) {\r\n                if (this.options.allowParameterization || this.options.allowInJoinConditions) {\r\n                    items.push({ id: \"delimiter\", text: \"---\" });\r\n                }\r\n                ;\r\n                if (this.options.allowParameterization) {\r\n                    items.push({\r\n                        id: \"param\",\r\n                        text: i18n.getText('MenuParameterization')\r\n                    });\r\n                }\r\n                ;\r\n                if (this.options.allowInJoinConditions) {\r\n                    items.push({\r\n                        id: \"inJoin\",\r\n                        text: i18n.getText('MenuJoinCond')\r\n                    });\r\n                }\r\n                ;\r\n            }\r\n            var options = { items: items, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId, showSearchBoxAfter: 100, showSelected: true };\r\n            dataUtils.assign(options, this.options.menuOptions);\r\n            this.conditionMenu = new PopupMenu(options);\r\n        }\r\n        //groupMenu\r\n        {\r\n            var menuId = this.slot.id || \"eq-querypanel\";\r\n            menuId += '-GroupMenu';\r\n            var items = [\r\n                {\r\n                    id: \"enable\",\r\n                    text: i18n.getText('MenuEnable')\r\n                },\r\n                {\r\n                    id: \"delete\",\r\n                    text: i18n.getText('CmdDelete')\r\n                },\r\n                {\r\n                    id: \"delimiter\",\r\n                    text: \"---\"\r\n                },\r\n                {\r\n                    id: \"addCondition\",\r\n                    text: i18n.getText('CmdAddCondition')\r\n                },\r\n                {\r\n                    id: \"addGroup\",\r\n                    text: i18n.getText('CmdAddCondGroup')\r\n                }\r\n            ];\r\n            var options = { items: items, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId, showSearchBoxAfter: 100, showSelected: true };\r\n            dataUtils.assign(options, this.options.menuOptions);\r\n            this.groupMenu = new PopupMenu(options);\r\n        }\r\n        //rootGroupMenu\r\n        {\r\n            var menuId = this.slot.id || \"eq-querypanel\";\r\n            menuId += '-RootGroupMenu';\r\n            var items = [\r\n                {\r\n                    id: \"addCondition\",\r\n                    text: i18n.getText('CmdAddCondition')\r\n                },\r\n                {\r\n                    id: \"addGroup\",\r\n                    text: i18n.getText('CmdAddCondGroup')\r\n                }\r\n            ];\r\n            var options = { items: items, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId, showSearchBoxAfter: 100, showSelected: true };\r\n            dataUtils.assign(options, this.options.menuOptions);\r\n            this.rootGroupMenu = new PopupMenu(options);\r\n        }\r\n    };\r\n    QueryPanel.prototype.createLinkTypeMenu = function () {\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-LinkTypeMenu';\r\n        }\r\n        var typeList = eqconsts.predicateLinkTypeList;\r\n        var itemList = typeList.map(function (item) {\r\n            return {\r\n                id: item.id,\r\n                text: i18n.getText(item.key)\r\n            };\r\n        });\r\n        var options = { items: itemList, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.linkTypeMenu = new PopupMenu(options);\r\n    };\r\n    QueryPanel.prototype.toggleConditionPicked = function (condition, force) {\r\n        if (force === void 0) { force = undefined; }\r\n        var el;\r\n        var isActive;\r\n        if (condition) {\r\n            el = this.slot.querySelector(\"div[data-id=\" + condition.id + \"][data-condrow], div[data-id=\" + condition.id + \"] > div[data-grouprow]\");\r\n            if (el) {\r\n                isActive = el.classList.contains('active');\r\n            }\r\n        }\r\n        //clear 'active' in all rows\r\n        var rows = this.slot.querySelectorAll(\".\" + this.cssPrefix + \"-row\");\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            if (row.hasAttribute('data-group-row')) {\r\n                if (!this.options.alwaysShowButtonsInGroups) {\r\n                    domel(row)\r\n                        .data(\"show-buttons\", null);\r\n                }\r\n            }\r\n            else {\r\n                if (!this.options.alwaysShowButtonsInConditions) {\r\n                    domel(row)\r\n                        .data(\"show-buttons\", null);\r\n                }\r\n            }\r\n            domel(row)\r\n                .removeClass('active');\r\n        }\r\n        if (el && !isActive) {\r\n            domel(el)\r\n                .addClass('active')\r\n                .data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    QueryPanel.prototype.showLandingSlot = function () {\r\n        var container = this.slot.querySelector('.eqjs-qp-conditions-root');\r\n        if (container) {\r\n            container.appendChild(this.landingSlot);\r\n            this.landingSlot.scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n        }\r\n    };\r\n    QueryPanel.prototype.hideLangindSlot = function () {\r\n        if (this.landingSlot.parentElement) {\r\n            this.landingSlot.parentElement.removeChild(this.landingSlot);\r\n        }\r\n    };\r\n    return QueryPanel;\r\n}(Widget));\r\nexport { QueryPanel };\r\n//# sourceMappingURL=query_panel.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, QueryChangeAction } from '@easyquery/core';\r\nimport { slideUp, slideDown, domel } from '@easydata/ui';\r\nimport { QueryPanel } from './query_panel';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar FilterBar = /** @class */ (function (_super) {\r\n    __extends(FilterBar, _super);\r\n    function FilterBar(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            applyOnClose: true,\r\n            showApplyButton: true,\r\n            showClearButton: true,\r\n            queryPanel: {\r\n                showAddRow: true,\r\n                showCheckboxes: true,\r\n                alwaysShowButtonsInGroups: true\r\n            }\r\n        };\r\n        _this.headerClickListener = _this.headerClickHandler.bind(_this);\r\n        _this.group = WidgetGroup.Query;\r\n        return _this;\r\n    }\r\n    FilterBar.prototype.getWidgetType = function () {\r\n        return 'filterBar';\r\n    };\r\n    Object.defineProperty(FilterBar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-fb';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FilterBar.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.destroyCore();\r\n        this.qpElement = domel('div')\r\n            .addClass(this.cssPrefix + \"-querypanel\")\r\n            .toDOM();\r\n        this.queryPanel = new QueryPanel(this.qpElement);\r\n        this.queryPanel.init(context, options.queryPanel || {});\r\n        this.attachQueryObserver();\r\n    };\r\n    FilterBar.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    FilterBar.prototype.applyBtnClick = function (ev) {\r\n        this.applyFilter();\r\n    };\r\n    FilterBar.prototype.clearBtnClick = function (ev) {\r\n        this.clearFilter();\r\n    };\r\n    FilterBar.prototype.showQueryPanel = function (callback) {\r\n        var _this = this;\r\n        slideDown(this.qpBlock, 200, function () {\r\n            _this.updateHeader();\r\n            if (callback)\r\n                callback();\r\n        });\r\n    };\r\n    FilterBar.prototype.hideQueryPanel = function () {\r\n        var _this = this;\r\n        slideUp(this.qpBlock, 200, function () {\r\n            _this.updateHeader();\r\n            if (_this.options.applyOnClose) {\r\n                _this.applyFilter();\r\n            }\r\n        });\r\n    };\r\n    FilterBar.prototype.headerClickHandler = function (ev) {\r\n        ev.preventDefault();\r\n        if (domel(this.qpBlock).isVisible()) { // close query panel\r\n            this.hideQueryPanel();\r\n        }\r\n        else { //open query panel\r\n            this.showQueryPanel();\r\n        }\r\n    };\r\n    FilterBar.prototype.updateHeader = function () {\r\n        if (!this.headerTextElement)\r\n            return;\r\n        var text = '';\r\n        var query = this.getContext().getQuery();\r\n        if (query) {\r\n            text = query.getConditionsText();\r\n        }\r\n        if (text == '') {\r\n            text = i18n.getText('StrNoFilterDefined');\r\n        }\r\n        domel(this.headerTextElement)\r\n            .text(text)\r\n            .attr('title', text);\r\n        if (!query || query.isEmptyConditions()) { //empty query, don't show query panel and arrow, show link in header\r\n            domel(this.headerTextElement).hide();\r\n            domel(this.headerLinkElement).show();\r\n            if (!domel(this.qpBlock).isVisible()) {\r\n                domel(this.headerArrowBlock).hide();\r\n                this.headerElement.style.cursor = '';\r\n                this.headerElement.removeEventListener('click', this.headerClickListener);\r\n            }\r\n        }\r\n        else {\r\n            this.headerElement.style.cursor = 'pointer';\r\n            this.headerElement.removeEventListener('click', this.headerClickListener);\r\n            this.headerElement.addEventListener('click', this.headerClickListener);\r\n            domel(this.headerTextElement).show();\r\n            domel(this.headerLinkElement).hide();\r\n            domel(this.headerArrowBlock).show();\r\n        }\r\n        if (domel(this.qpBlock).isVisible()) { // close query panel\r\n            this.headerArrowElement.classList.add(this.cssPrefix + \"-header-arrowUp\");\r\n        }\r\n        else {\r\n            this.headerArrowElement.classList.remove(this.cssPrefix + \"-header-arrowUp\");\r\n        }\r\n        this.textResize();\r\n    };\r\n    FilterBar.prototype.render = function () {\r\n        var _this = this;\r\n        domel(this.slot)\r\n            .addClass(this.cssPrefix + \"-container\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (builder) { return _this.headerElement = builder\r\n            .addClass(_this.cssPrefix + \"-header\")\r\n            .addChild('div', function (builder) { return _this.headerIconElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-icon\")\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.headerTextBlock = builder\r\n            .addClass(_this.cssPrefix + \"-header-textblock\")\r\n            .addChild('div', function (builder) { return _this.headerTextElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-text\")\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.headerLinkElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-text \" + _this.cssPrefix + \"-header-link\")\r\n            .text(i18n.getText('StrNoFilterClickToAdd'))\r\n            .hide()\r\n            .on('click', function () {\r\n            _this.queryPanel.showEntitiesMenu({\r\n                anchor: _this.headerLinkElement,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (item, items) {\r\n                    var attrid = item.id;\r\n                    _this.showQueryPanel(function () {\r\n                        var query = _this.getContext().getQuery();\r\n                        var descr = {\r\n                            parent: query.getRootCondition(),\r\n                            attributeId: attrid\r\n                        };\r\n                        var cond = query.addSimpleCondition(descr);\r\n                        if (cond) {\r\n                            query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        })\r\n            .toDOM(); })\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.headerArrowBlock = builder\r\n            .addClass(_this.cssPrefix + \"-header-arrowblock\")\r\n            .addChild('div', function (builder) { return _this.headerArrowElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-arrow\")\r\n            .toDOM(); })\r\n            .toDOM(); })\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.qpBlock = builder\r\n            .addClass(_this.cssPrefix + \"-querypanelblock\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .hide()\r\n            .addChildElement(_this.qpElement)\r\n            .toDOM(); });\r\n        if (this.options.showApplyButton || this.options.showClearButton) {\r\n            this.buttonsBlock = domel('div', this.qpBlock)\r\n                .addClass(this.cssPrefix + \"-buttonsblock\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        }\r\n        if (this.options.showApplyButton) {\r\n            domel('a', this.buttonsBlock)\r\n                .attr('href', 'javascript:void(0)')\r\n                .addClass(this.cssPrefix + \"-button \" + this.cssPrefix + \"-button-apply\")\r\n                .text(i18n.getText('ButtonApply'))\r\n                .on('click', this.applyBtnClick.bind(this));\r\n        }\r\n        if (this.options.showClearButton) {\r\n            domel('a', this.buttonsBlock)\r\n                .attr('href', 'javascript:void(0)')\r\n                .addClass(this.cssPrefix + \"-button \" + this.cssPrefix + \"-button-clear\")\r\n                .text(i18n.getText('CmdClear'))\r\n                .on('click', this.clearBtnClick.bind(this));\r\n        }\r\n        window.addEventListener('resize', function () {\r\n            _this.textResize();\r\n        });\r\n        this.updateHeader();\r\n        this.queryPanel.refresh();\r\n        setTimeout(function () { return _this.textResize(); }, 500);\r\n    };\r\n    FilterBar.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    FilterBar.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    FilterBar.prototype.applyFilter = function () {\r\n        if (this.options.applyFilterCallback) {\r\n            this.options.applyFilterCallback();\r\n        }\r\n    };\r\n    FilterBar.prototype.clearFilter = function () {\r\n        var query = this.getContext().getQuery();\r\n        if (query) {\r\n            query.clearConditions();\r\n            query.fireConditionsChangedEvent(QueryChangeAction.All);\r\n        }\r\n    };\r\n    FilterBar.prototype.textResize = function () {\r\n        this.headerTextBlock.style.width = (this.slot.clientWidth - this.headerIconElement.offsetWidth\r\n            - (domel(this.headerArrowBlock).isVisible() ? this.headerArrowBlock.offsetWidth : 0)) + \"px\";\r\n    };\r\n    FilterBar.prototype.destroyCore = function () {\r\n        if (this.queryPanel)\r\n            this.queryPanel.destroy();\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    FilterBar.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getContext().getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            _this.updateHeader();\r\n        });\r\n    };\r\n    FilterBar.prototype.detachQueryObserver = function () {\r\n        var query = this.getContext().getQuery();\r\n        if (query)\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n    };\r\n    return FilterBar;\r\n}(Widget));\r\nexport { FilterBar };\r\n//# sourceMappingURL=filter_bar.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from \"@easyquery/core\";\r\n/**\r\n * The widget responsed for rendering html content\r\n */\r\nvar HtmlContentWidget = /** @class */ (function (_super) {\r\n    __extends(HtmlContentWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function HtmlContentWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.contentElement = slot;\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    HtmlContentWidget.prototype.getWidgetType = function () {\r\n        return 'htmlContent';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    HtmlContentWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    HtmlContentWidget.prototype.refreshCore = function () {\r\n        this.clear();\r\n        if (!this.context.resultContent)\r\n            return;\r\n        this.render();\r\n    };\r\n    /**\r\n     * Renders widget\r\n     */\r\n    HtmlContentWidget.prototype.render = function () {\r\n        if (this.context.resultContent) {\r\n            this.contentElement.innerHTML += this.context.resultContent;\r\n        }\r\n    };\r\n    /**\r\n     * Clears content.\r\n     */\r\n    HtmlContentWidget.prototype.clear = function () {\r\n        this.contentElement.innerHTML = \"\";\r\n    };\r\n    HtmlContentWidget.prototype.destroyCore = function () {\r\n        this.clear();\r\n    };\r\n    return HtmlContentWidget;\r\n}(Widget));\r\nexport { HtmlContentWidget };\r\n//# sourceMappingURL=html_content_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { WidgetGroup } from '@easyquery/core';\r\nimport { HtmlContentWidget } from './html_content_widget';\r\n/**\r\n * The widget responsed for rendering html grid.\r\n */\r\nvar EqHtmlGrid = /** @class */ (function (_super) {\r\n    __extends(EqHtmlGrid, _super);\r\n    /**\r\n    * The default constructor.\r\n    * @param slot The html element.\r\n    */\r\n    function EqHtmlGrid(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            maxButtonCount: 10,\r\n            useBootstrap: false\r\n        };\r\n        return _this;\r\n    }\r\n    EqHtmlGrid.prototype.getWidgetType = function () {\r\n        return 'eqHtmlGrid';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    EqHtmlGrid.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n    };\r\n    EqHtmlGrid.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    EqHtmlGrid.prototype.refreshCore = function () {\r\n        _super.prototype.refreshCore.call(this);\r\n        this.renderPageNavigator();\r\n    };\r\n    EqHtmlGrid.prototype.destroyCore = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    /**\r\n     * Renders page navigator.\r\n     */\r\n    EqHtmlGrid.prototype.renderPageNavigator = function () {\r\n        var _this = this;\r\n        var pageNavigatorPlaceholder = document.getElementById(\"PageNavigator\");\r\n        if (!pageNavigatorPlaceholder) {\r\n            return;\r\n        }\r\n        var pageCount = parseInt(pageNavigatorPlaceholder.getAttribute('data-pagecount'));\r\n        var pageIndex = parseInt(pageNavigatorPlaceholder.getAttribute('data-pageindex'));\r\n        if (pageCount > 1) {\r\n            var buttonClick = function (ev) {\r\n                var element = ev.target;\r\n                if (element.hasAttribute('data-page')) {\r\n                    var pageNum = parseInt(element.getAttribute('data-page'));\r\n                    _this.context.fetchDataChunk({\r\n                        chunk: {\r\n                            page: pageNum\r\n                        },\r\n                        success: function () {\r\n                            _this.context.refreshWidgets(WidgetGroup.Result);\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n            var maxButtonCount = this.options.maxButtonCount || 10;\r\n            var zeroBasedIndex = pageIndex - 1;\r\n            var firstPageIndex = zeroBasedIndex - (zeroBasedIndex % maxButtonCount) + 1;\r\n            var lastPageIndex = firstPageIndex + maxButtonCount - 1;\r\n            if (lastPageIndex > pageCount) {\r\n                lastPageIndex = pageCount;\r\n            }\r\n            var ul = document.createElement('ul');\r\n            if (this.options.useBootstrap) {\r\n                ul.className = \"pagination\";\r\n            }\r\n            else {\r\n                ul.className = \"eqv-pagination\";\r\n            }\r\n            if (this.options.pageItemCssClass) {\r\n                ul.className += \" \" + (this.options.pageItemCssClass);\r\n            }\r\n            var li = document.createElement('li');\r\n            if (this.options.useBootstrap) {\r\n                li.className = \"page-item\";\r\n            }\r\n            var a = document.createElement('span');\r\n            a.setAttribute(\"aria-hidden\", 'true');\r\n            if (this.options.useBootstrap) {\r\n                a.className = \"page-link\";\r\n            }\r\n            if (firstPageIndex == 1) {\r\n                li.className += \" disabled\";\r\n            }\r\n            else {\r\n                if (this.options.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                    a.className = \"page-link\";\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                    a = newA;\r\n                }\r\n                a.addEventListener(\"click\", buttonClick);\r\n            }\r\n            a.innerHTML = \"&laquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            for (var i = firstPageIndex; i <= lastPageIndex; i++) {\r\n                li = document.createElement('li');\r\n                if (this.options.useBootstrap) {\r\n                    li.className = \"page-item\";\r\n                }\r\n                if (i == pageIndex)\r\n                    li.className += \" active\";\r\n                a = document.createElement('a');\r\n                a.setAttribute('href', 'javascript:void(0)');\r\n                a.innerHTML = i.toString();\r\n                a.setAttribute('data-page', i.toString());\r\n                a.className = \"page-link\";\r\n                a.addEventListener(\"click\", buttonClick);\r\n                li.appendChild(a);\r\n                ul.appendChild(li);\r\n            }\r\n            li = document.createElement('li');\r\n            if (this.options.useBootstrap) {\r\n                li.className = \"page-item\";\r\n            }\r\n            a = document.createElement(\"span\");\r\n            a.setAttribute('aria-hidden', 'true');\r\n            if (this.options.useBootstrap) {\r\n                a.className = \"page-link\";\r\n            }\r\n            if (lastPageIndex == pageCount) {\r\n                li.className += \"disabled\";\r\n            }\r\n            else {\r\n                if (this.options.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                    a.className += \" page-link\";\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                    a = newA;\r\n                }\r\n                a.addEventListener(\"click\", buttonClick);\r\n            }\r\n            a.innerHTML = \"&raquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            pageNavigatorPlaceholder.appendChild(ul);\r\n        }\r\n    };\r\n    return EqHtmlGrid;\r\n}(HtmlContentWidget));\r\nexport { EqHtmlGrid };\r\n//# sourceMappingURL=eq_result_html_grid.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\n/**\r\n * Base class for GRID.\r\n */\r\nvar Grid = /** @class */ (function (_super) {\r\n    __extends(Grid, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function Grid(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            useCustomLocaleSettings: false\r\n        };\r\n        _this.slot = slot;\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    Grid.prototype.getWidgetType = function () {\r\n        return 'grid';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    Grid.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        if (options) {\r\n            dataUtils.assignDeep(this.options, options);\r\n        }\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    Grid.prototype.refreshCore = function () {\r\n        this.clear();\r\n        if (!this.context.resultTable) {\r\n            return;\r\n        }\r\n        this.render();\r\n    };\r\n    /**\r\n     * Renders widget\r\n     */\r\n    Grid.prototype.render = function () {\r\n        if (this.options.beforeTableRendering) {\r\n            this.options.beforeTableRendering(this.context.resultTable);\r\n        }\r\n        this.applyDisplayFormats();\r\n    };\r\n    Grid.prototype.applyDisplayFormats = function () {\r\n    };\r\n    /**\r\n     * Clears GRID.\r\n     */\r\n    Grid.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    return Grid;\r\n}(Widget));\r\nexport { Grid };\r\n//# sourceMappingURL=grid.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { WidgetGroup, QueryChangeAction, ExprTag, QueryChangePart, SortDirection } from '@easyquery/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { EasyGrid } from '@easydata/ui';\r\nimport { Grid } from './grid';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nvar EasyGridWidget = /** @class */ (function (_super) {\r\n    __extends(EasyGridWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function EasyGridWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.hasCustomTotalsSettings = false;\r\n        //!!!! DO NOT forget to add types for options\r\n        _this.options = { autoRefresh: true };\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    EasyGridWidget.prototype.getWidgetType = function () {\r\n        return 'easyGrid';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    EasyGridWidget.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        var gridOptions = __assign({}, options, { slot: this.slot, dataTable: context.resultTable });\r\n        this.options = dataUtils.assign(this.options, options);\r\n        gridOptions.onAddColumnClick = function (ev) { return _this.addColumnClickHandler(ev); };\r\n        gridOptions.onColumnMoved = function (ev) { return _this.columnMovedHandler(ev); };\r\n        if (this.context.calcTotals) {\r\n            if (gridOptions.totals) {\r\n                this.hasCustomTotalsSettings = true;\r\n            }\r\n            else {\r\n                gridOptions.totals = __assign({}, this.context.getTotalsSettings(), { calculator: null });\r\n            }\r\n            gridOptions.totals.calculator = this.context.getServices()\r\n                .getTotalCalculator();\r\n        }\r\n        this.destroy();\r\n        this.grid = new EasyGrid(gridOptions);\r\n        if (this.options.autoRefresh) {\r\n            this.attachQueryObserver();\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.updateTotalsSettings();\r\n        this.render();\r\n    };\r\n    EasyGridWidget.prototype.render = function () {\r\n        this.createEntitiesMenu();\r\n        this.grid.refresh();\r\n    };\r\n    EasyGridWidget.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            if (event.data.source == _this) {\r\n                _this.grid.refresh();\r\n            }\r\n            else {\r\n                _this.refresh();\r\n            }\r\n        });\r\n    };\r\n    EasyGridWidget.prototype.destroyCore = function () {\r\n        this.detachQueryObserver();\r\n        if (this.grid)\r\n            this.grid.destroy();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    EasyGridWidget.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getContext().getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.updateTotalsSettings = function () {\r\n        var context = this.getContext();\r\n        if (context.calcTotals && !this.hasCustomTotalsSettings) {\r\n            var settings = context.getTotalsSettings();\r\n            this.grid.options.totals.calcGrandTotals = settings.calcGrandTotals;\r\n            this.grid.options.totals.cols = settings.cols;\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: true, addUIS: false });\r\n        var options = { items: entitiesList, id: menuId };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    EasyGridWidget.prototype.getModel = function () {\r\n        return this.context.getModel();\r\n    };\r\n    EasyGridWidget.prototype.getQuery = function () {\r\n        return this.context.getQuery();\r\n    };\r\n    EasyGridWidget.prototype.clear = function () {\r\n        if (this.grid)\r\n            this.grid.clear();\r\n    };\r\n    EasyGridWidget.prototype.addColumnClickHandler = function (ev) {\r\n        var _this = this;\r\n        this.entitiesMenu.showMenu({\r\n            anchor: ev.sourceEvent.target,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                var attrid = data.id;\r\n                _this.addNewColumn(attrid);\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    EasyGridWidget.prototype.columnMovedHandler = function (ev) {\r\n        var query = this.getQuery();\r\n        var oldIndex = dataUtils.findItemIndexById(query.getColumns(), ev.columnId);\r\n        if (oldIndex >= 0) {\r\n            query.moveColumn(oldIndex, ev.newIndex);\r\n            query.fireChangedEvent({\r\n                part: QueryChangePart.Columns,\r\n                action: QueryChangeAction.All,\r\n                source: this\r\n            });\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.addNewColumn = function (attrId) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getContext().getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInSorting) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInSorting) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn();\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.None;\r\n            column.sortIndex = -1;\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        if (!this.getContext().getQuery()) {\r\n            return;\r\n        }\r\n        return this.addColumn(getColumnByAttrId(attrId));\r\n    };\r\n    EasyGridWidget.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    EasyGridWidget.prototype.addColumn = function (column) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        column = this.checkColumn(column);\r\n        if (!column) {\r\n            return;\r\n        }\r\n        column = query.addColumn({\r\n            caption: column.caption,\r\n            attributeId: column.expr.value,\r\n            sorting: column.sorting,\r\n            sortIndex: column.sortIndex\r\n        });\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.Columns,\r\n            action: QueryChangeAction.Add,\r\n            changee: column,\r\n            source: this\r\n        });\r\n        return column;\r\n    };\r\n    EasyGridWidget.prototype.checkColumn = function (col) {\r\n        var query = this.getContext().getQuery();\r\n        var columns = query.getColumns();\r\n        var colJson = JSON.stringify(col.expr.saveToData());\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var qcolJson = JSON.stringify(columns[i].expr.saveToData());\r\n            if (qcolJson === colJson) {\r\n                return null;\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    return EasyGridWidget;\r\n}(Grid));\r\nexport { EasyGridWidget };\r\n//# sourceMappingURL=easy_grid_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\n/**\r\n * The widget responsed for rendering statement.\r\n * It's usually added for demonstration purposes only.\r\n */\r\nvar StatementPanel = /** @class */ (function (_super) {\r\n    __extends(StatementPanel, _super);\r\n    /**\r\n     * The  default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function StatementPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = slot;\r\n        _this.group = WidgetGroup.Statement;\r\n        if (_this.panel.tagName !== \"TEXTAREA\") {\r\n            _this.panel.innerHTML = '<div class=\"eqv-sql-panel-result\"></div>';\r\n            _this.panel = _this.panel.querySelector('div');\r\n        }\r\n        return _this;\r\n    }\r\n    StatementPanel.prototype.getWidgetType = function () {\r\n        return 'statementPanel';\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    StatementPanel.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    StatementPanel.prototype.render = function () {\r\n        this.panel.textContent = this.context.resultStatement ? this.context.resultStatement : \"\";\r\n        var statementText = this.panel.innerHTML.replace(/\\r\\n/g, \"<br />\").replace(/  /g, \"&nbsp;&nbsp;\");\r\n        this.panel.innerHTML = statementText;\r\n    };\r\n    StatementPanel.prototype.destroyCore = function () {\r\n        this.clear();\r\n    };\r\n    StatementPanel.prototype.clear = function () {\r\n        this.panel.innerHTML = \"\";\r\n    };\r\n    return StatementPanel;\r\n}(Widget));\r\nexport { StatementPanel };\r\n//# sourceMappingURL=statement_panel.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\n/**\r\n * The widget responsed for rendering process bar.\r\n */\r\nvar ProcessWidget = /** @class */ (function (_super) {\r\n    __extends(ProcessWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function ProcessWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.element = slot;\r\n        _this.element.style.display = 'none';\r\n        _this.group = WidgetGroup.All;\r\n        return _this;\r\n    }\r\n    ProcessWidget.prototype.getWidgetType = function () {\r\n        return 'processIndicator';\r\n    };\r\n    /**\r\n     * On process start implementation\r\n     */\r\n    ProcessWidget.prototype.onProcessStartCore = function () {\r\n        this.element.style.display = '';\r\n    };\r\n    /**\r\n    * On process end implementation\r\n    */\r\n    ProcessWidget.prototype.onProcessEndCore = function () {\r\n        this.element.style.display = 'none';\r\n    };\r\n    return ProcessWidget;\r\n}(Widget));\r\nexport { ProcessWidget };\r\n//# sourceMappingURL=process_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup, Query, DataKind } from \"@easyquery/core\";\r\nimport { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ColumnsBar } from './columns_bar';\r\nimport { QueryPanel } from './query_panel';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nvar ManageDrillDownWidget = /** @class */ (function (_super) {\r\n    __extends(ManageDrillDownWidget, _super);\r\n    function ManageDrillDownWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.clickHandler = function () { return _this.openDialog(); };\r\n        _this.columnsBar = null;\r\n        _this.queryPanel = null;\r\n        _this.ddQuery = null;\r\n        _this.cssPrefix = eqCssPrefix;\r\n        _this.group = WidgetGroup.None;\r\n        return _this;\r\n    }\r\n    ManageDrillDownWidget.prototype.getWidgetType = function () {\r\n        return 'manageDrillDown';\r\n    };\r\n    ManageDrillDownWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.options = options;\r\n        this.refresh();\r\n        this.slot.addEventListener('click', this.clickHandler);\r\n    };\r\n    ManageDrillDownWidget.prototype.destroyCore = function () {\r\n        this.slot.removeEventListener('click', this.clickHandler);\r\n    };\r\n    ManageDrillDownWidget.prototype.openDialog = function () {\r\n        var _this = this;\r\n        var dialogService = this.context.getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        var model = this.context.getModel();\r\n        var dialogBody = domel('div')\r\n            .addClass(this.cssPrefix + \"-manage-drilldown\")\r\n            .addChildElement(this.renderColumnsBarBlock())\r\n            .addChildElement(this.renderQueryPanelBlock())\r\n            .toDOM();\r\n        var op = model.addOrUpdateOperator({\r\n            id: 'BindToParentColumn',\r\n            caption: 'is bound to',\r\n            format: '{expr1} [[is bound to]] {expr2}',\r\n            paramCount: 2,\r\n            kind: DataKind.ParentColumn,\r\n            appliedTypes: [DataType.String, DataType.Bool, DataType.Float, DataType.Int32, DataType.Int64, DataType.Word]\r\n        });\r\n        op.defaultOperand.dataType = DataType.String;\r\n        op.defaultOperand.kind = DataKind.ParentColumn;\r\n        model.runThroughEntities(function (attr) {\r\n            var opIdx = attr.operators.indexOf(op.id);\r\n            if (opIdx > 0) {\r\n                dataUtils.moveArrayItem(attr.operators, opIdx, 0);\r\n            }\r\n        }, null);\r\n        this.ddQuery = new Query(model, null, {\r\n            parent: query\r\n        });\r\n        var dds = this.context.getQuery().getDrillDowns();\r\n        if (dds.length) {\r\n            var dd = dds[0];\r\n            this.ddQuery.loadFromData(dd.toJSONData());\r\n        }\r\n        dialogService.open({\r\n            title: 'Manage Drill Down',\r\n            body: dialogBody,\r\n            cancelable: true,\r\n            closable: false,\r\n            beforeOpen: function () {\r\n                var columnsBarSlot = dialogBody.getElementsByClassName(_this.cssPrefix + \"-columnsbar-slot\")[0];\r\n                _this.columnsBar = new ColumnsBar(columnsBarSlot, _this.ddQuery);\r\n                _this.columnsBar.init(_this.context, _this.options.columnsBar);\r\n                var queryPanelSlot = dialogBody.getElementsByClassName(_this.cssPrefix + \"-querypanel-slot\")[0];\r\n                _this.queryPanel = new QueryPanel(queryPanelSlot, _this.ddQuery);\r\n                _this.queryPanel.init(_this.context, _this.options.queryPanel);\r\n                _this.columnsBar.refresh();\r\n                _this.queryPanel.refresh();\r\n            },\r\n            onSubmit: function () {\r\n                return _this.submitDialog();\r\n            },\r\n            onDestroy: function () {\r\n                _this.destroyDialog();\r\n            }\r\n        });\r\n    };\r\n    ManageDrillDownWidget.prototype.renderQueryPanelBlock = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-querypanel-block\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-querypanel-caption\"); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-querypanel-slot\"); })\r\n            .toDOM();\r\n    };\r\n    ManageDrillDownWidget.prototype.renderColumnsBarBlock = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-columnsbar-block\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-columnsbar-caption\"); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-columnsbar-slot\"); })\r\n            .toDOM();\r\n    };\r\n    ManageDrillDownWidget.prototype.submitDialog = function () {\r\n        if (this.ddQuery.tryValidate({\r\n            checkExpressions: true\r\n        })) {\r\n            var dds = this.context.getQuery().getDrillDowns();\r\n            if (dds.length) {\r\n                dds[0].loadFromData(this.ddQuery.toJSONData());\r\n                this.context.getQuery().fireChangedEvent();\r\n            }\r\n            else {\r\n                if (!this.ddQuery.isEmpty()) {\r\n                    var dd = this.context.getQuery().addDrillDown();\r\n                    dd.loadFromData(this.ddQuery.toJSONData());\r\n                    this.context.getQuery().fireChangedEvent();\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ManageDrillDownWidget.prototype.destroyDialog = function () {\r\n        var model = this.context.getModel();\r\n        model.removeOperator('BindToParentColumn', true);\r\n        this.ddQuery = null;\r\n        this.columnsBar && this.columnsBar.destroy();\r\n        this.columnsBar = null;\r\n        this.queryPanel && this.queryPanel.destroy();\r\n        this.queryPanel = null;\r\n    };\r\n    return ManageDrillDownWidget;\r\n}(Widget));\r\nexport { ManageDrillDownWidget };\r\n//# sourceMappingURL=manage_drilldown_widget.js.map","import { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar ResultFacetTab = /** @class */ (function () {\r\n    function ResultFacetTab(panel, options) {\r\n        var _this = this;\r\n        this.panel = panel;\r\n        this.title = i18n.getText('Facets', 'DefaultFacetTitle');\r\n        this.cssPrefix = 'eqjs-facet';\r\n        this.dialogTitle = i18n.getText('Facets', 'DefaultDlgTitle');\r\n        this.options = {};\r\n        this.canDisplayFlag = true;\r\n        this.downloadAllClickHandler = function () {\r\n            var chunksToLoad = _this.getChunksForLoading();\r\n            var resultTable = _this.getContext().resultTable;\r\n            var recordsToLoad = resultTable.getTotal() - resultTable.getCachedCount();\r\n            var ds = _this.getDialogService();\r\n            var dlg = ds.openProgress({\r\n                title: i18n.getText('Facets', 'LoadDataDlgTitle'),\r\n                content: i18n.getText('Facets', 'LoadDataDlgContent')\r\n                    .replace('{loadedRecs}', '0')\r\n                    .replace('{totalRecs}', \"\" + recordsToLoad),\r\n                onSubmit: function () { return _this.refresh(); },\r\n                determinated: true\r\n            });\r\n            var loadedRecords = 0;\r\n            var _loop_1 = function (chunk) {\r\n                setTimeout(function () {\r\n                    resultTable.getRows({ offset: chunk.offset, limit: resultTable.chunkSize })\r\n                        .then(function (_) {\r\n                        loadedRecords += _.length;\r\n                        var progress = loadedRecords / recordsToLoad;\r\n                        dlg.updateContent(i18n.getText('Facets', 'LoadDataDlgContent')\r\n                            .replace('{loadedRecs}', \"\" + loadedRecords)\r\n                            .replace('{totalRecs}', \"\" + recordsToLoad));\r\n                        dlg.updateProgress(progress);\r\n                    })\r\n                        .catch(function (error) {\r\n                        dlg.submit();\r\n                        _this.getContext().throwError(error);\r\n                    });\r\n                }, 10);\r\n            };\r\n            for (var _i = 0, chunksToLoad_1 = chunksToLoad; _i < chunksToLoad_1.length; _i++) {\r\n                var chunk = chunksToLoad_1[_i];\r\n                _loop_1(chunk);\r\n            }\r\n        };\r\n        dataUtils.assignDeep(this.options, options);\r\n    }\r\n    ResultFacetTab.prototype.init = function (slot) {\r\n        this.slot = slot;\r\n        this.contentDiv = domel('div', this.slot).toDOM();\r\n        this.displayMessageDiv = domel('div', this.slot).hide().toDOM();\r\n    };\r\n    ResultFacetTab.prototype.showSettingsDialog = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            var ds = _this.getDialogService();\r\n            var content = _this.renderDialogContent();\r\n            ds.open({\r\n                title: _this.dialogTitle,\r\n                body: content,\r\n                cancelable: true,\r\n                closable: false,\r\n                onSubmit: function () {\r\n                    var submited = _this.submitSettingsDialog();\r\n                    if (submited) {\r\n                        resolve(true);\r\n                    }\r\n                    return submited;\r\n                },\r\n                onCancel: function () {\r\n                    resolve(false);\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ResultFacetTab.prototype.renderDialogContent = function () {\r\n        var fieldsContainer;\r\n        var b = domel('div')\r\n            .addClass('kfrm-form')\r\n            .addChild('div', function (b) { return fieldsContainer = b\r\n            .addClass(\"\" + (browserUtils.IsIE()\r\n            ? 'kfrm-fields-ie col-ie-1-4 label-align-right'\r\n            : 'kfrm-fields col-a-1 label-align-right'))\r\n            .toDOM(); });\r\n        this.renderFormFields(b.toDOM(), fieldsContainer);\r\n        return b.toDOM();\r\n    };\r\n    ResultFacetTab.prototype.renderFormFields = function (form, fieldsContainer) {\r\n        var _this = this;\r\n        var cont = fieldsContainer;\r\n        if (browserUtils.IsIE()) {\r\n            cont = domel('div', fieldsContainer)\r\n                .addClass('kfrm-field-ie')\r\n                .toDOM();\r\n        }\r\n        domel(cont)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'tab_name')\r\n            .addText(i18n.getText('Facets', 'TabNameLabel')); })\r\n            .addChild('input', function (b) { return b\r\n            .id('facetTabName')\r\n            .name('tab_name')\r\n            .type('text')\r\n            .attr('value', _this.title); });\r\n    };\r\n    ResultFacetTab.prototype.submitSettingsDialog = function () {\r\n        var tabNameInput = document.querySelector('#facetTabName');\r\n        if (tabNameInput.value.length == 0)\r\n            return false;\r\n        this.title = tabNameInput.value;\r\n        return true;\r\n    };\r\n    ResultFacetTab.prototype.getDialogService = function () {\r\n        return this.getContext()\r\n            .getServices()\r\n            .getDialogService();\r\n    };\r\n    ResultFacetTab.prototype.canDisplay = function () {\r\n        var context = this.getContext();\r\n        var resultTable = context.resultTable;\r\n        return (resultTable.getCachedCount() == resultTable.getTotal());\r\n    };\r\n    ResultFacetTab.prototype.showUnableDisplayMessage = function (message) {\r\n        var context = this.getContext();\r\n        var resultTable = context.resultTable;\r\n        this.displayMessageDiv.innerHTML = message || i18n.getText('Facets', 'ErrNotEnoughData')\r\n            .replace('{totalRecs}', \"\" + resultTable.getTotal())\r\n            .replace('{cachedRecs}', \"\" + resultTable.getCachedCount())\r\n            .replace(/\\[(.*)\\]/g, \"<a href='javascript:void(0)' class=\\\"\" + this.cssPrefix + \"-download-all-link\\\">$1</a>\");\r\n        var link = this.displayMessageDiv.querySelector(\"a.\" + this.cssPrefix + \"-download-all-link\");\r\n        if (link) {\r\n            link.addEventListener('click', this.downloadAllClickHandler);\r\n        }\r\n        domel(this.contentDiv).hide();\r\n        domel(this.displayMessageDiv).show();\r\n    };\r\n    ResultFacetTab.prototype.hideUnableDisplayMessage = function () {\r\n        domel(this.displayMessageDiv).hide();\r\n        domel(this.contentDiv).show();\r\n    };\r\n    ResultFacetTab.prototype.getContext = function () {\r\n        return this.panel.getContext();\r\n    };\r\n    ResultFacetTab.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    ResultFacetTab.prototype.saveToData = function () {\r\n        return { title: this.title, type: this.getType() };\r\n    };\r\n    ResultFacetTab.prototype.loadFromData = function (data) {\r\n        if (data) {\r\n            this.title = data.title;\r\n        }\r\n    };\r\n    ResultFacetTab.prototype.refresh = function () {\r\n        this.hideUnableDisplayMessage();\r\n        if (this.canDisplay()) {\r\n            this.refreshCore();\r\n        }\r\n        else {\r\n            this.showUnableDisplayMessage();\r\n        }\r\n    };\r\n    ResultFacetTab.prototype.getChunksForLoading = function () {\r\n        var resultTable = this.getContext().resultTable;\r\n        var chunkSize = resultTable.chunkSize;\r\n        var cachedChunks = resultTable.getCachedChunks();\r\n        var chunksToLoad = [];\r\n        if (cachedChunks[0].offset != 0) {\r\n            chunksToLoad.push({ offset: 0 });\r\n        }\r\n        for (var i = 1; i < cachedChunks.length; i++) {\r\n            var diffOffset = cachedChunks[i].offset - cachedChunks[i - 1].offset - chunkSize;\r\n            if (diffOffset >= chunkSize) {\r\n                var numbOfChunks = diffOffset / chunkSize;\r\n                for (var j = 1; j <= numbOfChunks; j++) {\r\n                    chunksToLoad.push({ offset: cachedChunks[i - 1].offset + j * chunkSize });\r\n                }\r\n            }\r\n        }\r\n        var lastChunk = cachedChunks[cachedChunks.length - 1];\r\n        var diff = resultTable.getTotal() - lastChunk.offset;\r\n        if (diff >= chunkSize) {\r\n            var numbOfChunks = diff / chunkSize;\r\n            for (var j = 1; j <= numbOfChunks; j++) {\r\n                chunksToLoad.push({ offset: lastChunk.offset + j * chunkSize });\r\n            }\r\n        }\r\n        return chunksToLoad;\r\n    };\r\n    ResultFacetTab.prototype.onResize = function () {\r\n    };\r\n    return ResultFacetTab;\r\n}());\r\nexport { ResultFacetTab };\r\n//# sourceMappingURL=result_facet_tab.js.map","/** Represents chart types. */\r\nexport var ChartType;\r\n(function (ChartType) {\r\n    ChartType[ChartType[\"Column\"] = 3] = \"Column\";\r\n    ChartType[ChartType[\"Histogram\"] = 4] = \"Histogram\";\r\n    ChartType[ChartType[\"Bar\"] = 5] = \"Bar\";\r\n    ChartType[ChartType[\"Combo\"] = 6] = \"Combo\";\r\n    ChartType[ChartType[\"Area\"] = 7] = \"Area\";\r\n    ChartType[ChartType[\"Line\"] = 9] = \"Line\";\r\n    ChartType[ChartType[\"Pie\"] = 10] = \"Pie\";\r\n    ChartType[ChartType[\"Donut\"] = 12] = \"Donut\";\r\n    ChartType[ChartType[\"Gauge\"] = 17] = \"Gauge\";\r\n    ChartType[ChartType[\"Candlestick\"] = 18] = \"Candlestick\";\r\n})(ChartType || (ChartType = {}));\r\n//# sourceMappingURL=chart_type.js.map","import { i18n } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar TotalsDialog = /** @class */ (function () {\r\n    function TotalsDialog(context) {\r\n        this.context = context;\r\n    }\r\n    TotalsDialog.prototype.show = function () {\r\n        var _this = this;\r\n        if (!this.context.calcTotals) {\r\n            console.warn('Totals mode is turned off. Set calcTotals options to true');\r\n        }\r\n        var settings = this.context.getTotalsSettings();\r\n        var body = domel('div')\r\n            .addClass('kfrm-form')\r\n            .addChild('div', function (b) {\r\n            b.addClass(\"\" + (browserUtils.IsIE()\r\n                ? 'kfrm-fields-ie col-ie-1-4 label-align-right'\r\n                : 'kfrm-fields col-a-1 label-align-right'));\r\n            TotalsDialog.renderFields(settings, _this.context, b.toDOM());\r\n        })\r\n            .toDOM();\r\n        var ds = this.context.getServices().getDialogService();\r\n        ds.open({\r\n            title: i18n.getText('TotalsDlgTitle'),\r\n            body: body,\r\n            cancelable: true,\r\n            closable: false,\r\n            onSubmit: function () {\r\n                var settings = TotalsDialog.getSelectedSettings(body);\r\n                _this.context.setTotalsSettings(settings);\r\n            }\r\n        });\r\n    };\r\n    TotalsDialog.getSelectedSettings = function (parent) {\r\n        parent = parent || document.body;\r\n        var settings = {\r\n            calcGrandTotals: parent.querySelector('#dataTableCalcGrandTotals').checked,\r\n            cols: {}\r\n        };\r\n        var inputs = Array.from(parent.querySelectorAll('[data-colId]'));\r\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\r\n            var input = inputs_1[_i];\r\n            var colId = input.getAttribute('data-colId');\r\n            settings.cols[colId] = { calcSubTotals: input.checked };\r\n        }\r\n        return settings;\r\n    };\r\n    // for facets dialog\r\n    TotalsDialog.renderFields = function (settings, context, parent) {\r\n        var isIE = browserUtils.IsIE();\r\n        var fieldsClass = isIE ? 'kfrm-fields-ie' : 'kfrm-fields';\r\n        var getCurrent = function () {\r\n            if (isIE) {\r\n                return domel('div', parent)\r\n                    .addClass('kfrm-field-ie')\r\n                    .toDOM();\r\n            }\r\n            else {\r\n                return parent;\r\n            }\r\n        };\r\n        var current = getCurrent();\r\n        var container;\r\n        domel(current)\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-break-30'); });\r\n        var cols = context.getQuery().getUsedInTotalsColumns();\r\n        domel(current)\r\n            .addChild('fieldset', function (b) { return b\r\n            .addChild('legend', function (b) { return b\r\n            .addText(i18n.getText('TotalsDlgLabel')); })\r\n            .addChild('div', function (b) { return container = b\r\n            .addClass(fieldsClass)\r\n            .toDOM(); }); })\r\n            .toDOM();\r\n        domel(container)\r\n            .addChild('label', function (b) { return b\r\n            .addClass('checkbox')\r\n            .addChild('input', function (b) {\r\n            b\r\n                .id('dataTableCalcGrandTotals')\r\n                .type('checkbox');\r\n            if (settings.calcGrandTotals)\r\n                b.attr('checked', '');\r\n        })\r\n            .addText(' ' + i18n.getText('GrandTotalsLabel'))\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-break-20'); }); });\r\n        var _loop_1 = function (col) {\r\n            var sCol = settings.cols[col.id];\r\n            domel(container)\r\n                .addChild('label', function (b) { return b\r\n                .addClass('checkbox')\r\n                .addChild('input', function (b) {\r\n                b\r\n                    .data('colId', col.id)\r\n                    .type('checkbox');\r\n                if (sCol.calcSubTotals)\r\n                    b.attr('checked', '');\r\n            })\r\n                .addText(' ' + col.caption); })\r\n                .toDOM();\r\n        };\r\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\r\n            var col = cols_1[_i];\r\n            _loop_1(col);\r\n        }\r\n    };\r\n    return TotalsDialog;\r\n}());\r\nexport { TotalsDialog };\r\n//# sourceMappingURL=totals_dialog.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easyquery/core';\r\nimport { ResultFacetTab } from './result_facet_tab';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { EasyGridWidget } from '../widgets/easy_grid_widget';\r\nimport { TotalsDialog } from '../dialog/totals_dialog';\r\nvar DataTableFacetTab = /** @class */ (function (_super) {\r\n    __extends(DataTableFacetTab, _super);\r\n    function DataTableFacetTab() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.grid = null;\r\n        _this.title = i18n.getText('Facets', 'DataTable', 'FacetTitle');\r\n        _this.dialogTitle = i18n.getText('Facets', 'DataTable', 'DlgTitle');\r\n        return _this;\r\n    }\r\n    DataTableFacetTab.prototype.init = function (slot) {\r\n        _super.prototype.init.call(this, slot);\r\n        var context = this.getContext();\r\n        if (context.calcTotals) {\r\n            this.settings = dataUtils.assign(this.getContext().getDefaultTotalsSettings(), this.settings);\r\n        }\r\n        this.reinitGrid();\r\n    };\r\n    DataTableFacetTab.prototype.reinitGrid = function () {\r\n        if (this.grid)\r\n            this.grid.destroy();\r\n        var options = this.panel.options || {};\r\n        if (options.gridResolver) {\r\n            this.grid = options.gridResolver(this.contentDiv, this.getType());\r\n        }\r\n        if (this.grid == null) {\r\n            this.grid = new EasyGridWidget(this.contentDiv);\r\n        }\r\n        options.grid = options.grid || {};\r\n        options.grid.autoRefresh = false;\r\n        options.grid.addColumns = false;\r\n        var context = this.getContext();\r\n        if (context.calcTotals) {\r\n            options.grid.totals = this.settings;\r\n        }\r\n        this.grid.init(context, options.grid);\r\n    };\r\n    DataTableFacetTab.prototype.getType = function () {\r\n        return FacetType.DataGrid;\r\n    };\r\n    DataTableFacetTab.prototype.canDisplay = function () {\r\n        return true;\r\n    };\r\n    DataTableFacetTab.prototype.renderFormFields = function (form, fieldsContainer) {\r\n        _super.prototype.renderFormFields.call(this, form, fieldsContainer);\r\n        var context = this.getContext();\r\n        if (context.calcTotals) {\r\n            var settings = this.settings || {};\r\n            TotalsDialog.renderFields(settings, context, form);\r\n        }\r\n    };\r\n    DataTableFacetTab.prototype.dropSettings = function () {\r\n        this.settings.cols = this.getContext().getDefaultTotalsSettings().cols;\r\n        this.reinitGrid();\r\n        this.saveToData();\r\n    };\r\n    DataTableFacetTab.prototype.submitSettingsDialog = function () {\r\n        var result = _super.prototype.submitSettingsDialog.call(this);\r\n        if (result) {\r\n            this.settings = TotalsDialog.getSelectedSettings();\r\n            this.reinitGrid();\r\n        }\r\n        return result;\r\n    };\r\n    DataTableFacetTab.prototype.refreshCore = function () {\r\n        var context = this.getContext();\r\n        if (context.calcTotals && context.wereTotalsColumnsChanged(this.settings)) {\r\n            this.dropSettings();\r\n            return;\r\n        }\r\n        if (!this.grid)\r\n            return;\r\n        this.grid.refresh();\r\n    };\r\n    DataTableFacetTab.prototype.destroy = function () {\r\n        if (this.grid) {\r\n            this.grid.destroy();\r\n        }\r\n    };\r\n    DataTableFacetTab.prototype.saveToData = function () {\r\n        var data = _super.prototype.saveToData.call(this);\r\n        if (this.settings) {\r\n            data.cols = this.settings.cols;\r\n            data.calcGrandTotals = this.settings.calcGrandTotals;\r\n        }\r\n        return data;\r\n    };\r\n    DataTableFacetTab.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            this.settings = {\r\n                cols: data.cols,\r\n                calcGrandTotals: data.calcGrandTotals\r\n            };\r\n        }\r\n    };\r\n    return DataTableFacetTab;\r\n}(ResultFacetTab));\r\nexport { DataTableFacetTab };\r\n//# sourceMappingURL=datatable_facet_tab.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup, } from '@easyquery/core';\r\nimport { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { addCssClass, showElement, hideElement, toggleVisibility, isVisible } from '@easydata/ui';\r\nimport { ChartType } from './chart_type';\r\nvar ChartWidget = /** @class */ (function (_super) {\r\n    __extends(ChartWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     * @param provider The provider.\r\n     */\r\n    function ChartWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.chartType = ChartType.Pie;\r\n        _this.supportedChartTypes = [];\r\n        _this.dataTable = null;\r\n        _this.potentialLabelColumns = [];\r\n        _this.potentialDataColumns = [];\r\n        _this.labelColumn = -1;\r\n        _this.dataColumns = [];\r\n        _this.options = {\r\n            chartType: ChartType.Pie,\r\n            showOnPaging: false,\r\n            hideSettings: false\r\n        };\r\n        _this.element = slot;\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ChartWidget.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-chart';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    ChartWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.dataTable = context.resultTable;\r\n        this.setOptions(options);\r\n    };\r\n    /**\r\n     * Checks, if widget has data.\r\n     * @returns `true` if has data, otherwise - `false`.\r\n     */\r\n    ChartWidget.prototype.hasData = function () {\r\n        var result = this.dataTable != null;\r\n        if (result) {\r\n            result = this.dataTable.getCachedCount() > 0;\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Checks, if there ara colums for chart\r\n     * @returns `true` if there are columns, otherwise - `false`.\r\n     */\r\n    ChartWidget.prototype.hasColumnsForChart = function () {\r\n        return this.potentialLabelColumns.length > 0 && this.potentialDataColumns.length > 0;\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    ChartWidget.prototype.refreshCore = function () {\r\n        this.prepareChartData();\r\n        this.render();\r\n    };\r\n    ChartWidget.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n        this.supportedChartTypes = this.getSupportedChartTypes();\r\n        if (this.supportedChartTypes.length == 0) {\r\n            throw Error(\"Chart widget should support at least one chart type\");\r\n        }\r\n        if (options.chartType && this.supportedChartTypes.indexOf(options.chartType) >= 0) {\r\n            this.chartType = options.chartType;\r\n        }\r\n        else {\r\n            this.chartType = this.supportedChartTypes[0];\r\n        }\r\n    };\r\n    ChartWidget.prototype.getChartTypeName = function (ct) {\r\n        switch (ct) {\r\n            case ChartType.Area:\r\n                return \"Area chart\";\r\n            case ChartType.Bar:\r\n                return \"Bar chart\";\r\n            case ChartType.Candlestick:\r\n                return \"Candlestick chart\";\r\n            case ChartType.Column:\r\n                return \"Column chart\";\r\n            case ChartType.Combo:\r\n                return \"Combo chart\";\r\n            case ChartType.Donut:\r\n                return \"Donut chart\";\r\n            case ChartType.Gauge:\r\n                return \"Gauge chart\";\r\n            case ChartType.Histogram:\r\n                return \"Histogram chart\";\r\n            case ChartType.Line:\r\n                return \"Line chart\";\r\n            default:\r\n                return \"Pie chart\";\r\n        }\r\n    };\r\n    ChartWidget.prototype.updateSettings = function (settings) {\r\n        this.chartType = settings.type;\r\n        this.labelColumn = settings.labelColumn;\r\n        this.updateChartColumns();\r\n        this.dataColumns[0] = settings.dataColumn;\r\n        this.updateChartColumns();\r\n    };\r\n    /**\r\n     * Prepares data for chart.\r\n     */\r\n    ChartWidget.prototype.prepareChartData = function () {\r\n        var _this = this;\r\n        if (this.dataTable) {\r\n            this.potentialLabelColumns = [];\r\n            this.potentialDataColumns = [];\r\n            var colNum = this.dataTable.columns.count;\r\n            for (var i = 0; i < colNum; i++) {\r\n                var column = this.dataTable.columns.get(i);\r\n                var colType = column.type;\r\n                var colLabel = column.label;\r\n                if (colType === DataType.String) {\r\n                    this.potentialLabelColumns.push({ idx: i, label: colLabel });\r\n                }\r\n                else if (dataUtils.isNumericType(colType)) {\r\n                    this.potentialDataColumns.push({ idx: i, label: colLabel });\r\n                }\r\n            }\r\n            ;\r\n            if (this.labelColumn != -1) {\r\n                if (!this.potentialLabelColumns\r\n                    .filter(function (c) { return c.idx == _this.labelColumn; })\r\n                    .length) {\r\n                    this.labelColumn = -1;\r\n                }\r\n            }\r\n            else {\r\n                this.labelColumn = (this.potentialLabelColumns.length > 0)\r\n                    ? this.potentialLabelColumns[0].idx : -1;\r\n            }\r\n            if (this.dataColumns.length) {\r\n                var ids_1 = this.potentialDataColumns.map(function (d) { return d.idx; });\r\n                this.dataColumns = this.dataColumns.filter(function (v) { return ids_1.indexOf(v) >= 0; });\r\n                if (!this.dataColumns.length) {\r\n                    this.dataColumns = (this.potentialDataColumns.length > 0)\r\n                        ? [].concat(this.potentialDataColumns[0].idx)\r\n                        : [];\r\n                }\r\n            }\r\n            else {\r\n                this.dataColumns = (this.potentialDataColumns.length > 0)\r\n                    ? [].concat(this.potentialDataColumns[0].idx)\r\n                    : [];\r\n            }\r\n            this.initChart();\r\n        }\r\n    };\r\n    ChartWidget.prototype.getSupportedChartTypes = function () {\r\n        var _this = this;\r\n        var chartTypes = this.options.supportedChartTypes\r\n            ? this.options.supportedChartTypes\r\n            : Object.keys(ChartType).map(function (key) { return ChartType[key]; });\r\n        return chartTypes.filter(function (type) { return _this.hasChartTypes.indexOf(type) >= 0; });\r\n    };\r\n    ChartWidget.prototype.getCurrentChartType = function () {\r\n        return this.chartType;\r\n    };\r\n    ChartWidget.prototype.render = function () {\r\n        var _this = this;\r\n        this.clear();\r\n        if (this.hasData() && this.hasColumnsForChart()\r\n            && (this.context.resultTable.getTotal()\r\n                == this.context.resultTable.getCachedCount())) {\r\n            var headerDiv = document.createElement('div');\r\n            addCssClass(headerDiv, this.cssPrefix + \"-header\");\r\n            var mainDiv = document.createElement('div');\r\n            addCssClass(mainDiv, this.cssPrefix + \"-main\");\r\n            if (this.canDraw()) {\r\n                var chartTypeSelector = document.createElement('select');\r\n                for (var _i = 0, _a = this.supportedChartTypes; _i < _a.length; _i++) {\r\n                    var ct = _a[_i];\r\n                    var sopt = document.createElement('option');\r\n                    sopt.value = ct.toString();\r\n                    sopt.text = this.getChartTypeName(ct);\r\n                    chartTypeSelector.appendChild(sopt);\r\n                }\r\n                chartTypeSelector.value = this.chartType.toString();\r\n                headerDiv.appendChild(chartTypeSelector);\r\n                chartTypeSelector.addEventListener('change', function (ev) {\r\n                    var ctkey = ev.target.value;\r\n                    _this.chartType = parseInt(ctkey);\r\n                    _this.refresh();\r\n                });\r\n                this.settingsDiv = document.createElement('div');\r\n                addCssClass(this.settingsDiv, this.cssPrefix + \"-settings\");\r\n                hideElement(this.settingsDiv);\r\n                mainDiv.appendChild(this.settingsDiv);\r\n                this.chartDiv = document.createElement('div');\r\n                addCssClass(this.chartDiv, this.cssPrefix + \"-content\");\r\n                hideElement(this.chartDiv);\r\n                mainDiv.appendChild(this.chartDiv);\r\n                this.initSettingsDiv();\r\n                var chartSettingsBtn = document.createElement('div');\r\n                addCssClass(chartSettingsBtn, this.cssPrefix + \"-settings-icon\");\r\n                chartSettingsBtn.title = \"Settings\";\r\n                headerDiv.appendChild(chartSettingsBtn);\r\n                chartSettingsBtn.addEventListener('click', function (ev) {\r\n                    _this.toggleSettings();\r\n                });\r\n                this.drawChart(100);\r\n            }\r\n            else {\r\n                this.addContentDiv(mainDiv, \"Chart Provider is not defined\");\r\n            }\r\n            if (!this.options.hideSettings) {\r\n                this.element.appendChild(headerDiv);\r\n            }\r\n            this.element.appendChild(mainDiv);\r\n            this.element.style.display = \"\";\r\n        }\r\n        else {\r\n            this.element.style.display = \"none\";\r\n        }\r\n    };\r\n    ChartWidget.prototype.addContentDiv = function (mainDiv, text) {\r\n        var contentDiv = document.createElement('div');\r\n        addCssClass(contentDiv, this.cssPrefix + \"-no-data\");\r\n        contentDiv.innerText = text;\r\n        mainDiv.appendChild(contentDiv);\r\n    };\r\n    /**\r\n     * Clears chart.\r\n     */\r\n    ChartWidget.prototype.clear = function () {\r\n        this.element.innerHTML = '';\r\n    };\r\n    /**\r\n     * Draws chart with delay.\r\n     * @param delay The delay.\r\n     */\r\n    ChartWidget.prototype.drawChart = function (delay) {\r\n        var _this = this;\r\n        showElement(this.chartDiv);\r\n        if (delay > 0) {\r\n            setTimeout(function () { return _this.drawCore(); }, delay);\r\n        }\r\n        else {\r\n            this.drawCore();\r\n        }\r\n    };\r\n    /**\r\n     * Inititialize settings div.\r\n     */\r\n    ChartWidget.prototype.initSettingsDiv = function () {\r\n        var _this = this;\r\n        var settingsHeader = document.createElement('div');\r\n        settingsHeader.textContent = 'SETTINGS';\r\n        addCssClass(settingsHeader, this.cssPrefix + \"-settings-header\");\r\n        this.settingsDiv.appendChild(settingsHeader);\r\n        // Label column\r\n        var labelDiv = document.createElement('div');\r\n        addCssClass(labelDiv, this.cssPrefix + \"-settings-single\");\r\n        this.settingsDiv.appendChild(labelDiv);\r\n        var labelColumnSelectorCaption = document.createElement('span');\r\n        showElement(labelColumnSelectorCaption);\r\n        labelColumnSelectorCaption.textContent = 'Label column';\r\n        labelDiv.appendChild(labelColumnSelectorCaption);\r\n        var labelColumnSelector = document.createElement('select');\r\n        showElement(labelColumnSelector);\r\n        labelDiv.appendChild(labelColumnSelector);\r\n        for (var _i = 0, _a = this.potentialLabelColumns; _i < _a.length; _i++) {\r\n            var col = _a[_i];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            labelColumnSelector.appendChild(sopt);\r\n        }\r\n        if (this.labelColumn >= 0) {\r\n            labelColumnSelector.value = this.labelColumn.toString();\r\n        }\r\n        labelColumnSelector.addEventListener('change', function (ev) {\r\n            _this.labelColumn = parseInt(ev.target.value);\r\n            _this.updateChartColumns();\r\n            _this.toggleSettings(function () {\r\n                _this.drawChart(100);\r\n            });\r\n        });\r\n        // Data column\r\n        var dataDiv = document.createElement('div');\r\n        addCssClass(dataDiv, this.cssPrefix + \"-settings-single\");\r\n        this.settingsDiv.appendChild(dataDiv);\r\n        var dataColumnSelectorCaption = document.createElement('span');\r\n        showElement(dataColumnSelectorCaption);\r\n        dataColumnSelectorCaption.textContent = 'Data column';\r\n        dataDiv.appendChild(dataColumnSelectorCaption);\r\n        var dataColumnSelector = document.createElement('select');\r\n        showElement(dataColumnSelector);\r\n        dataDiv.appendChild(dataColumnSelector);\r\n        for (var _b = 0, _c = this.potentialDataColumns; _b < _c.length; _b++) {\r\n            var col = _c[_b];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            dataColumnSelector.appendChild(sopt);\r\n        }\r\n        if (this.dataColumns.length > 0 && this.dataColumns[0] >= 0) {\r\n            dataColumnSelector.value = this.dataColumns[0].toString();\r\n        }\r\n        dataColumnSelector.addEventListener('change', function (ev) {\r\n            _this.dataColumns[0] = parseInt(ev.target.value);\r\n            _this.updateChartColumns();\r\n            _this.toggleSettings(function () {\r\n                _this.drawChart(100);\r\n            });\r\n        });\r\n    };\r\n    ChartWidget.prototype.getPotentialLabelColumns = function () {\r\n        return this.potentialLabelColumns;\r\n    };\r\n    ChartWidget.prototype.getPotentialDataColumns = function () {\r\n        return this.potentialDataColumns;\r\n    };\r\n    ChartWidget.prototype.getLabelColumnIndex = function () {\r\n        return this.labelColumn;\r\n    };\r\n    ChartWidget.prototype.getDataColumnIndex = function () {\r\n        return this.dataColumns[0];\r\n    };\r\n    /**\r\n     * Toggles settings.\r\n     * @param callback The callback.\r\n     */\r\n    ChartWidget.prototype.toggleSettings = function (callback) {\r\n        var first;\r\n        var second;\r\n        if (isVisible(this.chartDiv)) {\r\n            first = this.chartDiv;\r\n            second = this.settingsDiv;\r\n        }\r\n        else {\r\n            first = this.settingsDiv;\r\n            second = this.chartDiv;\r\n        }\r\n        toggleVisibility(first, second, {\r\n            complete: callback\r\n        });\r\n    };\r\n    return ChartWidget;\r\n}(Widget));\r\nexport { ChartWidget };\r\n//# sourceMappingURL=chart_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { domel } from '@easydata/ui';\r\nimport { EasyDataTable, DataType, utils as dataUtils, i18n } from '@easydata/core';\r\nimport { EasyGrid } from '@easydata/ui';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { ResultFacetTab } from './result_facet_tab';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar AggrFunc;\r\n(function (AggrFunc) {\r\n    AggrFunc[\"Sum\"] = \"SUM\";\r\n    AggrFunc[\"Average\"] = \"AVG\";\r\n    AggrFunc[\"Min\"] = \"MIN\";\r\n    AggrFunc[\"Max\"] = \"MAX\";\r\n    AggrFunc[\"Count\"] = \"COUNT\";\r\n})(AggrFunc || (AggrFunc = {}));\r\nvar PivotTableFacetTab = /** @class */ (function (_super) {\r\n    __extends(PivotTableFacetTab, _super);\r\n    function PivotTableFacetTab() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.cssPrefix = \"eqjs\";\r\n        _this.title = i18n.getText('Facets', 'Pivot', 'FacetTitle');\r\n        _this.dialogTitle = i18n.getText('Facets', 'Pivot', 'DlgTitle');\r\n        _this.pivotTable = new EasyDataTable();\r\n        return _this;\r\n    }\r\n    PivotTableFacetTab.prototype.init = function (slot) {\r\n        _super.prototype.init.call(this, slot);\r\n        this.grid = new EasyGrid({\r\n            slot: this.contentDiv,\r\n            dataTable: this.pivotTable,\r\n            paging: {\r\n                enabled: false\r\n            },\r\n            useRowNumeration: false,\r\n            addColumns: false,\r\n            allowDragDrop: false,\r\n            onGetCellRenderer: function (column, defaultRenderer) {\r\n                if (column.dataColumn && column.dataColumn.id == \"total\") {\r\n                    return function (value, column, cell, rowEl) {\r\n                        defaultRenderer(value, column, cell, rowEl);\r\n                        cell.style.fontWeight = '900';\r\n                    };\r\n                }\r\n            }\r\n        });\r\n    };\r\n    PivotTableFacetTab.prototype.getType = function () {\r\n        return FacetType.PivotTable;\r\n    };\r\n    PivotTableFacetTab.prototype.destroy = function () {\r\n        if (this.grid) {\r\n            this.grid.destroy();\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.createAggrFuncSelectBuilder = function (aggrFunc) {\r\n        var model = this.getContext().getModel();\r\n        var csb = domel('select');\r\n        var aggrfuncs = Object.keys(AggrFunc).map(function (k) { return AggrFunc[k]; });\r\n        var _loop_1 = function (aggrfunc) {\r\n            csb.addChild('option', function (b) {\r\n                b\r\n                    .attr('value', aggrfunc)\r\n                    .text(model.getAggrFunctionCaption(aggrfunc));\r\n            });\r\n        };\r\n        for (var _i = 0, aggrfuncs_1 = aggrfuncs; _i < aggrfuncs_1.length; _i++) {\r\n            var aggrfunc = aggrfuncs_1[_i];\r\n            _loop_1(aggrfunc);\r\n        }\r\n        var options = csb.toDOM().querySelectorAll('option');\r\n        if (aggrFunc != undefined) {\r\n            options.forEach(function (option) {\r\n                if (option.value == aggrFunc) {\r\n                    option.selected = true;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            options[0].selected = true;\r\n        }\r\n        return csb;\r\n    };\r\n    PivotTableFacetTab.prototype.createColumnsSelectBuilder = function (allowedTypes, colName) {\r\n        var dataTable = this.getContextDataTable();\r\n        var csb = domel('select');\r\n        var _loop_2 = function (i) {\r\n            var column = dataTable.columns.get(i);\r\n            var colLabel = column.label;\r\n            var colType = column.type;\r\n            var colId = column.id;\r\n            if (allowedTypes && allowedTypes.indexOf(colType) < 0)\r\n                return \"continue\";\r\n            csb.addChild('option', function (b) {\r\n                b\r\n                    .attr('value', colId)\r\n                    .text(colLabel);\r\n            });\r\n        };\r\n        for (var i = 0; i < dataTable.columns.count; i++) {\r\n            _loop_2(i);\r\n        }\r\n        var options = csb.toDOM().querySelectorAll('option');\r\n        if (options.length > 0) {\r\n            if (colName != undefined) {\r\n                options.forEach(function (option) {\r\n                    if (option.value == colName) {\r\n                        option.selected = true;\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                options[0].selected = true;\r\n            }\r\n        }\r\n        return csb;\r\n    };\r\n    PivotTableFacetTab.prototype.renderFormFields = function (form, fieldsContainer) {\r\n        var _this = this;\r\n        _super.prototype.renderFormFields.call(this, form, fieldsContainer);\r\n        var settings = this.settings || {};\r\n        var colTypes = [DataType.String, DataType.Date, DataType.DateTime, DataType.Int32,\r\n            DataType.Int64, DataType.Word, DataType.Byte];\r\n        var fieldTypes = [DataType.Float, DataType.Int32,\r\n            DataType.Int64, DataType.Word, DataType.Byte, DataType.Currency];\r\n        var isIE = browserUtils.IsIE();\r\n        var current = fieldsContainer;\r\n        var horizClass = isIE ? 'kfrm-fields-ie is-horizontal' : 'kfrm-fields is-horizontal';\r\n        var getCurrent = function () {\r\n            if (isIE) {\r\n                return domel('div', fieldsContainer)\r\n                    .addClass('kfrm-field-ie')\r\n                    .toDOM();\r\n            }\r\n            else {\r\n                return fieldsContainer;\r\n            }\r\n        };\r\n        if (isIE) {\r\n            domel(fieldsContainer)\r\n                .addChildElement(getCurrent());\r\n        }\r\n        else {\r\n            domel(fieldsContainer)\r\n                .addChild('div')\r\n                .addChild('div');\r\n        }\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'column_field')\r\n            .text(i18n.getText('Facets', 'Pivot', 'ColumnFieldSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'column_field')\r\n            .addChildElement(_this.createColumnsSelectBuilder(colTypes, settings.colName)\r\n            .id('pivotTableColFieldSelector')\r\n            .toDOM()); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'row_field')\r\n            .text(i18n.getText('Facets', 'Pivot', 'RowFieldSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'row_field')\r\n            .addChildElement(_this.createColumnsSelectBuilder(colTypes, settings.rowName)\r\n            .id('pivotTableRowFieldSelector')\r\n            .toDOM()); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'data_function')\r\n            .text(i18n.getText('Facets', 'Pivot', 'CellDataSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass(horizClass)\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'data_function')\r\n            .addChildElement(_this.createAggrFuncSelectBuilder(settings.aggrFunc)\r\n            .id('pivotTableAggrFuncSelector')\r\n            .toDOM()); })\r\n            .addChild('label', function (b) { return b.addText('of  '); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'data_column')\r\n            .addChildElement(_this.createColumnsSelectBuilder(fieldTypes, settings.fieldName)\r\n            .id('pivotTableCellFieldSelector')\r\n            .toDOM()); }); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('div')\r\n            .addChild('div', function (b) { return b\r\n            .addClass(horizClass)\r\n            .addChild('label', function (b) { return b\r\n            .addClass('checkbox')\r\n            .addChild('input', function (b) {\r\n            b\r\n                .id('pivotTableHasTotalsRow')\r\n                .type('checkbox');\r\n            if (settings.totalsRow)\r\n                b.attr('checked', '');\r\n        })\r\n            .addText(' ' + i18n.getText('Facets', 'Pivot', 'TotalsRowLabel')); })\r\n            .addChild('label', function (b) { return b\r\n            .addClass('checkbox')\r\n            .addChild('input', function (b) {\r\n            b\r\n                .id('pivotTableHasTotalsCol')\r\n                .type('checkbox');\r\n            if (settings.totalsCol)\r\n                b.attr('checked', '');\r\n        })\r\n            .addText(' ' + i18n.getText('Facets', 'Pivot', 'TotalsColLabel')); }); });\r\n    };\r\n    PivotTableFacetTab.prototype.submitSettingsDialog = function () {\r\n        var result = _super.prototype.submitSettingsDialog.call(this);\r\n        if (result) {\r\n            this.settings = {\r\n                colName: document.getElementById('pivotTableColFieldSelector').value,\r\n                rowName: document.getElementById('pivotTableRowFieldSelector').value,\r\n                aggrFunc: document.getElementById('pivotTableAggrFuncSelector').value,\r\n                fieldName: document.getElementById('pivotTableCellFieldSelector').value,\r\n                totalsRow: document.getElementById('pivotTableHasTotalsRow').checked,\r\n                totalsCol: document.getElementById('pivotTableHasTotalsCol').checked\r\n            };\r\n            this.refresh();\r\n        }\r\n        return result;\r\n    };\r\n    PivotTableFacetTab.prototype.saveToData = function () {\r\n        var data = _super.prototype.saveToData.call(this);\r\n        if (this.settings) {\r\n            dataUtils.assignDeep(data, this.settings);\r\n        }\r\n        return data;\r\n    };\r\n    PivotTableFacetTab.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            this.settings = dataUtils.assignDeep(this.settings, data);\r\n            if (this.settings.aggrFunc == 'AVERAGE') {\r\n                this.settings.aggrFunc = AggrFunc.Average;\r\n            }\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.refreshCore = function () {\r\n        this.updatePivotData();\r\n        if (this.grid) {\r\n            this.grid.refresh();\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.getContextDataTable = function () {\r\n        var context = this.getContext();\r\n        return context.resultTable;\r\n    };\r\n    PivotTableFacetTab.prototype.updatePivotData = function () {\r\n        this.pivotTable.clear();\r\n        var dataTable = this.getContextDataTable();\r\n        if (!dataTable || dataTable.getTotal() == 0) {\r\n            return;\r\n        }\r\n        if (!this.settings) {\r\n            return;\r\n        }\r\n        var colName = this.settings.colName;\r\n        var rowName = this.settings.rowName;\r\n        var fieldName = this.settings.fieldName;\r\n        var colIdx = dataTable.columns.getIndex(colName);\r\n        var rowIdx = dataTable.columns.getIndex(rowName);\r\n        var fieldIdx = dataTable.columns.getIndex(fieldName);\r\n        if (colIdx == undefined || rowIdx == undefined || fieldIdx == undefined) {\r\n            this.showUnableDisplayMessage(i18n.getText('Facets', 'ErrQueryChanged'));\r\n            return;\r\n        }\r\n        var columnCol = dataTable.columns.get(colIdx);\r\n        var columnRow = dataTable.columns.get(rowIdx);\r\n        var rowLabel = columnRow.label;\r\n        var rowType = columnRow.type;\r\n        var colLabel = columnCol.label;\r\n        var colValues = [];\r\n        var rowValues = [];\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var colValue = rows[i].getValue(colIdx);\r\n            if (colValues.indexOf(colValue) < 0) {\r\n                colValues.push(colValue);\r\n            }\r\n            var rowValue = rows[i].getValue(rowIdx);\r\n            if (rowValues.indexOf(rowValue) < 0) {\r\n                rowValues.push(rowValue);\r\n            }\r\n        }\r\n        this.pivotTable.columns.add({\r\n            id: rowLabel + '\\\\' + colLabel,\r\n            label: rowLabel + '\\\\' + colLabel,\r\n            type: rowType\r\n        });\r\n        var null_columns = [];\r\n        for (var i = 0; i < colValues.length; i++) {\r\n            var colValue = colValues[i];\r\n            if (!colValue) {\r\n                null_columns.push(i);\r\n            }\r\n            else {\r\n                this.pivotTable.columns.add({\r\n                    type: DataType.Float,\r\n                    id: colValue,\r\n                    label: colValue\r\n                });\r\n            }\r\n        }\r\n        var new_rows = [];\r\n        for (var i = 0; i < rowValues.length; i++) {\r\n            new_rows.push([]);\r\n            new_rows[i].push(rowValues[i]);\r\n        }\r\n        for (var i = 0; i < rowValues.length; i++) {\r\n            for (var j = 0; j < colValues.length; j++) {\r\n                if (null_columns.indexOf(j) >= 0)\r\n                    continue;\r\n                new_rows[i].push(this.calcAggrFunc(this.settings.aggrFunc, {\r\n                    colName: this.settings.colName,\r\n                    rowName: this.settings.rowName,\r\n                    fieldName: this.settings.fieldName,\r\n                    rowValue: rowValues[i],\r\n                    colValue: colValues[j]\r\n                }));\r\n            }\r\n        }\r\n        if (this.settings.totalsCol) {\r\n            this.pivotTable.columns.add({\r\n                id: \"total\",\r\n                label: i18n.getText('Facets', 'Pivot', 'TotalGridLabel'),\r\n                type: DataType.Float\r\n            });\r\n            for (var i = 0; i < new_rows.length; i++) {\r\n                var totalByRow = 0;\r\n                var row = new_rows[i];\r\n                for (var j = 1; j < row.length; j++) {\r\n                    var value = row[j];\r\n                    if (value !== null)\r\n                        totalByRow += value;\r\n                }\r\n                row.push(totalByRow);\r\n            }\r\n        }\r\n        for (var _i = 0, new_rows_1 = new_rows; _i < new_rows_1.length; _i++) {\r\n            var row = new_rows_1[_i];\r\n            this.pivotTable.addRow(row);\r\n        }\r\n        if (this.settings.totalsRow) {\r\n            var total_row = [];\r\n            total_row.push(i18n.getText('Facets', 'Pivot', 'TotalGridLabel'));\r\n            for (var i = 1; i < this.pivotTable.columns.count; i++) {\r\n                var totalByCol = 0;\r\n                var rows_1 = this.pivotTable.getCachedRows();\r\n                for (var j = 0; j < rows_1.length; j++) {\r\n                    totalByCol += rows_1[j].getValue(i);\r\n                }\r\n                total_row.push(totalByCol);\r\n            }\r\n            this.pivotTable.addRow(total_row);\r\n            this.contentDiv.classList.add('pivot-grid-totals-row');\r\n        }\r\n        else {\r\n            this.contentDiv.classList.remove('pivot-grid-totals-row');\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.calcAggrFunc = function (func, options) {\r\n        switch (func) {\r\n            case AggrFunc.Sum:\r\n                return this.sum(options);\r\n            case AggrFunc.Average:\r\n                return this.average(options);\r\n            case AggrFunc.Min:\r\n                return this.min(options);\r\n            case AggrFunc.Max:\r\n                return this.max(options);\r\n            case AggrFunc.Count:\r\n                return this.count(options);\r\n            default:\r\n                return 0;\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.sum = function (options) {\r\n        var result = 0;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            result += fieldValue;\r\n        }\r\n        return result;\r\n    };\r\n    PivotTableFacetTab.prototype.average = function (options) {\r\n        var result = 0;\r\n        var count = 0;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            result += fieldValue;\r\n            count++;\r\n        }\r\n        if (count != 0)\r\n            result = result / count;\r\n        return result;\r\n    };\r\n    PivotTableFacetTab.prototype.min = function (options) {\r\n        var min = Number.MAX_SAFE_INTEGER;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            if (fieldValue < min) {\r\n                min = fieldValue;\r\n            }\r\n        }\r\n        if (min == Number.MAX_SAFE_INTEGER)\r\n            return null;\r\n        return min;\r\n    };\r\n    PivotTableFacetTab.prototype.max = function (options) {\r\n        var max = Number.MIN_SAFE_INTEGER;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            if (fieldValue > max) {\r\n                max = fieldValue;\r\n            }\r\n        }\r\n        if (max == Number.MIN_SAFE_INTEGER)\r\n            return null;\r\n        return max;\r\n    };\r\n    PivotTableFacetTab.prototype.count = function (options) {\r\n        var dataTable = this.getContextDataTable();\r\n        var count = 0;\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            count++;\r\n        }\r\n        return count;\r\n    };\r\n    return PivotTableFacetTab;\r\n}(ResultFacetTab));\r\nexport { PivotTableFacetTab };\r\n//# sourceMappingURL=pivot_table_facet_tab.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { addElement } from '@easydata/ui';\r\nimport { ChartWidget } from './chart_widget';\r\nimport { ChartType } from './chart_type';\r\nvar ChartJsWidget = /** @class */ (function (_super) {\r\n    __extends(ChartJsWidget, _super);\r\n    function ChartJsWidget() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.colors = [\r\n            '#4dc9f6',\r\n            '#f67019',\r\n            '#f53794',\r\n            '#537bc4',\r\n            '#acc236',\r\n            '#166a8f',\r\n            '#00a950',\r\n            '#58595b',\r\n            '#8549ba'\r\n        ];\r\n        _this.chartLabels = [];\r\n        _this.chartColumns = [];\r\n        _this.hasChartTypes = [\r\n            ChartType.Column,\r\n            ChartType.Bar,\r\n            ChartType.Line,\r\n            ChartType.Pie\r\n        ];\r\n        return _this;\r\n    }\r\n    ChartJsWidget.prototype.getWidgetType = function () {\r\n        return 'chartChartJs';\r\n    };\r\n    ChartJsWidget.hasChartJs = function () {\r\n        return typeof Chart !== 'undefined';\r\n    };\r\n    ChartJsWidget.prototype.canDraw = function () {\r\n        return ChartJsWidget.hasChartJs();\r\n    };\r\n    ChartJsWidget.prototype.initChart = function () {\r\n        if (ChartJsWidget.hasChartJs() && this.labelColumn >= 0\r\n            && this.dataColumns && this.dataColumns.length > 0) {\r\n            this.updateChartColumns();\r\n        }\r\n    };\r\n    ChartJsWidget.prototype.drawCore = function () {\r\n        if (ChartJsWidget.hasChartJs() && this.dataTable\r\n            && this.dataTable.getCachedCount() > 0) {\r\n            var config = this.generateConfig();\r\n            var chartCanvas = this.getChartCanvas(this.chartDiv);\r\n            var chartContext = chartCanvas.getContext('2d');\r\n            new Chart(chartContext, config);\r\n        }\r\n    };\r\n    ChartJsWidget.prototype.updateChartColumns = function () {\r\n        if (this.dataTable) {\r\n            this.chartLabels = [];\r\n            this.chartColumns = [];\r\n            var rows = this.dataTable.getCachedRows();\r\n            for (var i = 0; i < rows.length; i++) {\r\n                this.chartLabels.push(rows[i].getValue(this.labelColumn));\r\n                this.chartColumns.push(rows[i].getValue(this.dataColumns[0]));\r\n            }\r\n        }\r\n    };\r\n    ChartJsWidget.prototype.getChartCanvas = function (slot) {\r\n        var result;\r\n        //find canvas element\r\n        var canvases = slot.getElementsByTagName('canvas');\r\n        if (canvases && canvases.length > 0) {\r\n            result = canvases[0];\r\n        }\r\n        else {\r\n            result = addElement(slot, 'canvas');\r\n        }\r\n        return result;\r\n    };\r\n    ChartJsWidget.prototype.generateConfig = function () {\r\n        var dataColors = [];\r\n        var datasetName = this.dataTable.columns.get(this.dataColumns[0]).label;\r\n        var displayLegend = true;\r\n        var fillValue = true;\r\n        var borderColor;\r\n        if (this.chartType == ChartType.Pie || this.chartType == ChartType.Bar || this.chartType == ChartType.Column) {\r\n            displayLegend = false;\r\n            for (var i = 0; i < this.chartLabels.length; i++) {\r\n                dataColors.push(this.colors[i % this.colors.length]);\r\n            }\r\n        }\r\n        else {\r\n            dataColors = [this.colors[3]];\r\n        }\r\n        if (this.chartType == ChartType.Line) {\r\n            fillValue = false;\r\n            borderColor = this.colors[3];\r\n        }\r\n        return {\r\n            type: this.getChartType(),\r\n            data: {\r\n                datasets: [{\r\n                        data: this.chartColumns,\r\n                        backgroundColor: dataColors,\r\n                        borderColor: borderColor,\r\n                        label: datasetName,\r\n                        fill: fillValue\r\n                    }],\r\n                labels: this.chartLabels\r\n            },\r\n            options: {\r\n                legend: {\r\n                    display: displayLegend\r\n                },\r\n                title: {\r\n                    display: true,\r\n                    text: datasetName\r\n                }\r\n            }\r\n        };\r\n    };\r\n    ChartJsWidget.prototype.getChartType = function () {\r\n        switch (this.chartType) {\r\n            case ChartType.Column:\r\n                return \"bar\";\r\n            case ChartType.Bar:\r\n                return \"horizontalBar\";\r\n            case ChartType.Line:\r\n                return \"line\";\r\n            case ChartType.Pie:\r\n                return \"pie\";\r\n            default:\r\n                return \"pie\";\r\n        }\r\n    };\r\n    return ChartJsWidget;\r\n}(ChartWidget));\r\nexport { ChartJsWidget };\r\n//# sourceMappingURL=chart_widget_chartjs.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DataType } from '@easydata/core';\r\nimport { ChartWidget } from './chart_widget';\r\nimport { ChartType } from './chart_type';\r\nvar GoogleChartWidget = /** @class */ (function (_super) {\r\n    __extends(GoogleChartWidget, _super);\r\n    function GoogleChartWidget() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.hasChartTypes = [\r\n            ChartType.Column,\r\n            ChartType.Bar,\r\n            ChartType.Combo,\r\n            ChartType.Area,\r\n            ChartType.Line,\r\n            ChartType.Pie\r\n        ];\r\n        return _this;\r\n    }\r\n    GoogleChartWidget.prototype.getWidgetType = function () {\r\n        return 'chartGoogle';\r\n    };\r\n    GoogleChartWidget.prototype.canDraw = function () {\r\n        return GoogleChartWidget.hasGoogleCharts();\r\n    };\r\n    GoogleChartWidget.hasGoogleCharts = function () {\r\n        return typeof google !== 'undefined' && typeof google.charts !== 'undefined';\r\n    };\r\n    GoogleChartWidget.prototype.initChart = function () {\r\n        if (GoogleChartWidget.hasGoogleCharts() && this.labelColumn >= 0\r\n            && this.dataColumns && this.dataColumns.length > 0) {\r\n            this.googleDataView =\r\n                new google.visualization.DataView(this.convertToGoogleFormat());\r\n            this.updateChartColumns();\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.convertToGoogleType = function (type) {\r\n        switch (type) {\r\n            case DataType.Date:\r\n                return \"date\";\r\n            case DataType.DateTime:\r\n                return \"datetime\";\r\n            case DataType.Time:\r\n                return \"timeofday\";\r\n            case DataType.Byte:\r\n            case DataType.Word:\r\n            case DataType.Int32:\r\n            case DataType.Int64:\r\n            case DataType.Currency:\r\n            case DataType.Float:\r\n                return \"number\";\r\n            default:\r\n                return \"string\";\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.convertToGoogleValue = function (value, type) {\r\n        switch (type) {\r\n            case DataType.Bool:\r\n                return value.toString();\r\n            default:\r\n                return value;\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.convertToGoogleFormat = function () {\r\n        var googleTable = new google.visualization.DataTable();\r\n        var columns = this.dataTable.columns;\r\n        for (var i = 0; i < columns.count; i++) {\r\n            var column = columns.get(i);\r\n            googleTable.addColumn(this.convertToGoogleType(column.type), column.label, column.id);\r\n        }\r\n        var rows = this.dataTable.getCachedRows();\r\n        googleTable.addRows(rows.length);\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            for (var j = 0; j < columns.count; j++) {\r\n                googleTable.setCell(i, j, this.convertToGoogleValue(row.getValue(j), columns.get(j).type));\r\n            }\r\n        }\r\n        return googleTable;\r\n    };\r\n    GoogleChartWidget.prototype.drawCore = function () {\r\n        if (this.googleDataView != null) {\r\n            var chartOptions = {\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                chartArea: { width: this.getChartAreaWidth }\r\n            };\r\n            var chart = this.createChart(this.chartDiv);\r\n            chart.draw(this.googleDataView, chartOptions);\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.getChartAreaWidth = function (chartType) {\r\n        if (chartType == ChartType.Pie) {\r\n            return \"100%\";\r\n        }\r\n        else {\r\n            return \"50%\";\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.updateChartColumns = function () {\r\n        if (this.googleDataView) {\r\n            this.googleDataView.setColumns([].concat(this.labelColumn).concat(this.dataColumns));\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.createChart = function (slot) {\r\n        switch (this.chartType) {\r\n            case 3:\r\n                return new google.visualization.ColumnChart(slot);\r\n            case 4:\r\n                return new google.visualization.Histogram(slot);\r\n            case 5:\r\n                return new google.visualization.BarChart(slot);\r\n            case 6:\r\n                return new google.visualization.ComboChart(slot);\r\n            case 7:\r\n                return new google.visualization.AreaChart(slot);\r\n            case 9:\r\n                return new google.visualization.LineChart(slot);\r\n            case 10:\r\n                return new google.visualization.PieChart(slot);\r\n            case 17:\r\n                return new google.visualization.Gauge(slot);\r\n            case 18:\r\n                return new google.visualization.CandlestickChart(slot);\r\n            default:\r\n                return new google.visualization.PieChart(slot);\r\n        }\r\n    };\r\n    return GoogleChartWidget;\r\n}(ChartWidget));\r\nexport { GoogleChartWidget };\r\n//# sourceMappingURL=chart_widget_google.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { ResultFacetTab } from './result_facet_tab';\r\nimport { ChartJsWidget } from '../widgets/charts/chart_widget_chartjs';\r\nimport { GoogleChartWidget } from '../widgets/charts/chart_widget_google';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar ChartFacetTab = /** @class */ (function (_super) {\r\n    __extends(ChartFacetTab, _super);\r\n    function ChartFacetTab() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.title = i18n.getText('Facets', 'Chart', 'FacetTitle');\r\n        _this.dialogTitle = i18n.getText('Facets', 'Chart', 'DlgTitle');\r\n        return _this;\r\n    }\r\n    ChartFacetTab.prototype.init = function (slot) {\r\n        _super.prototype.init.call(this, slot);\r\n        if (GoogleChartWidget.hasGoogleCharts()) {\r\n            this.chart = new GoogleChartWidget(this.contentDiv);\r\n        }\r\n        else {\r\n            this.chart = new ChartJsWidget(this.contentDiv);\r\n        }\r\n        var supportedChartTypes = this.panel.options\r\n            ? this.panel.options.supportedChartTypes\r\n            : null;\r\n        this.chart.init(this.getContext(), {\r\n            showOnPaging: true,\r\n            hideSettings: true,\r\n            supportedChartTypes: supportedChartTypes\r\n        });\r\n        if (this.settings) {\r\n            this.chart.updateSettings(this.settings);\r\n        }\r\n        this.chart.prepareChartData();\r\n        //prevent showing chart tab\r\n        domel(this.slot).hide();\r\n    };\r\n    ChartFacetTab.prototype.destroy = function () {\r\n        if (this.chart) {\r\n            this.chart.destroy();\r\n        }\r\n    };\r\n    ChartFacetTab.prototype.getType = function () {\r\n        return FacetType.Chart;\r\n    };\r\n    ChartFacetTab.prototype.renderFormFields = function (form, fieldsContainer) {\r\n        _super.prototype.renderFormFields.call(this, form, fieldsContainer);\r\n        // Chart type\r\n        var chartTypeSelector = document.createElement('select');\r\n        chartTypeSelector.id = 'chart_type_selector';\r\n        chartTypeSelector.name = 'chart_type_selector';\r\n        for (var _i = 0, _a = this.chart.getSupportedChartTypes(); _i < _a.length; _i++) {\r\n            var ct = _a[_i];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = ct.toString();\r\n            sopt.text = this.chart.getChartTypeName(ct);\r\n            chartTypeSelector.appendChild(sopt);\r\n        }\r\n        chartTypeSelector.value = this.chart.getCurrentChartType().toString();\r\n        // Label column\r\n        var labelColumnSelector = document.createElement('select');\r\n        labelColumnSelector.name = 'label_column_selector';\r\n        labelColumnSelector.id = 'label_column_selector';\r\n        for (var _b = 0, _c = this.chart.getPotentialLabelColumns(); _b < _c.length; _b++) {\r\n            var col = _c[_b];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            labelColumnSelector.appendChild(sopt);\r\n        }\r\n        var labelColumn = this.chart.getLabelColumnIndex();\r\n        if (labelColumn >= 0) {\r\n            labelColumnSelector.value = labelColumn.toString();\r\n        }\r\n        // Data column\r\n        var dataColumnSelector = document.createElement('select');\r\n        dataColumnSelector.id = 'data_column_selector';\r\n        dataColumnSelector.name = 'data_column_selector';\r\n        for (var _d = 0, _e = this.chart.getPotentialDataColumns(); _d < _e.length; _d++) {\r\n            var col = _e[_d];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            dataColumnSelector.appendChild(sopt);\r\n        }\r\n        var dataColumn = this.chart.getDataColumnIndex();\r\n        if (dataColumn >= 0) {\r\n            dataColumnSelector.value = dataColumn.toString();\r\n        }\r\n        var isIE = browserUtils.IsIE();\r\n        var current = fieldsContainer;\r\n        var getCurrent = function () {\r\n            if (isIE) {\r\n                return domel('div', fieldsContainer)\r\n                    .addClass('kfrm-field-ie')\r\n                    .toDOM();\r\n            }\r\n            else {\r\n                return fieldsContainer;\r\n            }\r\n        };\r\n        if (isIE) {\r\n            domel(form)\r\n                .addChildElement(getCurrent());\r\n        }\r\n        else {\r\n            domel(fieldsContainer)\r\n                .addChild('div')\r\n                .addChild('div');\r\n        }\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'chart_type_selector')\r\n            .text(i18n.getText('Facets', 'Chart', 'ChartTypeSelectorLabel')); })\r\n            .addChild('div', function (b) {\r\n            return b\r\n                .addClass('kfrm-select')\r\n                .addChildElement(chartTypeSelector);\r\n        });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'label_column_selector')\r\n            .text(i18n.getText('Facets', 'Chart', 'LabelColumnSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .addChildElement(labelColumnSelector); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'data_column_selector')\r\n            .text(i18n.getText('Facets', 'Chart', 'DataColumnSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .addChildElement(dataColumnSelector); });\r\n    };\r\n    ChartFacetTab.prototype.submitSettingsDialog = function () {\r\n        var result = _super.prototype.submitSettingsDialog.call(this);\r\n        var chartTypeSelector = document.getElementById('chart_type_selector');\r\n        var ct = parseInt(chartTypeSelector.value);\r\n        var labelColumnSelector = document.getElementById('label_column_selector');\r\n        var labelColumn = parseInt(labelColumnSelector.value);\r\n        var dataColumnSelector = document.getElementById('data_column_selector');\r\n        var dataColumn = parseInt(dataColumnSelector.value);\r\n        if (result) {\r\n            this.settings = {\r\n                type: ct,\r\n                labelColumn: labelColumn,\r\n                dataColumn: dataColumn\r\n            };\r\n            this.chart.updateSettings(this.settings);\r\n            if (this.canDisplay()) {\r\n                this.refresh();\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ChartFacetTab.prototype.saveToData = function () {\r\n        var data = _super.prototype.saveToData.call(this);\r\n        if (this.settings) {\r\n            data.chartType = this.settings.type;\r\n            data.labelCol = this.settings.labelColumn;\r\n            data.dataCol = this.settings.dataColumn;\r\n        }\r\n        return data;\r\n    };\r\n    ChartFacetTab.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            this.settings = {\r\n                type: data.chartType,\r\n                dataColumn: data.dataCol,\r\n                labelColumn: data.labelCol\r\n            };\r\n        }\r\n    };\r\n    ChartFacetTab.prototype.refreshCore = function () {\r\n        if (this.chart) {\r\n            this.chart.refresh();\r\n        }\r\n    };\r\n    ChartFacetTab.prototype.onResize = function () {\r\n        this.refresh();\r\n    };\r\n    return ChartFacetTab;\r\n}(ResultFacetTab));\r\nexport { ChartFacetTab };\r\n//# sourceMappingURL=chart_facet_tab.js.map","import { domel } from '@easydata/ui';\r\nimport { i18n } from '@easyquery/core';\r\nvar ExportDialog = /** @class */ (function () {\r\n    function ExportDialog(context) {\r\n        this.context = context;\r\n        this.promise = null;\r\n    }\r\n    ExportDialog.prototype.show = function (defFormat) {\r\n        var _this = this;\r\n        if (defFormat === void 0) { defFormat = null; }\r\n        if (!this.promise) {\r\n            var formats = this.context.getExportFormats();\r\n            if (formats.length == 0)\r\n                throw Error(\"No exporter has been registered.\");\r\n            defFormat = defFormat || formats[0];\r\n            this.promise = new Promise(function (resolve, reject) {\r\n                var ds = _this.context.getServices().getDialogService();\r\n                var body = domel('div')\r\n                    .addClass('kdlg-form-section')\r\n                    .addChild('div', function (b) { return b\r\n                    .addClass('kfrm-form')\r\n                    .addChild('div', function (b) { return b\r\n                    .addClass('kfrm-fields col-a-1 label-align-right')\r\n                    .addChild('label', function (b) { return b\r\n                    .addClass('kdlg-form-label', 'kflex-20')\r\n                    .attr('for', 'export_format')\r\n                    .addText(i18n.getText('ExportDlgTitle')); })\r\n                    .addChild('div', function (b) { return b\r\n                    .addClass('kfrm-select')\r\n                    .addChild('select', function (b) {\r\n                    b\r\n                        .attr('name', 'export_format')\r\n                        .id('exportFormat');\r\n                    for (var _i = 0, _a = _this.context.getExportFormats(); _i < _a.length; _i++) {\r\n                        var format = _a[_i];\r\n                        b.addOption({\r\n                            value: format,\r\n                            title: i18n.getText(format) || format,\r\n                            selected: defFormat == format\r\n                        });\r\n                    }\r\n                }); }); }); })\r\n                    .toDOM();\r\n                ds.open({\r\n                    title: i18n.getText('ExportDlgFmtLabel'),\r\n                    body: body,\r\n                    onSubmit: function () {\r\n                        var format = body.querySelector('#exportFormat').value;\r\n                        _this.context.exportResult({\r\n                            format: format,\r\n                            success: resolve,\r\n                            error: reject\r\n                        });\r\n                        return true;\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        return this.promise.finally(function () { return _this.promise = null; });\r\n    };\r\n    return ExportDialog;\r\n}());\r\nexport { ExportDialog };\r\n//# sourceMappingURL=export_dialog.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup, QueryChangePart, } from '@easyquery/core';\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { DataTableFacetTab } from '../facets/datatable_facet_tab';\r\nimport { ChartFacetTab } from '../facets/chart_facet_tab';\r\nimport { PivotTableFacetTab } from '../facets/pivot_table_facet_tab';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { ExportDialog } from '../dialog/export_dialog';\r\nvar ResultFacetsPanel = /** @class */ (function (_super) {\r\n    __extends(ResultFacetsPanel, _super);\r\n    function ResultFacetsPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.facets = [];\r\n        _this.activeFacetIndex = -1;\r\n        _this.firstRender = true;\r\n        _this.options = {\r\n            showExportButton: true,\r\n            showRefreshButton: true,\r\n            showMaximizeButton: true,\r\n            showProcessIndicator: true\r\n        };\r\n        _this.menuItems = [\r\n            { id: FacetType.DataGrid, text: i18n.getText('Facets', 'AddMenuItems', 'DataTable') },\r\n            { id: FacetType.Chart, text: i18n.getText('Facets', 'AddMenuItems', 'Chart') },\r\n            { id: FacetType.PivotTable, text: i18n.getText('Facets', 'AddMenuItems', 'Pivot') }\r\n        ];\r\n        if (!_this.slot.classList.contains(_this.cssPrefix + \"-panel\")) {\r\n            _this.slot.classList.add(_this.cssPrefix + \"-panel\");\r\n        }\r\n        _this.group = WidgetGroup.Result;\r\n        _this.renderProcessBlock();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ResultFacetsPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-facets';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ResultFacetsPanel.prototype.getWidgetType = function () {\r\n        return 'facetsPanel';\r\n    };\r\n    ResultFacetsPanel.prototype.destroyCore = function () {\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            facet.destroy();\r\n        }\r\n        this.clear();\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    ResultFacetsPanel.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.destroyCore();\r\n        this.attachQueryObserver();\r\n        this.loadFacets();\r\n    };\r\n    ResultFacetsPanel.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    ResultFacetsPanel.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (edata.part != QueryChangePart.All) {\r\n                return;\r\n            }\r\n            if (edata.source == _this) {\r\n                return;\r\n            }\r\n            _this.reloadFacets();\r\n            _this.refreshCore(true);\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.refreshCore = function (force) {\r\n        if (force === void 0) { force = false; }\r\n        if (this.firstRender || force) {\r\n            this.clear();\r\n            this.createAddMenu();\r\n            this.render();\r\n        }\r\n        this.renderActiveFacet();\r\n        this.updateTotalRecords();\r\n    };\r\n    ResultFacetsPanel.prototype.createAddMenu = function () {\r\n        this.addMenu = new PopupMenu({\r\n            items: this.menuItems,\r\n            id: \"FacetType-List\"\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.updateTotalRecords = function () {\r\n        var context = this.getContext();\r\n        var total = context.resultTable.getTotal();\r\n        this.recordsDiv.innerHTML = i18n.getText('Facets', 'TotalRecordsLabel') + ' ' + total;\r\n        if (total == 0) {\r\n            domel(this.exportDiv).hide();\r\n        }\r\n        else {\r\n            domel(this.exportDiv).show();\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.renderProcessBlock = function () {\r\n        var html = '<div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"></div></div>';\r\n        ;\r\n        this._processBlock = domel('div')\r\n            .addClass(this.cssPrefix + \"-spinner\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-progress-win8\", browserUtils.getMobileCssClass())\r\n            .addHtml(html); })\r\n            .toDOM();\r\n    };\r\n    ResultFacetsPanel.prototype.onProcessStartCore = function () {\r\n        if (this.options.showProcessIndicator) {\r\n            // FacetsPanel might be not rendered yet, so \r\n            // it has no body\r\n            if (!this._processBlock.parentNode && this.bodyDiv) {\r\n                this.bodyDiv.childNodes.forEach(function (el) {\r\n                    domel(el).hide();\r\n                });\r\n                this.bodyDiv.appendChild(this._processBlock);\r\n            }\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.onProcessEndCore = function () {\r\n        if (this.options.showProcessIndicator) {\r\n            if (this._processBlock.parentNode) {\r\n                try {\r\n                    this._processBlock.parentNode\r\n                        .removeChild(this._processBlock);\r\n                }\r\n                catch (e) {\r\n                }\r\n                finally {\r\n                    this.renderActiveFacet(false);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.render = function () {\r\n        var _this = this;\r\n        this.firstRender = false;\r\n        this.headerDiv = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-header\")\r\n            .toDOM();\r\n        this.tabsDiv =\r\n            domel('div', this.headerDiv)\r\n                .addClass(this.cssPrefix + \"-tabs\")\r\n                .toDOM();\r\n        this.tabsUl = domel('ul', this.tabsDiv)\r\n            .addClass(this.cssPrefix + \"-nav-tabs\")\r\n            .toDOM();\r\n        this.bodyDiv =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-body\")\r\n                .toDOM();\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            this.renderFacet(facet);\r\n        }\r\n        domel(this.tabsDiv)\r\n            .addChild('div', function (b) { return b\r\n            .addClass(//`${this.cssPrefix}-header-item`, \r\n        _this.cssPrefix + \"-add-button\")\r\n            .addChild('a', function (b) { return b\r\n            .attr('href', 'javascript:void(0)'); })\r\n            .on('click', function (e) { return _this.addClickHandler(e); }); });\r\n        var manageDiv = domel('div', this.headerDiv)\r\n            .addClass(this.cssPrefix + \"-manage\")\r\n            .toDOM();\r\n        this.recordsDiv = domel('div', manageDiv)\r\n            .addClass(this.cssPrefix + \"-total-recs\")\r\n            .toDOM();\r\n        if (this.options.showRefreshButton || this.options.showExportButton || this.options.showMaximizeButton) {\r\n            var bdb = domel('div', manageDiv)\r\n                .addClass(this.cssPrefix + \"-total-buttons\")\r\n                .toDOM();\r\n            if (this.options.showExportButton) {\r\n                this.exportDiv = domel('button', bdb)\r\n                    .on('click', function () { return _this.exportHandler(); })\r\n                    .addClass(this.cssPrefix + \"-button\")\r\n                    .addClass(this.cssPrefix + \"-button-export\")\r\n                    .title(i18n.getText('Facets', 'ExportBtnTitle'))\r\n                    .toDOM();\r\n            }\r\n            if (this.options.showRefreshButton) {\r\n                domel('button', bdb)\r\n                    .on('click', function () { return _this.refreshHandler(); })\r\n                    .addClass(this.cssPrefix + \"-button\")\r\n                    .addClass(this.cssPrefix + \"-button-refresh\")\r\n                    .title(i18n.getText('Facets', 'RefreshBtnTitle'));\r\n            }\r\n            if (this.options.showMaximizeButton) {\r\n                this.maximizeButton = domel('button', bdb)\r\n                    .on('click', function () { return _this.maximizeHandler(); })\r\n                    .addClass(this.cssPrefix + \"-button\")\r\n                    .addClass(this.cssPrefix + \"-button-maximize\")\r\n                    .title(i18n.getText('Facets', 'MaximizeBtnTitle'))\r\n                    .toDOM();\r\n            }\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.refreshHandler = function () {\r\n        var context = this.getContext();\r\n        context.fetchData({\r\n            success: function () {\r\n                // possibly we should move this logic to context\r\n                context.refreshWidgets(WidgetGroup.Result);\r\n            }\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.exportHandler = function () {\r\n        var context = this.getContext();\r\n        new ExportDialog(context).show();\r\n    };\r\n    ResultFacetsPanel.prototype.maximizeHandler = function () {\r\n        var b = domel(this.slot);\r\n        b.toggleClass(eqCssPrefix + \"-maximized-2window\");\r\n        if (this.slot.classList.contains(eqCssPrefix + \"-maximized-2window\")) {\r\n            this.maximizeButton.title = i18n.getText('Facets', 'RestoreBtnTitle');\r\n            this.maximizeButton.classList.toggle(this.cssPrefix + \"-button-maximize\", false);\r\n            this.maximizeButton.classList.toggle(this.cssPrefix + \"-button-restore\", true);\r\n        }\r\n        else {\r\n            this.maximizeButton.title = i18n.getText('Facets', 'MaximizeBtnTitle');\r\n            this.maximizeButton.classList.toggle(this.cssPrefix + \"-button-restore\", false);\r\n            this.maximizeButton.classList.toggle(this.cssPrefix + \"-button-maximize\", true);\r\n        }\r\n        this.facets.forEach(function (facetTab) { return facetTab.onResize(); });\r\n    };\r\n    ResultFacetsPanel.prototype.renderActiveFacet = function (refresh) {\r\n        var _this = this;\r\n        if (refresh === void 0) { refresh = true; }\r\n        this.tabsUl.querySelectorAll('li') //`.${this.cssPrefix}-header-item.${this.cssPrefix}-facet`)\r\n            .forEach(function (el, index) {\r\n            if (el.classList.contains('active')) {\r\n                el.classList.remove('active');\r\n            }\r\n            if (_this.activeFacetIndex === index) {\r\n                el.classList.add('active');\r\n            }\r\n        });\r\n        this.bodyDiv.querySelectorAll(\".\" + eqCssPrefix + \"-facet\")\r\n            .forEach(function (el, index) {\r\n            domel(el).hide();\r\n            if (_this.activeFacetIndex === index) {\r\n                domel(el).show();\r\n                if (refresh) {\r\n                    _this.facets[index].refresh();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.renderFacet = function (facet) {\r\n        this.renderFacetTab(facet);\r\n        var body = this.renderFacetBody(facet);\r\n        facet.init(body);\r\n    };\r\n    ResultFacetsPanel.prototype.renderFacetTab = function (facet) {\r\n        var _this = this;\r\n        return domel('li', this.tabsUl)\r\n            //.addClass(`${this.cssPrefix}-header-item`, `${this.cssPrefix}-facet`)\r\n            //facet settings button\r\n            .addChild('span', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-facet-settings\")\r\n            .on('click', function (e) {\r\n            e.stopPropagation();\r\n            _this.settingsClickHandler(facet);\r\n        }); })\r\n            .addChild('a', function (b) { return b\r\n            .addText(facet.title)\r\n            .attr('href', 'javascript:void(0)'); })\r\n            //facet close button\r\n            .addChild('span', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-facet-close\")\r\n            .on('click', function (e) {\r\n            e.stopPropagation();\r\n            _this.closeClickHandler(facet);\r\n        }); })\r\n            .on('click', function (e) { return _this.selectClickHandler(facet); })\r\n            .toDOM();\r\n    };\r\n    ResultFacetsPanel.prototype.renderFacetBody = function (facet) {\r\n        var element = domel('div', this.bodyDiv)\r\n            .addClass(eqCssPrefix + \"-facet\")\r\n            .hide()\r\n            .toDOM();\r\n        // makeElementMaximizable(element);\r\n        return element;\r\n    };\r\n    ResultFacetsPanel.prototype.refreshFacetTabs = function () {\r\n        var _this = this;\r\n        this.tabsUl.querySelectorAll('li') //`.${this.cssPrefix}-header-item.${this.cssPrefix}-facet`)\r\n            .forEach(function (item) {\r\n            _this.tabsUl.removeChild(item);\r\n        });\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            this.renderFacetTab(facet);\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.removeFacet = function (facet) {\r\n        var index = this.facets.indexOf(facet);\r\n        if (index >= 0) {\r\n            this.facets.splice(index, 1);\r\n            var header = this.tabsUl.childNodes[index];\r\n            this.tabsUl.removeChild(header);\r\n            var body = this.bodyDiv.childNodes[index];\r\n            this.bodyDiv.removeChild(body);\r\n            if (this.facets.length > 0) {\r\n                this.activeFacetIndex =\r\n                    index < this.facets.length\r\n                        ? index\r\n                        : this.facets.length - 1;\r\n            }\r\n            else {\r\n                this.activeFacetIndex = -1;\r\n            }\r\n            this.renderActiveFacet();\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.addClickHandler = function (ev) {\r\n        var _this = this;\r\n        var table = this.getContext().resultTable;\r\n        this.addMenu.showMenu({\r\n            anchor: ev.target,\r\n            itemSelectedCallback: function (data) {\r\n                var facet = _this.createFacetTab(data.id);\r\n                var facetSlot = _this.renderFacetBody(facet);\r\n                facet.init(facetSlot);\r\n                facet.showSettingsDialog()\r\n                    .then(function (submited) {\r\n                    if (submited) {\r\n                        _this.facets.push(facet);\r\n                        _this.activeFacetIndex = _this.facets.length - 1;\r\n                        _this.renderFacetTab(facet);\r\n                        _this.renderActiveFacet();\r\n                        _this.saveFacets();\r\n                    }\r\n                    else {\r\n                        _this.bodyDiv.removeChild(facetSlot);\r\n                    }\r\n                })\r\n                    .catch(function (error) { return console.error(error); });\r\n            }\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.selectClickHandler = function (facet) {\r\n        var index = this.facets.indexOf(facet);\r\n        this.setActiveFacet(index);\r\n    };\r\n    ResultFacetsPanel.prototype.settingsClickHandler = function (facet) {\r\n        var _this = this;\r\n        facet.showSettingsDialog()\r\n            .then(function (submited) {\r\n            if (submited) {\r\n                _this.refreshFacetTabs();\r\n                _this.renderActiveFacet();\r\n                _this.saveFacets();\r\n            }\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n    };\r\n    ResultFacetsPanel.prototype.closeClickHandler = function (facet) {\r\n        var _this = this;\r\n        var ds = this.getDialogService();\r\n        ds.openConfirm(i18n.getText('Facets', 'RemoveFacetDlgTitle'), i18n.getText('Facets', 'RemoveFacetDlgContent')\r\n            .replace('{facetTitle}', facet.title))\r\n            .then(function (confirmed) {\r\n            if (confirmed) {\r\n                _this.removeFacet(facet);\r\n                _this.saveFacets();\r\n            }\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n    };\r\n    ResultFacetsPanel.prototype.clear = function () {\r\n        this.firstRender = true;\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    ResultFacetsPanel.prototype.createDefaultFacetIfNotExist = function () {\r\n        if (this.facets.length === 0) {\r\n            var facet = this.createFacetTab(FacetType.DataGrid);\r\n            this.facets.push(facet);\r\n            this.activeFacetIndex = 0;\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.setActiveFacet = function (index) {\r\n        if (this.activeFacetIndex != index) {\r\n            this.activeFacetIndex = index;\r\n            this.renderActiveFacet();\r\n            this.saveFacets();\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    ResultFacetsPanel.prototype.getDialogService = function () {\r\n        return this.getContext()\r\n            .getServices()\r\n            .getDialogService();\r\n    };\r\n    ResultFacetsPanel.prototype.createFacetTab = function (type) {\r\n        var options = this.options[type];\r\n        switch (type) {\r\n            case FacetType.Chart:\r\n                return new ChartFacetTab(this, options);\r\n            case FacetType.PivotTable:\r\n                return new PivotTableFacetTab(this, options);\r\n            default:\r\n                return new DataTableFacetTab(this, options);\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.saveFacets = function () {\r\n        var query = this.getQuery();\r\n        query.innerData = query.innerData || {};\r\n        query.innerData.facets = {\r\n            active: this.activeFacetIndex,\r\n            items: this.facets.map(function (f) { return f.saveToData(); })\r\n        };\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.ExtraData,\r\n            source: this\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.reloadFacets = function () {\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            facet.destroy();\r\n        }\r\n        this.loadFacets();\r\n    };\r\n    ResultFacetsPanel.prototype.loadFacets = function () {\r\n        var query = this.getQuery();\r\n        this.facets = [];\r\n        if (query.innerData && query.innerData.facets) {\r\n            var items = query.innerData.facets.items;\r\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\r\n                var fd = items_1[_i];\r\n                var facet = this.createFacetTab(fd.type);\r\n                facet.loadFromData(fd);\r\n                this.facets.push(facet);\r\n            }\r\n            var active = query.innerData.facets.active;\r\n            this.activeFacetIndex = (active >= 0)\r\n                ? active\r\n                : this.facets.length - 1;\r\n        }\r\n        else {\r\n            this.createDefaultFacetIfNotExist();\r\n        }\r\n    };\r\n    return ResultFacetsPanel;\r\n}(Widget));\r\nexport { ResultFacetsPanel };\r\n//# sourceMappingURL=result_facets_panel.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\nimport { ExportDialog } from '../dialog/export_dialog';\r\nvar ExportWidget = /** @class */ (function (_super) {\r\n    __extends(ExportWidget, _super);\r\n    function ExportWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            defFormat: 'csv',\r\n            enableExport: true\r\n        };\r\n        _this.clickHandler = function (ev) {\r\n            if (!_this.slot.hasAttribute('disabled'))\r\n                new ExportDialog(_this.context).show(_this.options.defFormat);\r\n        };\r\n        _this.group = WidgetGroup.All;\r\n        return _this;\r\n    }\r\n    ExportWidget.prototype.getWidgetType = function () {\r\n        return 'exportWidget';\r\n    };\r\n    ExportWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.options = dataUtils.assignDeep(this.options, options);\r\n        this.slot.addEventListener('click', this.clickHandler);\r\n    };\r\n    ExportWidget.prototype.refreshCore = function () {\r\n        if (this.options.enableExport && this.context.resultTable\r\n            && this.context.resultTable.getCachedCount() > 0) {\r\n            this.slot.removeAttribute('disabled');\r\n        }\r\n        else {\r\n            this.slot.setAttribute('disabled', '');\r\n        }\r\n    };\r\n    ExportWidget.prototype.destroyCore = function () {\r\n        this.slot.removeAttribute('disabled');\r\n        this.slot.removeEventListener('click', this.clickHandler);\r\n    };\r\n    return ExportWidget;\r\n}(Widget));\r\nexport { ExportWidget };\r\n//# sourceMappingURL=export_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\nvar LocaleWidget = /** @class */ (function (_super) {\r\n    __extends(LocaleWidget, _super);\r\n    /**\r\n    * The default constructor.\r\n    * @param slot The html element.\r\n    */\r\n    function LocaleWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.changeLocale = function () {\r\n            var newLocale = _this.selectEl.value;\r\n            i18n.setCurrentLocale(newLocale);\r\n            _this.context.refreshWidgets(WidgetGroup.All);\r\n        };\r\n        _this.group = WidgetGroup.None;\r\n        return _this;\r\n    }\r\n    LocaleWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    LocaleWidget.prototype.getWidgetType = function () {\r\n        return 'changeLocale';\r\n    };\r\n    LocaleWidget.prototype.render = function () {\r\n        var locales = i18n.getLocales();\r\n        if (locales.length > 1) {\r\n            this.selectEl = document.createElement('select');\r\n            for (var _i = 0, locales_1 = locales; _i < locales_1.length; _i++) {\r\n                var locale = locales_1[_i];\r\n                var optionEl = document.createElement('option');\r\n                optionEl.value = locale.locale;\r\n                optionEl.innerHTML = this.displayLocaleName(locale);\r\n                this.selectEl.appendChild(optionEl);\r\n            }\r\n            this.selectEl.value = i18n.getCurrentLocale();\r\n            this.selectEl.classList.add('eqv-select');\r\n            this.selectEl.addEventListener('change', this.changeLocale);\r\n            this.slot.appendChild(this.selectEl);\r\n        }\r\n    };\r\n    LocaleWidget.prototype.displayLocaleName = function (locale) {\r\n        if (locale.englishName && locale.displayName) {\r\n            return locale.englishName + \" - \" + locale.displayName;\r\n        }\r\n        else if (locale.englishName) {\r\n            return locale.englishName;\r\n        }\r\n        else if (locale.displayName) {\r\n            return locale.displayName;\r\n        }\r\n        return locale.locale;\r\n    };\r\n    LocaleWidget.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    LocaleWidget.prototype.destroyCore = function () {\r\n        this.clear();\r\n    };\r\n    return LocaleWidget;\r\n}(Widget));\r\nexport { LocaleWidget };\r\n//# sourceMappingURL=locale_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\nimport { browserUtils } from '../utils/browser_utils';\r\n/**\r\n * The widget responsed for rendering the name of the current query.\r\n */\r\nvar QueryNameWidget = /** @class */ (function (_super) {\r\n    __extends(QueryNameWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The HTML element where our widget should be placed.\r\n     */\r\n    function QueryNameWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.queryEventCallbackId = null;\r\n        _this.group = WidgetGroup.Query | WidgetGroup.QueryStatus;\r\n        return _this;\r\n    }\r\n    QueryNameWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.destroyCore();\r\n        this.attachQueryObserver();\r\n    };\r\n    Object.defineProperty(QueryNameWidget.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-query-name';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    QueryNameWidget.prototype.getWidgetType = function () {\r\n        return 'queryName';\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    QueryNameWidget.prototype.refreshCore = function () {\r\n        this.render();\r\n    };\r\n    QueryNameWidget.prototype.render = function () {\r\n        this.slot.classList.add(\"\" + this.cssPrefix);\r\n        var mobClass = browserUtils.getMobileCssClass();\r\n        if (mobClass) {\r\n            this.slot.classList.add(mobClass);\r\n        }\r\n        if (!this.nameSlot) {\r\n            this.nameSlot = document.createElement('div');\r\n            this.nameSlot.classList.add(this.cssPrefix + \"-text\");\r\n            this.nameSlot.classList.add(this.cssPrefix + \"-theme\");\r\n            this.slot.appendChild(this.nameSlot);\r\n        }\r\n        if (!this.asteriskSlot) {\r\n            this.asteriskSlot = document.createElement('span');\r\n            this.asteriskSlot.innerHTML = \"*\";\r\n            this.asteriskSlot.classList.add(this.cssPrefix + \"-asterisk\");\r\n            this.slot.appendChild(this.asteriskSlot);\r\n        }\r\n        if (!this.tooltipSlot) {\r\n            this.tooltipSlot = document.createElement('span');\r\n            this.tooltipSlot.classList.add(this.cssPrefix + \"-tooltip\");\r\n            this.tooltipSlot.classList.add(this.cssPrefix + \"-theme\");\r\n            this.slot.appendChild(this.tooltipSlot);\r\n        }\r\n        // Update\r\n        var queryName = this.context.getQuery().getName();\r\n        this.nameSlot.textContent = queryName;\r\n        this.tooltipSlot.textContent = queryName;\r\n        this.asteriskSlot.style.visibility = this.context.getQuery().isModified() ? \"visible\" : \"hidden\";\r\n    };\r\n    QueryNameWidget.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n        this.nameSlot = null;\r\n        this.tooltipSlot = null;\r\n        this.asteriskSlot = null;\r\n    };\r\n    QueryNameWidget.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.context.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            _this.refreshCore();\r\n        });\r\n    };\r\n    QueryNameWidget.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.context.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    QueryNameWidget.prototype.destroyCore = function () {\r\n        this.clear();\r\n        this.detachQueryObserver();\r\n    };\r\n    return QueryNameWidget;\r\n}(Widget));\r\nexport { QueryNameWidget };\r\n//# sourceMappingURL=queryname_widget.js.map","import { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { EqContext, WidgetGroup } from '@easyquery/core';\r\nimport { DefaultDialogService, addElement, domel } from '@easydata/ui';\r\nimport { EasyGridWidget } from '../widgets/easy_grid_widget';\r\nimport { ChartJsWidget } from '../widgets/charts/chart_widget_chartjs';\r\nimport { EntitiesPanel } from '../widgets/entities_panel';\r\nimport { ColumnsPanel } from '../widgets/columns_panel';\r\nimport { ColumnsBar } from '../widgets/columns_bar';\r\nimport { LocaleWidget } from '../widgets/locale_widget';\r\nimport { QueryPanel } from '../widgets/query_panel';\r\nimport { ProcessWidget } from '../widgets/process_widget';\r\nimport { FilterBar } from '../widgets/filter_bar';\r\nimport { SortingBar } from '../widgets/sorting_bar';\r\nimport { QueryNameWidget } from '../widgets/queryname_widget';\r\nimport { StatementPanel } from '../widgets/statement_panel';\r\nimport { ResultFacetsPanel } from '../widgets/result_facets_panel';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { ExportWidget } from '../widgets/export_widget';\r\nvar View = /** @class */ (function () {\r\n    function View() {\r\n        this.domRoots = [document];\r\n        this.defaultViewOptions = {\r\n            enableExport: true,\r\n            disableConfirmationOnQueryChange: false,\r\n            queryFileExtensions: 'text/xml,application/json',\r\n            result: {\r\n                clearResultOnQueryChange: true,\r\n                showChart: true,\r\n                showProcessIndicator: true\r\n            },\r\n            widgets: {\r\n                resultGrid: {\r\n                    addColumns: false\r\n                }\r\n            }\r\n        };\r\n        this.resultOptions = {};\r\n        this.enableExport = false;\r\n        this.resetContext();\r\n        this.renderSpinner();\r\n        this.defaultErrorHandler = function (context, error) {\r\n            console.error(error.action + \": \" + error.text);\r\n            if (error.sourceError) {\r\n                console.error(error.sourceError);\r\n            }\r\n        };\r\n    }\r\n    View.prototype.resetContext = function () {\r\n        this.context = new EqContext();\r\n        this.context\r\n            .getServices()\r\n            .registerDialogServiceResolver(function () { return new DefaultDialogService(); });\r\n    };\r\n    View.prototype.init = function (options) {\r\n        // to support shadow DOM rendering\r\n        if (options && options.shadowRoots)\r\n            this.domRoots = this.domRoots.concat(options.shadowRoots);\r\n        options = this.initOptions(options);\r\n        this.initWidgets(options);\r\n        this.context.init(options);\r\n        this.initDone();\r\n    };\r\n    View.prototype.initDone = function () { };\r\n    View.prototype.initWidgets = function (options) {\r\n        var queryPanel = \"QueryPanel\";\r\n        var columnsPanel = \"ColumnsPanel\";\r\n        var entitiesPanel = \"EntitiesPanel\";\r\n        var resultPanel = \"ResultPanel\";\r\n        var columnsBar = \"ColumnsBar\";\r\n        var sortingBar = \"SortingBar\";\r\n        var filterBar = \"FilterBar\";\r\n        var processBar = \"ProcessBar\";\r\n        var statementPanel = \"StatementPanel\";\r\n        var changeLocale = \"ChangeLocale\";\r\n        var queryNameLabel = \"QueryNameLabel\";\r\n        var facetsPanel = \"ResultFacetsPanel\";\r\n        var resultCount = \"ResultCount\";\r\n        var exportButton = \"ExportButton\";\r\n        if (options.slots) {\r\n            queryNameLabel = options.slots.queryNameLabel || queryNameLabel;\r\n            queryPanel = options.slots.queryPanel || queryPanel;\r\n            columnsPanel = options.slots.columnsPanel || columnsPanel;\r\n            columnsBar = options.slots.columnsBar || columnsBar;\r\n            entitiesPanel = options.slots.entitiesPanel || entitiesPanel;\r\n            resultPanel = options.slots.resultPanel || resultPanel;\r\n            statementPanel = options.slots.statementPanel || statementPanel;\r\n            processBar = options.slots.processBar || processBar;\r\n            changeLocale = options.slots.changeLocale || changeLocale;\r\n            facetsPanel = options.slots.facetsPanel || facetsPanel;\r\n            resultCount = options.slots.resultCountSpan || resultCount;\r\n            filterBar = options.slots.filterBar || filterBar;\r\n            exportButton = options.slots.exportButtons || exportButton;\r\n        }\r\n        var epElement = this.resolveElement(entitiesPanel);\r\n        if (epElement && !this.entitiesPanelWidget) {\r\n            this.entitiesPanelWidget = this.createEntitiesPanelWidget(epElement);\r\n            this.context.addWidget(this.entitiesPanelWidget);\r\n        }\r\n        var cpElement = this.resolveElement(columnsPanel);\r\n        if (cpElement && !this.columnsPanelWidget) {\r\n            this.columnsPanelWidget = this.createColumnsPanelWidget(cpElement);\r\n            this.context.addWidget(this.columnsPanelWidget);\r\n        }\r\n        var cbElement = this.resolveElement(columnsBar);\r\n        if (cbElement && !this.columnsBarWidget) {\r\n            this.columnsBarWidget = this.createColumnsBarWidget(cbElement);\r\n            this.context.addWidget(this.columnsBarWidget);\r\n        }\r\n        var qpElement = this.resolveElement(queryPanel);\r\n        if (qpElement && !this.queryPanelWidget) {\r\n            this.queryPanelWidget = this.createQueryPanelWidget(qpElement);\r\n            this.context.addWidget(this.queryPanelWidget);\r\n        }\r\n        this.resultPanelSlot = this.resolveElement(resultPanel);\r\n        if (this.resultPanelSlot) {\r\n            if (!this.resultGridWidget) {\r\n                var gridPanel = addElement(this.resultPanelSlot, 'div', { cssClass: 'eqv-result-grid' });\r\n                this.resultGridWidget = this.createResultGridWidget(gridPanel);\r\n                this.context.addWidget(this.resultGridWidget);\r\n            }\r\n            if (this.resultOptions.showChart && !this.chartWidget) {\r\n                var chartPanel = addElement(this.resultPanelSlot, 'div', { cssClass: 'eqv-chart-panel' });\r\n                chartPanel.style.display = 'none';\r\n                this.chartWidget = this.createChartWidget(chartPanel);\r\n                this.context.addWidget(this.chartWidget);\r\n            }\r\n        }\r\n        var qnElement = this.resolveElement(queryNameLabel);\r\n        if (qnElement && !this.queryNameWidget) {\r\n            this.queryNameWidget = this.createQueryNameWidget(qnElement);\r\n            this.context.addWidget(this.queryNameWidget);\r\n        }\r\n        var fbElement = this.resolveElement(filterBar);\r\n        if (fbElement && !this.filterBarWidget) {\r\n            this.filterBarWidget = this.createFilterBarWidget(fbElement);\r\n            this.context.addWidget(this.filterBarWidget);\r\n        }\r\n        var sbElement = this.resolveElement(sortingBar);\r\n        if (sbElement && !this.sortingBarWidget) {\r\n            this.sortingBarWidget = this.createSortingBarWidget(sbElement);\r\n            this.context.addWidget(this.sortingBarWidget);\r\n        }\r\n        var pbElement = this.resolveElement(processBar);\r\n        if (pbElement && !this.processWidget) {\r\n            this.processWidget = this.createProcessWidget(pbElement);\r\n            this.context.addWidget(this.processWidget);\r\n        }\r\n        var stElement = this.resolveElement(statementPanel);\r\n        if (stElement && !this.statementPanelWidget) {\r\n            this.statementPanelWidget = this.createStatementPanelWidget(stElement);\r\n            this.context.addWidget(this.statementPanelWidget);\r\n        }\r\n        var clElement = this.resolveElement(changeLocale);\r\n        if (clElement) {\r\n            var widget = this.createLocaleWidget(clElement);\r\n            this.context.addWidget(widget);\r\n        }\r\n        var fpElement = this.resolveElement(facetsPanel);\r\n        if (fpElement && !this.resultFacetPanelWidget) {\r\n            this.resultFacetPanelWidget = this.createResultFacetsPanel(fpElement);\r\n            this.context.addWidget(this.resultFacetPanelWidget);\r\n        }\r\n        var ewElement = this.resolveElement(exportButton);\r\n        if (ewElement && !this.exportWidget) {\r\n            this.exportWidget = this.createExportWidget(ewElement);\r\n            this.context.addWidget(this.exportWidget);\r\n        }\r\n        this.resultCountSlot = this.resolveElement(resultCount);\r\n    };\r\n    View.prototype.resolveElement = function (elementOrId) {\r\n        if (typeof elementOrId === 'string') {\r\n            for (var _i = 0, _a = this.domRoots; _i < _a.length; _i++) {\r\n                var domRoot = _a[_i];\r\n                var el = domRoot.getElementById(elementOrId);\r\n                if (el)\r\n                    return el;\r\n            }\r\n            return null;\r\n        }\r\n        return elementOrId;\r\n    };\r\n    View.prototype.resolveElementsByClassName = function (className) {\r\n        var result = [];\r\n        for (var _i = 0, _a = this.domRoots; _i < _a.length; _i++) {\r\n            var domRoot = _a[_i];\r\n            var elemList = domRoot.querySelectorAll('.' + className);\r\n            for (var i = 0; i < elemList.length; i++) {\r\n                result.push(elemList[i]);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n    * Shows records count.\r\n    * @param count The value to show.\r\n    */\r\n    View.prototype.displayRecordsCount = function (count) {\r\n        if (this.resultCountSlot && (typeof count !== 'undefined')) {\r\n            this.resultCountSlot.style.display = \"inline\";\r\n            this.resultCountSlot.innerHTML = i18n.getText(\"MsgResultCount\").replace(\"{0}\", count.toString());\r\n        }\r\n    };\r\n    View.prototype.initOptions = function (options) {\r\n        if (options) {\r\n            options = dataUtils.assignDeep({}, this.defaultViewOptions, options);\r\n        }\r\n        else {\r\n            options = this.defaultViewOptions;\r\n        }\r\n        if (!options.handlers) {\r\n            options.handlers = {};\r\n        }\r\n        if (!options.handlers.onError) {\r\n            options.handlers.onError = this.defaultErrorHandler;\r\n        }\r\n        if (!options.widgets) {\r\n            options.widgets = {};\r\n        }\r\n        this.resultOptions = dataUtils.assignDeep(this.resultOptions, options.result);\r\n        if (typeof this.resultOptions.showProcessIndicator == 'undefined') {\r\n            this.resultOptions.showProcessIndicator = true;\r\n        }\r\n        else if (options.widgets.facetsPanel) {\r\n            options.widgets.facetsPanel.showProcessIndicator\r\n                = this.resultOptions.showProcessIndicator;\r\n        }\r\n        // support old format \r\n        if (!options.widgets.easyGrid) {\r\n            options.widgets.easyGrid = options.widgets.resultGrid || {};\r\n        }\r\n        options.widgets.easyGrid.paging =\r\n            dataUtils.assignDeep(this.resultOptions.paging, options.widgets.easyGrid.paging);\r\n        this.enableExport = options.enableExport || false;\r\n        if (!options.widgets.exportWidget) {\r\n            options.widgets.exportWidget = {};\r\n        }\r\n        options.widgets.exportWidget.enableExport = this.enableExport;\r\n        return options;\r\n    };\r\n    View.prototype.getContext = function () {\r\n        return this.context;\r\n    };\r\n    /**\r\n     * Sets dialog service for the view\r\n     * @param dialogService The dialog service.\r\n     */\r\n    View.prototype.setDialogService = function (dialogService) {\r\n        this.context.getServices()\r\n            .registerDialogServiceResolver(function () { return dialogService; });\r\n    };\r\n    /** @deprecated `executeQuery` is deprecated. Use `fetchData` instead*/\r\n    View.prototype.executeQuery = function (options) {\r\n        console.warn('`executeQuery` is deprecated. Use `fetchData` instead');\r\n        this.fetchData(options);\r\n    };\r\n    /**\r\n    * Fetches the data according to the query and other options defined in the context.\r\n    * @param options The options.\r\n    */\r\n    View.prototype.fetchData = function (options) {\r\n        var _this = this;\r\n        options = options || { refresh: true };\r\n        this.showResultSpinner();\r\n        this.context.fetchData({\r\n            options: {\r\n                page: options.page,\r\n                pageSize: options.pageSize\r\n            },\r\n            success: function (result) {\r\n                _this.hideResultSpinner();\r\n                _this.toggleExportButtons();\r\n                _this.displayRecordsCount(_this.context.resultTable.getTotal());\r\n                if (options.refresh === true) {\r\n                    _this.context.refreshWidgets(WidgetGroup.Result);\r\n                }\r\n                if (options.callback) {\r\n                    options.callback();\r\n                }\r\n                if (options.success) {\r\n                    options.success();\r\n                }\r\n            },\r\n            error: function () {\r\n                _this.hideResultSpinner();\r\n            }\r\n        });\r\n    };\r\n    View.prototype.toggleExportButtons = function () {\r\n        if (this.enableExport && this.context.resultTable\r\n            && this.context.resultTable.getCachedCount() > 0) {\r\n            this.enableExportButtons();\r\n        }\r\n        else {\r\n            this.disableExportButtons();\r\n        }\r\n    };\r\n    View.prototype.enableExportButtons = function () {\r\n        // Nothing to do\r\n    };\r\n    View.prototype.disableExportButtons = function () {\r\n        // Nothing to do\r\n    };\r\n    View.prototype.renderSpinner = function () {\r\n        var html = '<div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"></div></div>';\r\n        ;\r\n        this._spinnerDiv = domel('div')\r\n            .addClass(\"eqjs-result-spinner\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-progress-win8\", browserUtils.getMobileCssClass())\r\n            .addHtml(html); })\r\n            .toDOM();\r\n    };\r\n    View.prototype.showResultSpinner = function () {\r\n        if (this.resultOptions.showProcessIndicator && this.resultPanelSlot) {\r\n            if (!this._spinnerDiv.parentNode) {\r\n                for (var i = 0; i < this.resultPanelSlot.children.length; i++) {\r\n                    var el = this.resultPanelSlot.children[i];\r\n                    domel(el).hide();\r\n                }\r\n                this.resultPanelSlot.appendChild(this._spinnerDiv);\r\n            }\r\n        }\r\n    };\r\n    View.prototype.hideResultSpinner = function () {\r\n        if (this.resultOptions.showProcessIndicator && this.resultPanelSlot) {\r\n            if (this._spinnerDiv.parentNode) {\r\n                this._spinnerDiv.parentNode.removeChild(this._spinnerDiv);\r\n                for (var i = 0; i < this.resultPanelSlot.children.length; i++) {\r\n                    var el = this.resultPanelSlot.children[i];\r\n                    domel(el).show();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Creates the widget that represents Chart Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createChartWidget = function (slotElement) {\r\n        if (this.resultOptions.chartWidgetResolver) {\r\n            return this.resultOptions.chartWidgetResolver(slotElement);\r\n        }\r\n        else {\r\n            return new ChartJsWidget(slotElement);\r\n        }\r\n    };\r\n    /**\r\n    * Creates the widget that represents Grid Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createResultGridWidget = function (slotElement) {\r\n        if (this.resultOptions.resultGridResolver) {\r\n            return this.resultOptions.resultGridResolver(slotElement);\r\n        }\r\n        else {\r\n            return new EasyGridWidget(slotElement);\r\n        }\r\n    };\r\n    /**\r\n    * Creates the widget that represents Entity Panel.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createEntitiesPanelWidget = function (slot) {\r\n        return new EntitiesPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Columns Panel.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createColumnsPanelWidget = function (slot) {\r\n        return new ColumnsPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Query Panel.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createQueryPanelWidget = function (slot) {\r\n        return new QueryPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Locale Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createLocaleWidget = function (slot) {\r\n        return new LocaleWidget(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Process Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createProcessWidget = function (slot) {\r\n        return new ProcessWidget(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Columns Bar.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createColumnsBarWidget = function (slot) {\r\n        return new ColumnsBar(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Filter Bar.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createFilterBarWidget = function (slot) {\r\n        return new FilterBar(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Sorting Bar.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createSortingBarWidget = function (slot) {\r\n        return new SortingBar(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Query Name Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createQueryNameWidget = function (slot) {\r\n        return new QueryNameWidget(slot);\r\n    };\r\n    /**\r\n     * Creates the widget that represents Statement Panel Widget.\r\n     * @param slot\r\n     */\r\n    View.prototype.createStatementPanelWidget = function (slot) {\r\n        return new StatementPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Result Facets Panel Widget.\r\n    * @param slot\r\n    */\r\n    View.prototype.createResultFacetsPanel = function (slot) {\r\n        return new ResultFacetsPanel(slot);\r\n    };\r\n    /**\r\n     * Creates the widget that represents Export funcionality.\r\n     * @param slot\r\n     */\r\n    View.prototype.createExportWidget = function (slot) {\r\n        return new ExportWidget(slot);\r\n    };\r\n    View.prototype.detach = function () {\r\n        if (this.entitiesPanelWidget) {\r\n            this.entitiesPanelWidget.destroy();\r\n            this.entitiesPanelWidget = null;\r\n        }\r\n        if (this.columnsPanelWidget) {\r\n            this.columnsPanelWidget.destroy();\r\n            this.columnsPanelWidget = null;\r\n        }\r\n        if (this.queryPanelWidget) {\r\n            this.queryPanelWidget.destroy();\r\n            this.queryPanelWidget = null;\r\n        }\r\n        if (this.columnsBarWidget) {\r\n            this.columnsBarWidget.destroy();\r\n            this.columnsBarWidget = null;\r\n        }\r\n        if (this.resultGridWidget) {\r\n            this.resultGridWidget.destroy();\r\n            this.resultGridWidget = null;\r\n        }\r\n        if (this.chartWidget) {\r\n            this.chartWidget.destroy();\r\n            this.chartWidget = null;\r\n        }\r\n        if (this.queryNameWidget) {\r\n            this.queryNameWidget.destroy();\r\n            this.queryNameWidget = null;\r\n        }\r\n        if (this.processWidget) {\r\n            this.processWidget.destroy();\r\n            this.processWidget = null;\r\n        }\r\n        if (this.localeWidget) {\r\n            this.localeWidget.destroy();\r\n            this.localeWidget = null;\r\n        }\r\n        if (this.statementPanelWidget) {\r\n            this.statementPanelWidget.destroy();\r\n            this.statementPanelWidget = null;\r\n        }\r\n        if (this.filterBarWidget) {\r\n            this.filterBarWidget.destroy();\r\n            this.filterBarWidget = null;\r\n        }\r\n        if (this.sortingBarWidget) {\r\n            this.sortingBarWidget.destroy();\r\n            this.sortingBarWidget = null;\r\n        }\r\n        if (this.statementWidget) {\r\n            this.statementWidget.destroy();\r\n            this.statementWidget = null;\r\n        }\r\n        if (this.exportWidget) {\r\n            this.exportWidget.destroy();\r\n            this.exportWidget = null;\r\n        }\r\n        if (this.resultFacetPanelWidget) {\r\n            this.resultFacetPanelWidget.destroy();\r\n            this.resultFacetPanelWidget = null;\r\n        }\r\n        if (this.resultCountSlot) {\r\n            this.resultCountSlot.innerHTML = '';\r\n            this.resultCountSlot = null;\r\n        }\r\n        if (this.resultPanelSlot) {\r\n            this.resultPanelSlot.innerHTML = '';\r\n            this.resultPanelSlot = null;\r\n        }\r\n        this.domRoots = [document];\r\n        this.resetContext();\r\n    };\r\n    return View;\r\n}());\r\nexport { View };\r\n//# sourceMappingURL=view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { QueryChangePart, WidgetGroup } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { View } from '../views/view';\r\n/**\r\n * The EasyQuery client-side view that represents the UI for advanced search page\r\n */\r\nvar AdvancedSearchView = /** @class */ (function (_super) {\r\n    __extends(AdvancedSearchView, _super);\r\n    function AdvancedSearchView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.exportButtons = [];\r\n        // Name of the class to add to disabled elements.\r\n        _this.disabledClass = \"eqjs-disabled\";\r\n        _this.dropdownContainerClass = \"eqv-dropdown-container\";\r\n        _this.dropdownButtonClass = \"eqv-drop-button\";\r\n        _this.dropdownContentClass = \"eqv-dropdown-content\";\r\n        _this.dropdownShowClass = \"eqv-dropdown-show\";\r\n        _this._querySaveTemplate = \"<div id=\\\"kdlg-dialog-form\\\" class=\\\"kfrm-form\\\">\\n            <div class=\\\"kfrm-fields label-above\\\">\\n                <label for=\\\"kdlg-dialog-form-input\\\" id=\\\"kdlg-dialog-form-content\\\"></label>\\n                <input type=\\\"text\\\" name=\\\"kdlg-dialog-form-input\\\" id=\\\"kdlg-dialog-form-input\\\" />\\n            </div>\\n        </div>\";\r\n        _this.queryListMenu = null;\r\n        _this.fetchDataButtonClickHandler = _this.fetchDataButtonClick.bind(_this);\r\n        _this.clearQueryButtonClickHandler = _this.clearQueryButtonClick.bind(_this);\r\n        _this.newQueryButtonClickHandler = _this.newQueryButtonClick.bind(_this);\r\n        _this.loadQueryButtonClickHandler = _this.loadQueryButtonClick.bind(_this);\r\n        _this.saveQueryButtonClickHandler = _this.saveQueryButtonClick.bind(_this);\r\n        _this.copyQueryButtonClickHandler = _this.copyQueryButtonClick.bind(_this);\r\n        _this.removeQueryButtonClickHandler = _this.removeQueryButtonClick.bind(_this);\r\n        _this.storageButtonClickHandler = _this.storageDropButtonClick.bind(_this);\r\n        _this.saveQueryToFileButtonClickHandler = _this.saveQueryToFileButtonClick.bind(_this);\r\n        _this.loadQueryFromFileButtonClickHandler = _this.loadQueryFromFileButtonClick.bind(_this);\r\n        var self = _this;\r\n        _this.exportButtonClickHandler = function (e) {\r\n            if (!this.classList.contains(self.disabledClass)) {\r\n                var format = this.getAttribute(\"data-format\");\r\n                self.getContext().exportResult({ format: format });\r\n            }\r\n        };\r\n        _this.queryChangedHandler = function (ev) {\r\n            var eventData = ev.data;\r\n            if (_this.resultOptions.clearResultOnQueryChange) {\r\n                _this.context.clearResult();\r\n                _this.context.refreshWidgets(WidgetGroup.Result);\r\n            }\r\n            _this.disableExportButtons();\r\n            if (_this.resultCountSlot) {\r\n                _this.resultCountSlot.style.display = \"none\";\r\n            }\r\n            if (_this.options.syncQueryOnChange) {\r\n                _this.syncQuery();\r\n            }\r\n            // if (this.options.executeQueryOnChange) {\r\n            //     console.warn('`options.executeQueryOnChange` is deprecated. Use fetchDataOnChange instead');\r\n            //     this.options.fetchDataOnChange = true;\r\n            // }\r\n            if (_this.options.fetchDataOnChange) {\r\n                if (!eventData || eventData.part != QueryChangePart.ExtraData) {\r\n                    _this.fetchData();\r\n                }\r\n            }\r\n        };\r\n        _this.outsideClickHandler = function (event) {\r\n            var currentContent = null;\r\n            if (event.target.matches(\".\" + _this.dropdownButtonClass)) {\r\n                currentContent = event.target.parentElement.querySelector(\".\" + _this.dropdownContentClass);\r\n            }\r\n            else if (event.target.matches(\".\" + _this.dropdownButtonClass + \" > span\")) {\r\n                currentContent = event.target.parentElement.parentElement.querySelector(\".\" + _this.dropdownContentClass);\r\n            }\r\n            var dropdowns = _this.resolveElementsByClassName(_this.dropdownContentClass);\r\n            for (var i = 0; i < dropdowns.length; i++) {\r\n                var openDropdown = dropdowns[i];\r\n                if (currentContent != openDropdown) {\r\n                    if (openDropdown.classList.contains(_this.dropdownShowClass)) {\r\n                        openDropdown.classList.remove(_this.dropdownShowClass);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    AdvancedSearchView.prototype.refreshQueryList = function () {\r\n        var _this = this;\r\n        if (this.queryListPanel) {\r\n            this.queryListPanel.innerHTML = '';\r\n            this.context.loadQueryList({\r\n                success: function (data) {\r\n                    var b = domel('ul', _this.queryListPanel)\r\n                        .addClass('list-group list-group-flush');\r\n                    data.map(function (item) {\r\n                        b.addChild('li', function (b) {\r\n                            b.addClass('list-group-item')\r\n                                .setStyle('cursor', 'pointer')\r\n                                .data('id', item.id)\r\n                                .text(item.name)\r\n                                .on('click', function () {\r\n                                _this.checkIfQueryModified(function () { return _this.loadQuery(item.id); });\r\n                            });\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.initOptions = function (options) {\r\n        this.options = _super.prototype.initOptions.call(this, options);\r\n        if (typeof (this.options.syncQueryOnChange) == 'undefined') {\r\n            this.options.syncQueryOnChange = true;\r\n        }\r\n        var query = this.context.getQuery();\r\n        query.addChangedCallback(this.queryChangedHandler);\r\n        // hide any dropdown menu when user clicks somewhere\r\n        window.addEventListener('click', this.outsideClickHandler);\r\n        return this.options;\r\n    };\r\n    AdvancedSearchView.prototype.initWidgets = function (options) {\r\n        var _this = this;\r\n        _super.prototype.initWidgets.call(this, options);\r\n        var exportClass = \"eqjs-export\";\r\n        var queryContentInputId = \"QueryContentJson\";\r\n        var clearQueryButtonId = \"ClearQueryButton\";\r\n        var newQueryButtonId = \"NewQueryButton\";\r\n        var loadQueryButtonId = \"LoadQueryButton\";\r\n        var saveQueryButtonId = \"SaveQueryButton\";\r\n        var copyQueryButtonId = \"CopyQueryButton\";\r\n        var removeQueryButtonId = \"RemoveQueryButton\";\r\n        var storageButtonId = \"StorageDropButton\";\r\n        var fetchDataButtonId = \"FetchDataButton\";\r\n        var loadQueryFromFileButtonId = \"LoadQueryFromFileButton\";\r\n        var saveQueryToFileButtonId = \"SaveQueryToFileButton\";\r\n        var queryListPanelId = \"QueryListPanel\";\r\n        if (options.slots) {\r\n            queryContentInputId = options.slots.queryContentInput || queryContentInputId;\r\n            fetchDataButtonId = options.slots.fetchDataButton || fetchDataButtonId;\r\n            clearQueryButtonId = options.slots.clearQueryButton || clearQueryButtonId;\r\n            newQueryButtonId = options.slots.newQueryButton || newQueryButtonId;\r\n            loadQueryButtonId = options.slots.loadQueryButton || loadQueryButtonId;\r\n            saveQueryButtonId = options.slots.saveQueryButton || saveQueryButtonId;\r\n            copyQueryButtonId = options.slots.copyQueryButton || copyQueryButtonId;\r\n            removeQueryButtonId = options.slots.removeQueryButton || removeQueryButtonId;\r\n            storageButtonId = options.slots.storageButton || storageButtonId;\r\n            exportClass = options.slots.exportClass || exportClass;\r\n            loadQueryFromFileButtonId = options.slots.loadQueryFromFileButton || loadQueryFromFileButtonId;\r\n            saveQueryToFileButtonId = options.slots.saveQueryToFileButton || saveQueryToFileButtonId;\r\n            queryListPanelId = options.slots.queryListPanel || queryListPanelId;\r\n        }\r\n        this.exportButtons = this.domRoots.reduce(function (elems, root) {\r\n            return elems.concat(Array.from(root.querySelectorAll(\".\" + exportClass)));\r\n        }, []);\r\n        if (!options.enableExport) {\r\n            this.hideExportButtons();\r\n        }\r\n        this.disableExportButtons();\r\n        //Add event listener for export buttons\r\n        var self = this;\r\n        this.exportButtons.forEach(function (button) {\r\n            button.addEventListener('click', _this.exportButtonClickHandler);\r\n        });\r\n        if (!this.fetchDataButton) {\r\n            this.fetchDataButton = this.resolveElement(fetchDataButtonId);\r\n            if (!this.fetchDataButton) {\r\n                this.fetchDataButton = this.resolveElement('ExecuteQueryButton'); //deprecated, should be removed on the next major update\r\n            }\r\n            if (this.fetchDataButton) {\r\n                this.fetchDataButton.addEventListener('click', this.fetchDataButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.clearQueryButton) {\r\n            this.clearQueryButton = this.resolveElement(clearQueryButtonId);\r\n            if (this.clearQueryButton) {\r\n                this.clearQueryButton.addEventListener('click', this.clearQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.newQueryButton) {\r\n            this.newQueryButton = this.resolveElement(newQueryButtonId);\r\n            if (this.newQueryButton) {\r\n                this.newQueryButton.addEventListener('click', this.newQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.loadQueryButton) {\r\n            this.loadQueryButton = this.resolveElement(loadQueryButtonId);\r\n            if (this.loadQueryButton) {\r\n                this.loadQueryButton.addEventListener('click', this.loadQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.saveQueryButton) {\r\n            this.saveQueryButton = this.resolveElement(saveQueryButtonId);\r\n            if (this.saveQueryButton) {\r\n                this.saveQueryButton.addEventListener('click', this.saveQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.copyQueryButton) {\r\n            this.copyQueryButton = this.resolveElement(copyQueryButtonId);\r\n            if (this.copyQueryButton) {\r\n                this.copyQueryButton.addEventListener('click', this.copyQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.removeQueryButton) {\r\n            this.removeQueryButton = this.resolveElement(removeQueryButtonId);\r\n            if (this.removeQueryButton) {\r\n                this.removeQueryButton.addEventListener('click', this.removeQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.storageDropButton) {\r\n            this.storageDropButton = this.resolveElement(storageButtonId);\r\n            if (this.storageDropButton) {\r\n                this.storageDropButton.addEventListener('click', this.storageButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.saveQueryToFileButton) {\r\n            this.saveQueryToFileButton = this.resolveElement(saveQueryToFileButtonId);\r\n            if (this.saveQueryToFileButton) {\r\n                this.saveQueryToFileButton.addEventListener('click', this.saveQueryToFileButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.queryListPanel) {\r\n            this.queryListPanel = this.resolveElement(queryListPanelId);\r\n            //For backward compatibility. Remove on the next update\r\n            if (!this.queryListPanel) {\r\n                this.queryListPanel = this.resolveElement('QueryListSlot');\r\n            }\r\n            if (this.queryListPanel) {\r\n                this.context.addEventListener('ready', function () {\r\n                    _this.refreshQueryList();\r\n                });\r\n            }\r\n        }\r\n        if (!this.loadQueryFromFileButton) {\r\n            this.loadQueryFromFileButton = this.resolveElement(loadQueryFromFileButtonId);\r\n            if (this.loadQueryFromFileButton) {\r\n                this.loadQueryFromFileInput = document.createElement('input');\r\n                this.loadQueryFromFileInput.type = 'file';\r\n                this.loadQueryFromFileInput.accept = options.queryFileExtensions;\r\n                this.loadQueryFromFileInput.style.display = 'none';\r\n                document.body.appendChild(this.loadQueryFromFileInput);\r\n                this.loadQueryFromFileInput.addEventListener('change', this.loadQueryFromFileInputSelect.bind(this));\r\n                this.loadQueryFromFileButton.addEventListener('click', this.loadQueryFromFileButtonClickHandler);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Sends current query to the backend.\r\n    */\r\n    AdvancedSearchView.prototype.syncQuery = function () {\r\n        var _this = this;\r\n        this.context.syncQuery({\r\n            success: function (responseData) {\r\n                if (responseData.statement) {\r\n                    _this.context.refreshWidgets(WidgetGroup.Statement);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Disables export buttons.\r\n    */\r\n    AdvancedSearchView.prototype.disableExportButtons = function () {\r\n        var _this = this;\r\n        this.exportButtons.forEach(function (button) {\r\n            button.disabled = true;\r\n            if (!button.classList.contains(_this.disabledClass)) {\r\n                button.classList.add(_this.disabledClass);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Enables export buttons.\r\n    */\r\n    AdvancedSearchView.prototype.enableExportButtons = function () {\r\n        var _this = this;\r\n        this.exportButtons.forEach(function (button) {\r\n            button.disabled = false;\r\n            if (button.classList.contains(_this.disabledClass)) {\r\n                button.classList.remove(_this.disabledClass);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Hides export buttons.\r\n    */\r\n    AdvancedSearchView.prototype.hideExportButtons = function () {\r\n        this.exportButtons.forEach(function (button) {\r\n            button.style.display = \"none\";\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.clearQueryButtonClick = function () {\r\n        this.context.clearQuery();\r\n        this.context.refreshWidgets(WidgetGroup.Statement);\r\n    };\r\n    AdvancedSearchView.prototype.createNewQuery = function (options) {\r\n        return this.context.newQuery(options);\r\n    };\r\n    AdvancedSearchView.prototype.loadQuery = function (queryId) {\r\n        if (!queryId)\r\n            return;\r\n        this.context.loadQuery({\r\n            queryId: queryId,\r\n            silent: false\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveQuery = function (success, error) {\r\n        var _this = this;\r\n        this.context.saveQuery({\r\n            success: function () {\r\n                if (success)\r\n                    success();\r\n                _this.context.getQuery().fireChangedEvent({\r\n                    part: QueryChangePart.Properties,\r\n                    wasModified: false\r\n                });\r\n                _this.refreshQueryList();\r\n            },\r\n            error: error\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveCurrentQuery = function (copyQuery, callback) {\r\n        var _this = this;\r\n        if (copyQuery === void 0) { copyQuery = false; }\r\n        var query = this.context.getQuery();\r\n        if (query.isNewbie || copyQuery) {\r\n            this.showSaveQueryDialog(function (result) { return new Promise(function (resolve) {\r\n                if (!result)\r\n                    return;\r\n                query.regenerateId();\r\n                query.setName(result);\r\n                query.fireChangedEvent({\r\n                    part: QueryChangePart.Properties,\r\n                    wasModified: true\r\n                });\r\n                _this.saveQuery(function () { resolve({ success: true }); callback; }, function (error) { return resolve({ success: false, message: error }); });\r\n            }); });\r\n        }\r\n        else {\r\n            this.saveQuery(callback);\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.checkIfQueryModified = function (callback) {\r\n        var _this = this;\r\n        if (this.context.getQuery().isModified()\r\n            && !this.options.disableConfirmationOnQueryChange) {\r\n            this.showQueryChangedDialog(function (result) {\r\n                if (result) {\r\n                    _this.saveCurrentQuery(false, callback);\r\n                }\r\n                else {\r\n                    callback();\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            callback();\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.removeCurrentQuery = function () {\r\n        var _this = this;\r\n        this.context.removeQuery({\r\n            success: function () {\r\n                _this.createNewQuery({\r\n                    useStorage: false\r\n                });\r\n                if (_this.resultCountSlot) {\r\n                    _this.resultCountSlot.style.display = \"none\";\r\n                }\r\n                _this.context.clearResult();\r\n                _this.refreshQueryList();\r\n            }\r\n        });\r\n    };\r\n    // ------------------ Dialog wrappers ---------------------\r\n    AdvancedSearchView.prototype.showNewQueryDialog = function (callback) {\r\n        var ds = this.context.getServices().getDialogService();\r\n        var defVal = i18n.getText('NewQueryDefName');\r\n        var dlg = ds.open({\r\n            title: i18n.getText('NewQueryTitle'),\r\n            body: this._querySaveTemplate,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                if (defVal) {\r\n                    input.value = defVal;\r\n                }\r\n                var content = document.getElementById('kdlg-dialog-form-content');\r\n                content.innerHTML = i18n.getText('NewQueryContent');\r\n                input.focus();\r\n            },\r\n            onSubmit: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                var value = input.value;\r\n                if (value && value.replace(/\\s/g, '').length > 0) {\r\n                    if (!callback)\r\n                        return true;\r\n                    dlg.disableButtons();\r\n                    var header_1 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_1 = domel('div', header_1)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    callback(value)\r\n                        .then(function (result) {\r\n                        header_1.removeChild(processEl_1);\r\n                        dlg.enableButtons();\r\n                        if (result.success) {\r\n                            dlg.close();\r\n                        }\r\n                        else {\r\n                            dlg.showAlert(result.message, 'error');\r\n                        }\r\n                    });\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.showQueryChangedDialog = function (callback) {\r\n        var ds = this.context.getServices().getDialogService();\r\n        ds.openConfirm(i18n.getText('QueryChangedTitle'), i18n.getText('QueryChangedContent'), callback);\r\n    };\r\n    AdvancedSearchView.prototype.showSaveQueryDialog = function (callback) {\r\n        var ds = this.context.getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        var newQueryName = query.isNewbie\r\n            ? query.getName()\r\n            : i18n.getText('SaveQueryDefName').replace('{queryName}', query.getName());\r\n        var dlg = ds.open({\r\n            title: i18n.getText('SaveQueryTitle'),\r\n            body: this._querySaveTemplate,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                input.value = newQueryName;\r\n                var content = document.getElementById('kdlg-dialog-form-content');\r\n                content.innerHTML = i18n.getText('SaveQueryContent');\r\n                input.focus();\r\n            },\r\n            onSubmit: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                var value = input.value;\r\n                if (value && value.replace(/\\s/g, '').length > 0) {\r\n                    if (!callback)\r\n                        return true;\r\n                    dlg.disableButtons();\r\n                    var header_2 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_2 = domel('div', header_2)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    callback(value)\r\n                        .then(function (result) {\r\n                        dlg.enableButtons();\r\n                        header_2.removeChild(processEl_2);\r\n                        if (result.success) {\r\n                            dlg.close();\r\n                        }\r\n                        else {\r\n                            dlg.showAlert(result.message, 'error');\r\n                        }\r\n                    });\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.showRemoveQueryDialog = function (callback) {\r\n        var ds = this.context.getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        ds.openConfirm(i18n.getText('RemoveQueryTitle'), i18n.getText('RemoveQueryContent').replace('{queryName}', query.getName()), callback);\r\n    };\r\n    AdvancedSearchView.prototype.showSaveQueryToFileDialog = function (callback) {\r\n        var ds = this.getContext().getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        var body = this.renderSaveToFileDialogBody(query.getName());\r\n        var dlg = ds.open({\r\n            title: i18n.getText('SaveQueryToFileDlgTitle'),\r\n            body: body,\r\n            onSubmit: function () {\r\n                var fileNameInput = body.querySelector('#kdlgFileNameInput');\r\n                var fileName = fileNameInput ? fileNameInput.value : \"Query\";\r\n                var formatSelector = body.querySelector('#kdlgFileFormatSelector');\r\n                var format = formatSelector ? formatSelector.value : 'json';\r\n                if (callback) {\r\n                    dlg.disableButtons();\r\n                    var header_3 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_3 = domel('div', header_3)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    callback(fileName, format)\r\n                        .then(function (result) {\r\n                        dlg.enableButtons();\r\n                        header_3.removeChild(processEl_3);\r\n                        if (result.success) {\r\n                            dlg.close();\r\n                        }\r\n                        else {\r\n                            dlg.showAlert(result.message, 'error');\r\n                        }\r\n                    });\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.renderSaveToFileDialogBody = function (name, format) {\r\n        if (format === void 0) { format = \"json\"; }\r\n        var isIE = browserUtils.IsIE();\r\n        var fieldsClass = isIE\r\n            ? 'kfrm-fields-ie col-ie-1-4 label-align-right'\r\n            : 'kfrm-fields col-a-1 label-align-right';\r\n        var horizClass = isIE\r\n            ? 'kfrm-fields-ie is-horizontal'\r\n            : 'kfrm-fields is-horizontal';\r\n        return domel('div')\r\n            .addClass('kfrm-form')\r\n            .addChild('div', function (b) {\r\n            b.addClass(fieldsClass)\r\n                .addChild('label', function (b) { return b\r\n                .attr('for', 'file_name')\r\n                .addText(i18n.getText('FileNameLabel')); })\r\n                .addChild('div', function (b) { return b\r\n                .addClass(horizClass)\r\n                .addChild('input', function (b) { return b\r\n                .id('kdlgFileNameInput')\r\n                .name('file_name')\r\n                .type('text')\r\n                .attr('value', name); })\r\n                .addChild('label', function (b) { return b\r\n                .addText('.'); })\r\n                .addChild('div', function (b) { return b\r\n                .addClass('kfrm-select')\r\n                .addChild('select', function (b) { return b\r\n                .id('kdlgFileFormatSelector')\r\n                .addClass('kdlg-form-control')\r\n                .addOption({\r\n                value: 'xml',\r\n                selected: 'xml' === format\r\n            })\r\n                .addOption({\r\n                value: 'json',\r\n                selected: 'json' === format\r\n            }); }); }); });\r\n        })\r\n            .toDOM();\r\n    };\r\n    // ------------------ Query management buttons handler ---------------------\r\n    AdvancedSearchView.prototype.newQueryButtonClick = function () {\r\n        var _this = this;\r\n        this.checkIfQueryModified(function () {\r\n            _this.createNewQuery();\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveQueryToFileButtonClick = function () {\r\n        var _this = this;\r\n        this.showSaveQueryToFileDialog(function (fileName, format) { return new Promise(function (resolve) {\r\n            _this.context.getQueryFile({\r\n                fileName: fileName,\r\n                format: format,\r\n                success: function () { return resolve({ success: true }); },\r\n                error: function (error) { return resolve({ success: false, message: error }); }\r\n            });\r\n        }); });\r\n    };\r\n    AdvancedSearchView.prototype.loadQueryFromFileButtonClick = function () {\r\n        var _this = this;\r\n        this.checkIfQueryModified(function () {\r\n            _this.showLoadQueryFromFileDialog();\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.showLoadQueryFromFileDialog = function () {\r\n        this.loadQueryFromFileInput.click();\r\n    };\r\n    AdvancedSearchView.prototype.loadQueryFromFileInputSelect = function () {\r\n        var _this = this;\r\n        var files = this.loadQueryFromFileInput.files;\r\n        var file = files.item(0);\r\n        var data = new FormData();\r\n        data.append(file.name, file);\r\n        this.loadQueryFromFileInput.value = \"\";\r\n        this.context.uploadQueryFile({\r\n            data: data,\r\n            success: function () {\r\n                _this.syncQuery();\r\n                _this.refreshQueryList();\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.loadQueryButtonClick = function () {\r\n        var _this = this;\r\n        this.context.loadQueryList({\r\n            success: function (data) {\r\n                _this.fillLoadQueryButtonMenu(data);\r\n                _this.queryListMenu.showMenu({\r\n                    anchor: _this.loadQueryButton,\r\n                    adjustHeight: false,\r\n                    itemSelectedCallback: function (data) {\r\n                        _this.checkIfQueryModified(function () { return _this.loadQuery(data.id); });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.fillLoadQueryButtonMenu = function (queryList) {\r\n        var query = this.getContext().getQuery();\r\n        this.queryListMenu = new PopupMenu({\r\n            items: queryList.map(function (item) { return ({ id: item.id, text: item.name }); }),\r\n            selectedIds: query.getId()\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveQueryButtonClick = function () {\r\n        this.saveCurrentQuery();\r\n    };\r\n    AdvancedSearchView.prototype.copyQueryButtonClick = function () {\r\n        this.saveCurrentQuery(true);\r\n    };\r\n    AdvancedSearchView.prototype.removeQueryButtonClick = function () {\r\n        var _this = this;\r\n        this.showRemoveQueryDialog(function (result) {\r\n            if (result) {\r\n                _this.removeCurrentQuery();\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.storageDropButtonClick = function () {\r\n        var _this = this;\r\n        var container = this.storageDropButton.parentElement;\r\n        var content = container.querySelector(\".\" + this.dropdownContentClass);\r\n        if (content) {\r\n            window.setTimeout(function () { return content.classList.toggle(_this.dropdownShowClass); }, 100);\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.fetchDataButtonClick = function () {\r\n        this.fetchData();\r\n    };\r\n    AdvancedSearchView.prototype.detach = function () {\r\n        var _this = this;\r\n        this.enableExportButtons();\r\n        this.exportButtons.forEach(function (button) {\r\n            button.removeEventListener('click', _this.exportButtonClickHandler);\r\n        });\r\n        this.exportButtons = [];\r\n        if (this.fetchDataButton) {\r\n            this.fetchDataButton.removeEventListener('click', this.fetchDataButtonClickHandler);\r\n            this.fetchDataButton = null;\r\n        }\r\n        if (this.clearQueryButton) {\r\n            this.clearQueryButton.removeEventListener('click', this.clearQueryButtonClickHandler);\r\n            this.clearQueryButton = null;\r\n        }\r\n        if (this.newQueryButton) {\r\n            this.newQueryButton.removeEventListener('click', this.newQueryButtonClickHandler);\r\n            this.newQueryButton = null;\r\n        }\r\n        if (this.loadQueryButton) {\r\n            this.loadQueryButton.removeEventListener('click', this.loadQueryButtonClickHandler);\r\n            this.loadQueryButton = null;\r\n        }\r\n        if (this.saveQueryButton) {\r\n            this.saveQueryButton.removeEventListener('click', this.saveQueryButtonClickHandler);\r\n            this.saveQueryButton = null;\r\n        }\r\n        if (this.copyQueryButton) {\r\n            this.copyQueryButton.removeEventListener('click', this.copyQueryButtonClickHandler);\r\n            this.copyQueryButton = null;\r\n        }\r\n        if (this.removeQueryButton) {\r\n            this.removeQueryButton.removeEventListener('click', this.removeQueryButtonClickHandler);\r\n            this.removeQueryButton = null;\r\n        }\r\n        if (this.storageDropButton) {\r\n            this.storageDropButton.removeEventListener('click', this.storageButtonClickHandler);\r\n            this.storageDropButton = null;\r\n        }\r\n        if (this.saveQueryToFileButton) {\r\n            this.saveQueryToFileButton.removeEventListener('click', this.saveQueryToFileButtonClickHandler);\r\n            this.saveQueryToFileButton = null;\r\n        }\r\n        if (this.queryListPanel) {\r\n            this.queryListPanel = null;\r\n        }\r\n        if (this.loadQueryFromFileButton) {\r\n            if (this.loadQueryFromFileInput) {\r\n                document.body.removeChild(this.loadQueryFromFileInput);\r\n            }\r\n            this.loadQueryFromFileButton.removeEventListener('click', this.loadQueryFromFileButtonClickHandler);\r\n            this.loadQueryFromFileButton = null;\r\n        }\r\n        _super.prototype.detach.call(this);\r\n    };\r\n    return AdvancedSearchView;\r\n}(View));\r\nexport { AdvancedSearchView };\r\n//left for backward compatibility\r\nvar AdvancedSearchViewJQuery = /** @class */ (function (_super) {\r\n    __extends(AdvancedSearchViewJQuery, _super);\r\n    function AdvancedSearchViewJQuery() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return AdvancedSearchViewJQuery;\r\n}(AdvancedSearchView));\r\nexport { AdvancedSearchViewJQuery };\r\n//# sourceMappingURL=adv_search_view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { QueryChangePart } from '@easyquery/core';\r\nimport { View } from './view';\r\n/**\r\n * The view that represents a data-filtering scenario (a text search for one entity/table)\r\n */\r\nvar DataFilterView = /** @class */ (function (_super) {\r\n    __extends(DataFilterView, _super);\r\n    function DataFilterView() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DataFilterView.prototype.initOptions = function (options) {\r\n        var _this = this;\r\n        options = _super.prototype.initOptions.call(this, options);\r\n        var query = this.context.getQuery();\r\n        query.addChangedCallback(function () {\r\n            if (_this.resultOptions.clearResultOnQueryChange) {\r\n                _this.context.clearResult();\r\n            }\r\n            if (options.syncQueryOnChange) {\r\n                _this.context.syncQuery();\r\n            }\r\n        });\r\n        this.context.addEventListener('ready', this.fetchData.bind(this));\r\n        return options;\r\n    };\r\n    DataFilterView.prototype.initWidgets = function (options) {\r\n        var _this = this;\r\n        _super.prototype.initWidgets.call(this, options);\r\n        if (this.sortingBarWidget) {\r\n            this.context.getQuery().addChangedCallback(function (ev) {\r\n                var edata = ev.data;\r\n                if (!edata || (edata.part != QueryChangePart.SortingColumns\r\n                    && edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                    return;\r\n                }\r\n                _this.fetchData();\r\n            });\r\n        }\r\n        if (this.filterBarWidget) {\r\n            var widgetType = this.filterBarWidget.getWidgetType();\r\n            options.widgets[widgetType] = options.widgets[widgetType] = {};\r\n            if (!options.widgets[widgetType].applyFilterCallback) {\r\n                options.widgets[widgetType].applyFilterCallback = function () {\r\n                    _this.fetchData();\r\n                };\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Obsolete. Left for backward compatibility.\r\n     * Use fetchData() instead\r\n     * @deprecated Use `fetchData()`\r\n     */\r\n    DataFilterView.prototype.applyQueryFilter = function () {\r\n        console.warn('applyQueryFilter is obsolete. Use fetchData instead');\r\n        this.fetchData();\r\n    };\r\n    DataFilterView.prototype.fetchData = function () {\r\n        _super.prototype.fetchData.call(this, { refresh: true });\r\n    };\r\n    return DataFilterView;\r\n}(View));\r\nexport { DataFilterView };\r\n//left for backward compatibility\r\nvar DataFilterViewJQuery = /** @class */ (function (_super) {\r\n    __extends(DataFilterViewJQuery, _super);\r\n    function DataFilterViewJQuery() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return DataFilterViewJQuery;\r\n}(DataFilterView));\r\nexport { DataFilterViewJQuery };\r\n//# sourceMappingURL=data_filter_view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EqHtmlGrid } from \"../widgets/eq_result_html_grid\";\r\nimport { DataFilterView } from \"./data_filter_view\";\r\n/**\r\n * The EasyQuery client-side view that represents the UI for data filtering page\r\n */\r\nvar HtmlDataFilterView = /** @class */ (function (_super) {\r\n    __extends(HtmlDataFilterView, _super);\r\n    function HtmlDataFilterView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n    * Creates the widget that represents Grid Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    HtmlDataFilterView.prototype.createResultGridWidget = function (element) {\r\n        return new EqHtmlGrid(element);\r\n    };\r\n    /**\r\n     * Obsolete. Left for backward compatibility.\r\n     * Use fetchData() instead\r\n     */\r\n    HtmlDataFilterView.prototype.applyQueryFilter = function () {\r\n        console.warn('applyQueryFilter is obsolete. Use fetchData instead');\r\n        this.fetchData();\r\n    };\r\n    return HtmlDataFilterView;\r\n}(DataFilterView));\r\nexport { HtmlDataFilterView };\r\n//# sourceMappingURL=html_data_filter_view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { WidgetGroup, QueryChangePart } from '@easyquery/core';\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { View } from './view';\r\n/**\r\n * The view that represents the \"ad-hoc reporting\" scenario\r\n */\r\nvar ReportView = /** @class */ (function (_super) {\r\n    __extends(ReportView, _super);\r\n    function ReportView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.reports = [];\r\n        _this.reportCache = [];\r\n        _this.exportButtons = [];\r\n        _this.exportClass = \"eqjs-export\";\r\n        _this.disabledClass = \"eqjs-disabled\";\r\n        _this.enableExport = false;\r\n        _this.useReportCache = true;\r\n        _this._reportSaveTemplate = \"<div id=\\\"kdlg-dialog-form\\\" class=\\\"kfrm-form\\\">\\n            <div class=\\\"kfrm-fields label-above\\\">\\n                <label for=\\\"kdlg-dialog-form-input\\\" id=\\\"kdlg-dialog-form-content\\\"></label>\\n                <input type=\\\"text\\\" name=\\\"kdlg-dialog-form-input\\\" id=\\\"kdlg-dialog-form-input\\\" />\\n            </div>\\n        </div>\";\r\n        var self = _this;\r\n        _this.exportButtonClickHandler = function (e) {\r\n            if (!this.classList.contains(self.disabledClass)) {\r\n                var format = this.getAttribute(\"data-format\");\r\n                self.getContext().exportResult({ format: format });\r\n            }\r\n        };\r\n        _this.clearReportButtonClickHandler = _this.clearReportButtonClick.bind(_this);\r\n        _this.newReportButtonClickHandler = _this.newReportButtonClick.bind(_this);\r\n        _this.loadReportButtonClickHandler = _this.loadReportButtonClick.bind(_this);\r\n        _this.saveReportButtonClickHandler = _this.saveReportButtonClick.bind(_this);\r\n        _this.removeReportButtonClickHandler = _this.removeReportButtonClick.bind(_this);\r\n        _this.updateReportButtonClickHandler = _this.updateReportButtonClick.bind(_this);\r\n        browserUtils.onMobileModeChanged(function (_) {\r\n            document.location.reload();\r\n        });\r\n        return _this;\r\n    }\r\n    ReportView.prototype.initOptions = function (options) {\r\n        var _this = this;\r\n        options = _super.prototype.initOptions.call(this, options);\r\n        if (typeof (options.syncReportOnChange) === \"undefined\") {\r\n            options.syncReportOnChange = true;\r\n        }\r\n        if (typeof (options.syncQueryOnChange) == \"undefined\") {\r\n            options.syncQueryOnChange = options.syncReportOnChange;\r\n        }\r\n        if (typeof (options.useReportCache) !== \"undefined\") {\r\n            this.useReportCache = options.useReportCache;\r\n        }\r\n        this.defaultReportId = options.defaultReportId;\r\n        var query = this.context.getQuery();\r\n        query.addChangedCallback(function (event) {\r\n            var eventData = event.data;\r\n            if (eventData) {\r\n                if (eventData.changeType == \"query.switched\") {\r\n                    _this.context.refreshWidgets(WidgetGroup.Query);\r\n                }\r\n                else {\r\n                    _this.disableExportButtons();\r\n                    if (_this.resultCountSlot) {\r\n                        _this.resultCountSlot.style.display = \"none\";\r\n                    }\r\n                }\r\n            }\r\n            if (options.syncQueryOnChange) {\r\n                var needSync = eventData && eventData.changeType != \"query.switched\" && !eventData.noSync;\r\n                if (needSync) {\r\n                    _this.syncReport();\r\n                }\r\n            }\r\n            //clear dataset result on query change\r\n            if (_this.resultOptions.clearResultOnQueryChange) {\r\n                if (!eventData\r\n                    || eventData.changeType == \"query.switched\"\r\n                    || eventData.part == QueryChangePart.ExtraData) {\r\n                    return;\r\n                }\r\n                _this.context.clearResult();\r\n                _this.context.refreshWidgets(WidgetGroup.Result);\r\n            }\r\n        });\r\n        return options;\r\n    };\r\n    ReportView.prototype.initDone = function () {\r\n        var _this = this;\r\n        _super.prototype.initDone.call(this);\r\n        window.setTimeout(function () {\r\n            _this.context.loadQueryList({\r\n                success: function (data) {\r\n                    if (Array.isArray(data)) {\r\n                        _this.reports = data;\r\n                        var exists = _this.reports.filter(function (r) { return r.id == _this.defaultReportId; }).length > 0;\r\n                        if (exists) {\r\n                            _this.renderReportList({ reportId: _this.defaultReportId });\r\n                        }\r\n                        else {\r\n                            _this.renderReportList();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }, 100);\r\n    };\r\n    ReportView.prototype.initWidgets = function (options) {\r\n        var _this = this;\r\n        _super.prototype.initWidgets.call(this, options);\r\n        var clearReportButton = \"ClearReportButton\";\r\n        var newReportButton = \"NewReportButton\";\r\n        var loadReportButton = \"LoadReportButton\";\r\n        var saveReportButton = \"SaveReportButton\";\r\n        var removeReportButton = \"RemoveReportButton\";\r\n        var updateReportButton = \"UpdateReportButton\";\r\n        var resultCountSpan = \"ResultCount\";\r\n        var exportButtons = \"ResultExportButtons\";\r\n        var exportClass = this.exportClass;\r\n        if (options.slots) {\r\n            resultCountSpan = options.slots.resultCountSpan || resultCountSpan;\r\n            exportButtons = options.slots.exportButtons || exportButtons;\r\n            clearReportButton = options.slots.clearReportButton || clearReportButton;\r\n            newReportButton = options.slots.newReportButton || newReportButton;\r\n            loadReportButton = options.slots.loadReportButton || loadReportButton;\r\n            saveReportButton = options.slots.saveReportButton || saveReportButton;\r\n            removeReportButton = options.slots.removeReportButton || removeReportButton;\r\n            updateReportButton = options.slots.updateReportButton || updateReportButton;\r\n            exportClass = options.slots.exportClass || exportClass;\r\n        }\r\n        this.exportButtons = this.domRoots.reduce(function (elems, root) {\r\n            return elems.concat(Array.from(root.querySelectorAll(\".\" + exportClass)));\r\n        }, []);\r\n        this.enableExport = options.enableExport;\r\n        if (this.enableExport) {\r\n            //Add event listener for export buttons\r\n            this.exportButtons.forEach(function (button) {\r\n                button.addEventListener('click', _this.exportButtonClickHandler);\r\n            });\r\n        }\r\n        else {\r\n            this.hideExportButtons();\r\n        }\r\n        this.exportButtonsContainer = this.resolveElement(exportButtons);\r\n        if (!this.clearReportButton) {\r\n            this.clearReportButton = this.resolveElement(clearReportButton);\r\n            if (this.clearReportButton) {\r\n                this.clearReportButton.addEventListener('click', this.clearReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.newReportButton) {\r\n            this.newReportButton = this.resolveElement(newReportButton);\r\n            if (this.newReportButton) {\r\n                this.newReportButton.addEventListener('click', this.newReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.loadReportButton) {\r\n            this.loadReportButton = this.resolveElement(loadReportButton);\r\n            if (this.loadReportButton) {\r\n                this.loadReportButton.addEventListener('click', this.loadReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.saveReportButton) {\r\n            this.saveReportButton = this.resolveElement(saveReportButton);\r\n            if (this.saveReportButton) {\r\n                this.saveReportButton.addEventListener('click', this.saveReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.removeReportButton) {\r\n            this.removeReportButton = this.resolveElement(removeReportButton);\r\n            if (this.removeReportButton) {\r\n                this.removeReportButton.addEventListener('click', this.removeReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.updateReportButton) {\r\n            this.updateReportButton = this.resolveElement(updateReportButton);\r\n            if (this.updateReportButton) {\r\n                this.updateReportButton.addEventListener('click', this.updateReportButtonClickHandler);\r\n            }\r\n        }\r\n        this.reportListSlot = document.getElementById('ReportList');\r\n        this.resultCountSlot = this.resolveElement(resultCountSpan);\r\n    };\r\n    /**\r\n    * Creates a new report.\r\n    */\r\n    ReportView.prototype.newReport = function () {\r\n        var _this = this;\r\n        var ds = this.context.getServices().getDialogService();\r\n        var dlg = ds.open({\r\n            title: i18n.getText('NewReportDlgTitle'),\r\n            body: this._reportSaveTemplate,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                input.value = i18n.getText('NewReportDefName');\r\n                var content = document.getElementById('kdlg-dialog-form-content');\r\n                content.innerHTML = i18n.getText('SaveReportDlgLabel');\r\n                input.focus();\r\n            },\r\n            onSubmit: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                var value = input.value;\r\n                if (value && value.replace(/\\s/g, '').length > 0) {\r\n                    dlg.clearAlert();\r\n                    dlg.disableButtons();\r\n                    var header_1 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_1 = domel('div', header_1)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    var query = _this.context.getQuery();\r\n                    query.reset();\r\n                    _this.context.newQuery({\r\n                        name: value,\r\n                        success: function () {\r\n                            dlg.close();\r\n                            var query = _this.context.getQuery();\r\n                            var reportId = query.getId();\r\n                            _this.insertIntoReportList({ id: reportId, name: query.getName() });\r\n                            _this.renderReportList({ reportId: reportId });\r\n                        },\r\n                        error: function (error) {\r\n                            header_1.removeChild(processEl_1);\r\n                            dlg.enableButtons();\r\n                            dlg.showAlert(error, 'error');\r\n                        }\r\n                    });\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Loads report by ID.\r\n    * @param reportId The ID of the report to load.\r\n    */\r\n    ReportView.prototype.loadReport = function (reportId) {\r\n        var _this = this;\r\n        if (!reportId) {\r\n            throw 'Empty report ID!';\r\n        }\r\n        var reportToLoad = this.findReportById(reportId);\r\n        if (!reportToLoad)\r\n            return;\r\n        var self = this;\r\n        var query = self.context.getQuery();\r\n        var reportLoaded = function () {\r\n            _this.renderReportProps();\r\n            query.fireChangedEvent({\r\n                part: QueryChangePart.All,\r\n                noSync: true,\r\n                changeType: 'query.switched'\r\n            });\r\n            _this.fetchData();\r\n        };\r\n        var reportContent = this.useReportCache ? this.getReportContentFromCache(reportToLoad) : null;\r\n        if (reportContent) {\r\n            query.clear();\r\n            query.loadFromJson(reportContent);\r\n            reportLoaded();\r\n        }\r\n        else {\r\n            this.context.loadQuery({\r\n                queryId: reportId,\r\n                silent: true,\r\n                success: function () {\r\n                    _this.saveReportContentInCache(reportToLoad, query.toJSON());\r\n                    reportLoaded();\r\n                }\r\n            });\r\n        }\r\n        this.setActiveReport(reportId);\r\n    };\r\n    /**\r\n    * Shows the dialog to save the report with new name.\r\n    */\r\n    ReportView.prototype.saveCurrentReportAs = function () {\r\n        var _this = this;\r\n        var query = this.context.getQuery();\r\n        var ds = this.context.getServices().getDialogService();\r\n        console.log('Save as ..');\r\n        var dlg = ds.open({\r\n            title: i18n.getText('SaveReportDlgTitle'),\r\n            body: this._reportSaveTemplate,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                input.value = query.getName();\r\n                var content = document.getElementById('kdlg-dialog-form-content');\r\n                content.innerHTML = i18n.getText('SaveReportDlgLabel');\r\n                input.focus();\r\n                console.log('Before open dialog');\r\n            },\r\n            onSubmit: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                var value = input.value;\r\n                if (value && value.replace(/\\s/g, '').length > 0) {\r\n                    query.setId(dataUtils.generateId(value.replace(/\\s/g, '')));\r\n                    dlg.clearAlert();\r\n                    dlg.disableButtons();\r\n                    var header_2 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_2 = domel('div', header_2)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    _this.context.newQuery({\r\n                        clearQuery: false,\r\n                        name: value,\r\n                        success: function () {\r\n                            dlg.close();\r\n                            _this.context.refreshWidgets(WidgetGroup.Query);\r\n                            var savedQuery = _this.context.getQuery();\r\n                            var reportId = savedQuery.getId();\r\n                            _this.fetchData();\r\n                            _this.insertIntoReportList({ id: reportId, name: query.getName() });\r\n                            _this.renderReportList({ reportId: reportId });\r\n                            _this.setActiveReport(reportId);\r\n                            _this.renderReportProps();\r\n                        },\r\n                        error: function (error) {\r\n                            header_2.removeChild(processEl_2);\r\n                            dlg.enableButtons();\r\n                            dlg.showAlert(error, 'error');\r\n                        }\r\n                    });\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Removes current report.\r\n    */\r\n    ReportView.prototype.removeCurrentReport = function () {\r\n        var _this = this;\r\n        var report = this.context.getQuery();\r\n        var ds = this.context.getServices().getDialogService();\r\n        ds.openConfirm(i18n.getText('RemoveReportDlgTitle'), i18n.getText('RemoveReportContent').replace('{reportName}', report.getName()))\r\n            .then(function (result) {\r\n            if (result) {\r\n                var reportId_1 = report.getId();\r\n                _this.context.removeQuery({\r\n                    queryId: reportId_1,\r\n                    success: function () {\r\n                        var index = _this.removeFromReportList(reportId_1);\r\n                        _this.renderReportList({ reportIndex: index });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Sends current report's query to back-end.\r\n    */\r\n    ReportView.prototype.syncReport = function () {\r\n        var _this = this;\r\n        if (this.useReportCache) {\r\n            var query = this.context.getQuery();\r\n            var currentReport = this.findReportById(query.getId());\r\n            if (currentReport) {\r\n                currentReport.lastUpdated = Date.now();\r\n                this.saveReportContentInCache(currentReport, query.toJSON());\r\n            }\r\n        }\r\n        this.context.syncQuery({\r\n            success: function (responseData) {\r\n                if (responseData.query)\r\n                    _this.context.refreshWidgets(WidgetGroup.Query);\r\n                if (responseData.statement)\r\n                    _this.context.refreshWidgets(WidgetGroup.Statement);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Sets active report.\r\n    * @param reportId The ID of the report to make active.\r\n    */\r\n    ReportView.prototype.setActiveReport = function (reportId) {\r\n        var rlItems = this.reportListSlot.querySelectorAll('li');\r\n        for (var i = 0; i < rlItems.length; i++) {\r\n            var item = rlItems[i];\r\n            item.classList.remove('active');\r\n            var rid = item.getAttribute('data-rid');\r\n            if (rid === reportId) {\r\n                item.classList.add('active');\r\n            }\r\n        }\r\n        ;\r\n    };\r\n    /**\r\n    * Renders current report.\r\n    */\r\n    ReportView.prototype.renderReportProps = function () {\r\n        var query = this.context.getQuery();\r\n        var titleElem = document.getElementById('ReportTitle');\r\n        titleElem.innerHTML = query.getName();\r\n        var columnsPanel = document.querySelector('.columns-bar');\r\n        if (columnsPanel) {\r\n            columnsPanel.innerHTML = '<strong>Columns:</strong>';\r\n            var columns = query.getColumns();\r\n            for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\r\n                var column = columns_1[_i];\r\n                columnsPanel.innerHTML += '<span class=\"label label-default\">' + column.caption + '</span> ';\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Renders the list of reports.\r\n    * @param options The options. In particular, `options.reportIndex` defines which report should be active.\r\n    */\r\n    ReportView.prototype.renderReportList = function (options) {\r\n        this.renderReportPanels();\r\n        if (!this.reportListSlot.matches('li')) {\r\n            this.reportListSlot.innerHTML = \"\";\r\n            options = options || { reportId: (this.reports.length > 0 ? this.reports[0].id : null) };\r\n            var ul = document.createElement('ul');\r\n            ul.className = 'list-group list-group-flush';\r\n            this.reportListSlot.appendChild(ul);\r\n            for (var _i = 0, _a = this.reports; _i < _a.length; _i++) {\r\n                var report = _a[_i];\r\n                this.renderReportItemInList(report, ul);\r\n            }\r\n            if (options.reportId) {\r\n                this.loadReport(options.reportId);\r\n            }\r\n            if (typeof (options.reportIndex) !== \"undefined\") {\r\n                var idx = options.reportIndex;\r\n                if (idx >= this.reports.length)\r\n                    idx = this.reports.length - 1;\r\n                if (idx < 0 && this.reports.length > 0)\r\n                    idx = 0;\r\n                if (idx >= 0)\r\n                    this.loadReport(this.reports[idx].id);\r\n            }\r\n        }\r\n    };\r\n    ReportView.prototype.detach = function () {\r\n        var _this = this;\r\n        if (this.exportButtonsContainer) {\r\n            this.showExportButtons();\r\n            this.exportButtons.forEach(function (button) {\r\n                button.removeEventListener('click', _this.exportButtonClickHandler);\r\n            });\r\n            this.exportButtons = [];\r\n            this.exportButtonsContainer = null;\r\n        }\r\n        if (this.clearReportButton) {\r\n            this.clearReportButton.removeEventListener('click', this.clearReportButtonClickHandler);\r\n            this.clearReportButton = null;\r\n        }\r\n        if (this.newReportButton) {\r\n            this.newReportButton.removeEventListener('click', this.newReportButtonClickHandler);\r\n            this.newReportButton = null;\r\n        }\r\n        if (!this.loadReportButton) {\r\n            this.loadReportButton.removeEventListener('click', this.loadReportButtonClickHandler);\r\n            this.loadReportButton = null;\r\n        }\r\n        if (this.saveReportButton) {\r\n            this.saveReportButton.addEventListener('click', this.saveReportButtonClickHandler);\r\n            this.saveReportButton = null;\r\n        }\r\n        if (!this.removeReportButton) {\r\n            this.removeReportButton.removeEventListener('click', this.removeReportButtonClickHandler);\r\n            this.removeReportButton = null;\r\n        }\r\n        if (this.updateReportButton) {\r\n            this.updateReportButton.removeEventListener('click', this.updateReportButtonClickHandler);\r\n            this.removeReportButton = null;\r\n        }\r\n        if (this.reportListSlot) {\r\n            this.reportListSlot.innerHTML = '';\r\n            this.reportListSlot = null;\r\n        }\r\n        if (this.resultCountSlot) {\r\n            this.resultCountSlot.innerHTML = '';\r\n            this.resultCountSlot = null;\r\n        }\r\n        _super.prototype.detach.call(this);\r\n    };\r\n    /**\r\n    * Renders a single item in the list of reports.\r\n    * @param report The [[Report]] object to render.\r\n    * @param ul The [[HTMLUListElement]] to add the item to.\r\n    */\r\n    ReportView.prototype.renderReportItemInList = function (report, ul) {\r\n        if (!ul) {\r\n            ul = this.reportListSlot.querySelector(\"ul\");\r\n        }\r\n        var reportName = report.name || report.description || \"\";\r\n        var li = document.createElement('li');\r\n        li.className = \"list-group-item\";\r\n        li.style.cursor = 'pointer';\r\n        li.setAttribute('data-rid', report.id);\r\n        li.innerText = reportName;\r\n        var self = this;\r\n        li.addEventListener('click', function (e) {\r\n            var target = e.target;\r\n            var rid = target.getAttribute('data-rid');\r\n            self.loadReport(rid);\r\n            self.setActiveReport(rid);\r\n        });\r\n        ul.appendChild(li);\r\n    };\r\n    /**\r\n    * Renders report panels.\r\n    */\r\n    ReportView.prototype.renderReportPanels = function () {\r\n        var reportsContainer = document.getElementById(\"ReportsContainer\");\r\n        var noReportPanel = document.getElementById(\"NoReportPanel\");\r\n        if (this.reports.length > 0) {\r\n            this.hideElement(noReportPanel);\r\n            this.showElement(reportsContainer);\r\n        }\r\n        else {\r\n            this.hideElement(reportsContainer);\r\n            this.showElement(noReportPanel);\r\n        }\r\n    };\r\n    //TODO: Move these two functions to @easydata/ui\r\n    ReportView.prototype.hideElement = function (element) {\r\n        if (element) {\r\n            element.style.visibility = 'hidden';\r\n        }\r\n    };\r\n    ReportView.prototype.showElement = function (element) {\r\n        if (element) {\r\n            element.style.removeProperty('visibility');\r\n        }\r\n    };\r\n    /**\r\n    * Inserts the report to the list of reports.\r\n    * @param report The [[Report]] object to be inserted.\r\n    */\r\n    ReportView.prototype.insertIntoReportList = function (report) {\r\n        this.reports.push(report);\r\n    };\r\n    /**\r\n    * Removes the report from the list of reports.\r\n    * @param reportId The ID of the report to be removed.\r\n    * @returns the index of removed report.\r\n    */\r\n    ReportView.prototype.removeFromReportList = function (reportId) {\r\n        var index = this.indexOfReportById(reportId);\r\n        if (index >= 0)\r\n            this.reports.splice(index, 1);\r\n        return index;\r\n    };\r\n    ReportView.prototype.indexOfReportById = function (reportId) {\r\n        for (var i = 0; i < this.reports.length; i++) {\r\n            if (this.reports[i].id === reportId)\r\n                return i;\r\n        }\r\n        return -1;\r\n    };\r\n    /**\r\n    * The handler of the \"Clear\" button click.\r\n    */\r\n    ReportView.prototype.clearReportButtonClick = function () {\r\n        this.clearErrors();\r\n        this.context.clearQuery();\r\n    };\r\n    /**\r\n    * The handler of the \"Update\" button click.\r\n    */\r\n    ReportView.prototype.updateReportButtonClick = function () {\r\n        this.fetchData();\r\n    };\r\n    /**\r\n    * The handler of the \"Save\" button click.\r\n    */\r\n    ReportView.prototype.saveReportButtonClick = function () {\r\n        this.saveCurrentReportAs();\r\n    };\r\n    /**\r\n    * The handler of the \"Load\" button click.\r\n    */\r\n    ReportView.prototype.loadReportButtonClick = function () {\r\n        this.loadReport(\"LastQuery\");\r\n    };\r\n    /**\r\n    * The handler of the \"Remove\" button click.\r\n    */\r\n    ReportView.prototype.removeReportButtonClick = function () {\r\n        this.removeCurrentReport();\r\n    };\r\n    /**\r\n    * The handler of the \"New\" button click.\r\n    */\r\n    ReportView.prototype.newReportButtonClick = function () {\r\n        this.newReport();\r\n    };\r\n    /**\r\n    * The handler of errors.\r\n    * @param error The error object.\r\n    */\r\n    ReportView.prototype.errorHandler = function (error) {\r\n    };\r\n    /**\r\n    * Clears the errors.\r\n    */\r\n    ReportView.prototype.clearErrors = function () {\r\n    };\r\n    /**\r\n    * Disables export buttons.\r\n    */\r\n    ReportView.prototype.disableExportButtons = function () {\r\n        this.hideExportButtons();\r\n    };\r\n    /**\r\n    * Enables export buttons.\r\n    */\r\n    ReportView.prototype.enableExportButtons = function () {\r\n        this.showExportButtons();\r\n    };\r\n    /**\r\n    * Hides export buttons.\r\n    */\r\n    ReportView.prototype.hideExportButtons = function () {\r\n        if (this.exportButtonsContainer) {\r\n            this.exportButtonsContainer.style.display = \"none\";\r\n        }\r\n    };\r\n    /**\r\n    * Shows export buttons.\r\n    */\r\n    ReportView.prototype.showExportButtons = function () {\r\n        if (this.exportButtonsContainer) {\r\n            this.exportButtonsContainer.style.display = \"initial\";\r\n        }\r\n    };\r\n    /**\r\n     * Saves reports content to the cache.\r\n     * @param report  The report.\r\n     * @param content The content (Query serialized into JSON).\r\n     */\r\n    ReportView.prototype.saveReportContentInCache = function (report, content) {\r\n        var item = this.findReportCacheItem(report.id);\r\n        if (!item) {\r\n            item = { id: report.id };\r\n            this.reportCache.push(item);\r\n        }\r\n        item.lastUpdated = report.lastUpdated;\r\n        item.content = content;\r\n    };\r\n    /**\r\n     * Gets the report content from cache.\r\n     * @param report The report.\r\n     * @returns Content of the report (Query in JSOn string)\r\n     */\r\n    ReportView.prototype.getReportContentFromCache = function (report) {\r\n        var item = this.findReportCacheItem(report.id);\r\n        if (item && item.lastUpdated === report.lastUpdated) {\r\n            return item.content;\r\n        }\r\n        return null;\r\n    };\r\n    ReportView.prototype.findReportById = function (id) {\r\n        for (var _i = 0, _a = this.reports; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.id === id) {\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    ReportView.prototype.findReportCacheItem = function (id) {\r\n        for (var _i = 0, _a = this.reportCache; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.id === id) {\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return ReportView;\r\n}(View));\r\nexport { ReportView };\r\n//left for backward compatibility\r\nvar ReportViewJQuery = /** @class */ (function (_super) {\r\n    __extends(ReportViewJQuery, _super);\r\n    function ReportViewJQuery() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return ReportViewJQuery;\r\n}(ReportView));\r\nexport { ReportViewJQuery };\r\n//# sourceMappingURL=report_view.js.map","import { i18n } from '@easydata/core';\r\nfunction addOldEasyQueryUIMapper() {\r\n    i18n.addMapper(function (info) {\r\n        if (!info && !info.texts)\r\n            return;\r\n        for (var prop in info.texts) {\r\n            switch (prop) {\r\n                case 'PredicateTitle':\r\n                    info.texts['ConditionGroupTitle'] = info.texts[prop];\r\n                    break;\r\n                case 'RootPredicateTitle':\r\n                    info.texts['RootConditionGroupTitle'] = info.texts[prop];\r\n                    break;\r\n                case 'ErrIncorrectPredicateTitleFormat':\r\n                    info.texts['ErrIncorrectGroupTitleFormat'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonAddPredicate':\r\n                    info.texts['ButtonAddGroup'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonDelete':\r\n                    info.texts['CmdDelete'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonClear':\r\n                    info.texts['CmdClear'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonEnable':\r\n                    info.texts['CmdToggleEnable'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonAddCondition':\r\n                    info.texts['CmdAddCondition'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonAddGroup':\r\n                    info.texts['CmdAddCondGroup'] = info.texts[prop];\r\n                    break;\r\n                default:\r\n                    //do nothing\r\n                    break;\r\n            }\r\n        }\r\n    });\r\n}\r\nfunction addEasyQueryUITexts() {\r\n    i18n.updateDefaultTexts({\r\n        AltMenuAttribute: 'Attribute',\r\n        AltMenuConstantExpression: 'Constant expression',\r\n        ButtonApply: 'Apply',\r\n        ButtonCancel: 'Cancel',\r\n        ButtonClose: 'Close',\r\n        ButtonNext: 'Next',\r\n        ButtonPrev: 'Prev',\r\n        ButtonNow: 'Now',\r\n        ButtonOK: 'OK',\r\n        MenuEnable: 'Enabled',\r\n        MenuParameterization: 'Parameterized',\r\n        MenuJoinCond: 'Use in JOIN',\r\n        CmdClear: 'Clear',\r\n        CmdDelete: 'Delete',\r\n        CmdToggleEnable: 'Toggle enable',\r\n        CmdAddCondition: 'Add condition',\r\n        CmdAddCondGroup: 'Add group of conditions',\r\n        ButtonSelectAll: 'Select all',\r\n        ButtonDeselectAll: 'Clear selection',\r\n        ButtonAddColumns: 'Add column(s)',\r\n        ButtonAddConditions: 'Add condition(s)',\r\n        CmdClickToAddCondition: '[Add new condition]',\r\n        CmdDeleteRow: 'Delete this row',\r\n        ErrIncorrectGroupTitleFormat: 'Incorrect condition group title format',\r\n        ErrNotNumber: ' is not a number',\r\n        ErrIncorrectInteger: 'Incorrect integer value',\r\n        ErrIncorrectNumberList: 'Incorrect list format',\r\n        False: 'False',\r\n        LinkTypeAll: 'all',\r\n        LinkTypeAny: 'any',\r\n        LinkTypeNone: 'none',\r\n        LinkTypeNotAll: 'not all',\r\n        ConjAll: 'and',\r\n        ConjAny: 'or',\r\n        ConjNotAll: 'and',\r\n        ConjNone: 'or',\r\n        MsgApplySelection: '[Apply selection]',\r\n        MsgAs: 'as',\r\n        MsgEmptyList: '(empty list)',\r\n        MsgEmptyListValue: '[select value]',\r\n        MsgEmptyScalarValue: '[enter value]',\r\n        MsgSubQueryValue: '[edit sub-query]',\r\n        MsgEmptyAttrValue: '[select attribute]',\r\n        MsgEmptyOperator: '[Unrecognized operator]',\r\n        MsgEmptyCustomSql: '[enter SQL expression]',\r\n        MsgCustomSql: '[Custom SQL]',\r\n        MsgNoResult: 'No result',\r\n        MsgResultCount: '{0} records found',\r\n        MsgOf: 'of',\r\n        ConditionGroupTitle: '{lt} of the following apply',\r\n        RootConditionGroupTitle: 'Select records where {lt} of the following apply',\r\n        StrAddConditions: 'Add conditions',\r\n        SubQueryDialogTitle: 'Edit sub-query',\r\n        SubQueryColumnTitle: 'Column:',\r\n        SubQueryEmptyColumn: '[select column]',\r\n        SubQueryQueryPanelCaption: 'Conditions',\r\n        True: 'True',\r\n        ButtonSorting: 'Sorting',\r\n        ButtonToAggr: 'Change to aggregate column',\r\n        ButtonToSimple: 'Change to simple column',\r\n        CmdAscending: 'Ascending',\r\n        CmdClickToAddColumn: '[Add new column]',\r\n        CmdDeleteColumn: 'Delete column',\r\n        CmdDeleteSorting: 'Delete sorting',\r\n        CmdDescending: 'Descending',\r\n        CmdGroupSort: 'Sorting',\r\n        CmdNotSorted: 'Not sorted',\r\n        ColTypeAggrFunc: 'Aggregate function',\r\n        ColTypeCompound: 'Calculated',\r\n        ColTypeGroup: 'Column type',\r\n        ColTypeSimple: 'Simple column',\r\n        HeaderExpression: 'Expression',\r\n        HeaderSorting: 'Sorting',\r\n        HeaderTitle: 'Title',\r\n        SortHeaderColumn: 'Column',\r\n        SortHeaderSorting: 'Sorting',\r\n        StrAddColumns: 'Add columns',\r\n        CustomExpression: 'Custom Expression',\r\n        CmdMoveToStart: 'Move to start',\r\n        CmdMoveRight: 'Move right',\r\n        CmdMoveLeft: 'Move left',\r\n        CmdMoveToEnd: 'Move to the end',\r\n        CmdMoveUp: 'Move up',\r\n        CmdMoveDown: 'Move down',\r\n        ButtonMenu: 'Show menu',\r\n        CmdToSimple: 'Not aggregated',\r\n        CmdMoveToFirst: 'Move to the first',\r\n        CmdMoveToPrev: 'Move to the previous',\r\n        CmdMoveToNext: 'Move to the next',\r\n        CmdMoveToLast: 'Move to the last',\r\n        CmdHiddenColumn: 'Hidden',\r\n        RowButtonTitle: 'Click to see the available options',\r\n        //FilterBar\r\n        StrNoFilterDefined: 'No filter defined',\r\n        StrNoFilterClickToAdd: 'No filter defined. Click to add a new condition',\r\n        //Time picker\r\n        HintHours: 'Hours',\r\n        HintMinutes: 'Minutes',\r\n        //advanced search view texts\r\n        RemoveQueryTitle: 'Confirmation',\r\n        RemoveQueryContent: 'Remove query [{queryName}]?',\r\n        NewQueryTitle: 'New query',\r\n        NewQueryContent: 'New query name: ',\r\n        NewQueryDefName: 'New query',\r\n        SaveQueryTitle: 'Save query',\r\n        SaveQueryContent: 'Query name: ',\r\n        SaveQueryDefName: '{queryName} copy',\r\n        QueryChangedTitle: 'Confirmation',\r\n        QueryChangedContent: 'The query was changed. Do you want to save it first?',\r\n        UpdateQuerySelector: '[click here to load the query]',\r\n        FileNameLabel: 'File name: ',\r\n        SaveQueryToFileDlgTitle: 'Save query to file',\r\n        //report view texts\r\n        NewReportDefName: 'New report',\r\n        NewReportDlgTitle: 'New report',\r\n        SaveReportDlgTitle: 'Save report',\r\n        SaveReportDlgLabel: 'Report name:',\r\n        RemoveReportDlgTitle: 'Remove report',\r\n        RemoveReportContent: 'Are you shure you want to remove report \\'{reportName}\\'?',\r\n        //facets\r\n        Facets: {\r\n            TotalRecordsLabel: 'Total records:',\r\n            AddMenuItems: {\r\n                Chart: 'Chart',\r\n                Pivot: 'Pivot table',\r\n                DataTable: 'Data table'\r\n            },\r\n            LoadDataDlgTitle: 'Downloading data',\r\n            LoadDataDlgContent: 'Records loaded: {loadedRecs}/{totalRecs}',\r\n            RefreshBtnTitle: 'Refresh',\r\n            ExportBtnTitle: 'Export',\r\n            MaximizeBtnTitle: 'Maximize',\r\n            RestoreBtnTitle: 'Restore Down',\r\n            RemoveFacetDlgTitle: 'Remove facet',\r\n            RemoveFacetDlgContent: \"Are you sure, that you want to delete {facetTitle} tab?\",\r\n            DefaultDlgTitle: 'Setup facet',\r\n            DefaultFacetTitle: '',\r\n            TabNameLabel: 'Tab name',\r\n            ErrQueryChanged: 'FAILED TO DISPLAY. QUERY WAS CHANGED',\r\n            ErrNotEnoughData: \"We can't display the graph because not all data for this query is loaded. \\n        The total number of records: {totalRecs}, currently loaded: {cachedRecs}. \\n        You can [download the result]. Please note: this may take some time and consume a lot of memory.\",\r\n            Chart: {\r\n                FacetTitle: 'Chart',\r\n                DlgTitle: 'Chart settings',\r\n                DataColumnSelectorLabel: 'Data column',\r\n                LabelColumnSelectorLabel: 'Label column',\r\n                ChartTypeSelectorLabel: 'Chart type'\r\n            },\r\n            Pivot: {\r\n                FacetTitle: 'Pivot table',\r\n                DlgTitle: 'Pivot settings',\r\n                ColumnFieldSelectorLabel: 'Column field',\r\n                RowFieldSelectorLabel: 'Row field',\r\n                CellDataSelectorLabel: 'Cell data',\r\n                TotalsRowLabel: 'Totals row',\r\n                TotalsColLabel: 'Totals col',\r\n                TotalGridLabel: 'Total'\r\n            },\r\n            DataTable: {\r\n                FacetTitle: 'Result table',\r\n                DlgTitle: 'Table facet settings'\r\n            }\r\n        },\r\n        TotalsDlgLabel: 'Totals',\r\n        GrandTotalsLabel: 'Grand totals',\r\n        TotalsDlgTitle: 'Select totals',\r\n        //formats\r\n        ExportDlgTitle: 'Export result',\r\n        ExportDlgFmtLabel: 'Format',\r\n        'csv': 'CSV',\r\n        'excel': 'Excel',\r\n        'pdf': 'PDF',\r\n        'excel-html': 'Excel (Old)'\r\n    });\r\n}\r\naddOldEasyQueryUIMapper();\r\naddEasyQueryUITexts();\r\n//# sourceMappingURL=text_resources.js.map","import { EqServiceProvider } from \"@easyquery/core\";\r\nEqServiceProvider.prototype.registerDialogServiceResolver = function (resolver) {\r\n    this['dialogServiceResolver'] = resolver;\r\n};\r\nEqServiceProvider.prototype.getDialogService = function () {\r\n    if (!this['dialogService']) {\r\n        if (!this['dialogServiceResolver']) {\r\n            throw 'DialogServiceResolver is not defined';\r\n        }\r\n        this['dialogService'] = this['dialogServiceResolver']();\r\n    }\r\n    return this['dialogService'];\r\n};\r\n//# sourceMappingURL=extensions.js.map","export * from './widgets/entities_panel';\r\nexport * from './widgets/columns_panel';\r\nexport * from './widgets/columns_bar';\r\nexport * from './widgets/sorting_bar';\r\nexport * from './widgets/query_panel';\r\nexport * from './widgets/filter_bar';\r\nexport * from './widgets/html_content_widget';\r\nexport * from './widgets/eq_result_html_grid';\r\nexport * from './widgets/grid';\r\nexport * from './widgets/easy_grid_widget';\r\nexport * from './widgets/statement_panel';\r\nexport * from './widgets/process_widget';\r\nexport * from './widgets/manage_drilldown_widget';\r\nexport * from './widgets/result_facets_panel';\r\nexport * from './widgets/export_widget';\r\nexport * from './widgets/charts/chart_type';\r\nexport * from './widgets/charts/chart_widget';\r\nexport * from './widgets/charts/chart_widget_google';\r\nexport * from './widgets/charts/chart_widget_chartjs';\r\nexport * from './widgets/renderers/base_element_renderer';\r\nexport * from './widgets/renderers/dropdown_renderer';\r\nexport * from './widgets/renderers/columnsbar/aggrfunc_column_renderer';\r\nexport * from './widgets/renderers/columnsbar/simple_column_renderer';\r\nexport * from './widgets/renderers/columnsbar/column_renderer';\r\nexport * from './widgets/renderers/columnspanel/aggrfunc_column_renderer';\r\nexport * from './widgets/renderers/columnspanel/simple_column_renderer';\r\nexport * from './widgets/renderers/columnspanel/column_renderer';\r\nexport * from './widgets/renderers/columnspanel/customsql_column_renderer';\r\nexport * from './widgets/renderers/querypanel/input_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/datetime_expression_render';\r\nexport * from './widgets/renderers/querypanel/condition_renderer';\r\nexport * from './widgets/renderers/querypanel/condition_group_renderer';\r\nexport * from './widgets/renderers/querypanel/attribute_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/expression_renderer';\r\nexport * from './widgets/renderers/querypanel/operator_renderer';\r\nexport * from './widgets/renderers/querypanel/subquery_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/list_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/text_renderer';\r\nexport * from './widgets/renderers/querypanel/addrow_renderer';\r\nexport * from './facets/result_facet_tab';\r\nexport * from './facets/datatable_facet_tab';\r\nexport * from './facets/chart_facet_tab';\r\nexport * from './facets/pivot_table_facet_tab';\r\nexport * from './views/view';\r\nexport * from './views/adv_search_view';\r\nexport * from './views/data_filter_view';\r\nexport * from './views/html_data_filter_view';\r\nexport * from './views/report_view';\r\nexport * from './utils/dropdown';\r\nexport * from './utils/popup_menu';\r\nexport * from './types/qp_editable_part';\r\nexport * from './types/facet_type';\r\nexport * from './dialog/export_dialog';\r\nexport * from './dialog/totals_dialog';\r\nimport './i18n/text_resources';\r\nimport './extensions';\r\nif (!Element.prototype.matches) {\r\n    Element.prototype.matches =\r\n        Element.prototype.msMatchesSelector\r\n            || Element.prototype.webkitMatchesSelector;\r\n}\r\n// support NodeList forEach in IE11\r\nif (window['NodeList'] && !window['NodeList'].prototype.forEach) {\r\n    window['NodeList'].prototype.forEach = Array.prototype.forEach;\r\n}\r\n//# sourceMappingURL=public_api.js.map","var majVer = 7;\r\nvar minVer = 0;\r\nvar magic = 45;\r\nMath.trunc = Math.trunc || function (x) {\r\n    if (isNaN(x)) {\r\n        return NaN;\r\n    }\r\n    if (x > 0) {\r\n        return Math.floor(x);\r\n    }\r\n    return Math.ceil(x);\r\n};\r\nexport var lcv = {\r\n    __kt: 0,\r\n    ck: function (key) {\r\n        if (!key)\r\n            return;\r\n        try {\r\n            var part1 = key.slice(0, key.length - 8);\r\n            var infoBytes = _bs(part1);\r\n            var part2 = key.slice(key.length - 8);\r\n            var ed = f36(magic);\r\n            if (part2[0] !== ed[0] || part2[2] !== ed[1])\r\n                return;\r\n            var idx = minVer % 4;\r\n            var shift = majVer + minVer;\r\n            if (part2[4 + idx] != encChar(shift, 19)) {\r\n                return;\r\n            }\r\n            if (part2[1] != encChar(infoBytes[3])) {\r\n                return;\r\n            }\r\n            lcv.__kt = part2[3] != encChar(infoBytes[5]) ? 1 : 2;\r\n        }\r\n        catch (error) {\r\n        }\r\n    }\r\n};\r\nfunction encChar(x, b) {\r\n    if (b === void 0) { b = 20; }\r\n    return String.fromCharCode(65 + x % b);\r\n}\r\nfunction _bs(str) {\r\n    var binary_string = urlatob(str);\r\n    var len = binary_string.length;\r\n    var bytes = new Uint8Array(len);\r\n    for (var i = 0; i < len; i++) {\r\n        bytes[i] = binary_string.charCodeAt(i);\r\n    }\r\n    return bytes;\r\n}\r\nfunction urlatob(str) {\r\n    var s = str;\r\n    s = s.replace(/-/g, '+');\r\n    s = s.replace(/_/g, '/');\r\n    switch (s.length % 4) {\r\n        case 0:\r\n            break;\r\n        case 2:\r\n            s += \"==\";\r\n            break;\r\n        case 3:\r\n            s += \"=\";\r\n            break;\r\n    }\r\n    return window.atob(s);\r\n}\r\nfunction f36(val) {\r\n    var str = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\r\n    var tb = 36;\r\n    var i = 1;\r\n    var result = \"AA\";\r\n    var rest = val;\r\n    do {\r\n        result = setCharAt(result, i--, str[rest % tb]);\r\n        rest = Math.trunc(rest / tb);\r\n    } while (rest > 0);\r\n    return result;\r\n}\r\nfunction setCharAt(str, index, chr) {\r\n    if (index > str.length - 1)\r\n        return str;\r\n    return str.substr(0, index) + chr + str.substr(index + 1);\r\n}\r\n//# sourceMappingURL=lcv.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Condition, CondTag } from \"@easyquery/core\";\r\nimport { lcv } from '../utils/lcv';\r\nvar ConditionEx = /** @class */ (function (_super) {\r\n    __extends(ConditionEx, _super);\r\n    function ConditionEx() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.readOnly = false;\r\n        _this.parameterized = false;\r\n        _this.inJoin = false;\r\n        return _this;\r\n    }\r\n    ConditionEx.prototype.isReadOnly = function () {\r\n        return this.readOnly || (this.getParent() && this.getParent().isReadOnly());\r\n    };\r\n    ConditionEx.prototype.setReadOnly = function (value) {\r\n        this.readOnly = value || (this.getParent() && this.getParent().isReadOnly());\r\n        this.conditions && this.conditions.forEach(function (cond) {\r\n            cond.setReadOnly(value);\r\n        });\r\n    };\r\n    ConditionEx.prototype.isParameterized = function () {\r\n        return this.parameterized;\r\n    };\r\n    ConditionEx.prototype.setParameterized = function (value) {\r\n        this.parameterized = value;\r\n    };\r\n    ConditionEx.prototype.isInJoin = function () {\r\n        return this.inJoin;\r\n    };\r\n    ConditionEx.prototype.setInJoin = function (value) {\r\n        this.inJoin = value;\r\n    };\r\n    ConditionEx.prototype.loadFromData = function (model, data) {\r\n        _super.prototype.loadFromData.call(this, model, data);\r\n        if (!lcv.__kt)\r\n            return;\r\n        if (typeof data.readOnly !== 'undefined') {\r\n            this.setReadOnly(data.readOnly);\r\n        }\r\n        if (typeof data.inJoin !== 'undefined') {\r\n            this.setInJoin(data.inJoin);\r\n        }\r\n        if (typeof data.parameterized !== 'undefined') {\r\n            this.setParameterized(data.parameterized);\r\n        }\r\n        //if condition group\r\n        //this.linkType = data.linking;\r\n        if (data.conds) {\r\n            for (var i = 0; i < data.conds.length; i++) {\r\n                var newCond = this.query.createCondition();\r\n                newCond.loadFromData(model, data.conds[i]);\r\n                this.conditions.push(newCond);\r\n                newCond.setParent(this);\r\n            }\r\n        }\r\n    };\r\n    ConditionEx.prototype.saveToData = function () {\r\n        var obj = _super.prototype.saveToData.call(this);\r\n        if (!lcv.__kt)\r\n            return obj;\r\n        if (lcv.__kt !== 0)\r\n            if (this.isReadOnly()) {\r\n                obj.readOnly = this.isReadOnly();\r\n            }\r\n        if (this.isParameterized()) {\r\n            obj.parameterized = this.isParameterized();\r\n        }\r\n        if (this.isInJoin()) {\r\n            obj.inJoin = this.isInJoin();\r\n        }\r\n        if (this.tag == CondTag.Group) {\r\n            //if condition group\r\n            //obj.linking = this.linkType;\r\n            obj.conds = [];\r\n            for (var i = 0; i < this.conditions.length; i++) {\r\n                obj.conds.push(this.conditions[i].saveToData());\r\n            }\r\n        }\r\n        return obj;\r\n    };\r\n    return ConditionEx;\r\n}(Condition));\r\nexport { ConditionEx };\r\n//# sourceMappingURL=condition_ex.js.map","import { EqContext, equtils } from '@easyquery/core';\r\nimport { QueryEx } from './query/query_ex';\r\nimport { EqServerQueryStorage } from './main/eqs_query_storage';\r\nimport { DataModelEx } from './dm/model_ex';\r\nimport { lcv } from './utils/lcv';\r\nimport { EqTotalsCalculator } from './data/eqs_totals_calculator';\r\nEqContext.prototype.setLicenseKeyEndpoint = function (endpoint) {\r\n    console.warn('This method is deprecated and will be ignored. Starting version 7.0.0 endpoint set for EasyQuery actions will be used via adding \\'./easyquery/lck\\'');\r\n};\r\nEqContext.prototype.useEnterprise = function (keyOrInitCallback) {\r\n    var _this = this;\r\n    var func = function (key) {\r\n        lcv.ck(key);\r\n        if (lcv.__kt) {\r\n            var services = _this.getServices();\r\n            services.registerDataModelResolver(function (context) { return new DataModelEx(); });\r\n            services.registerQueryResolver(function (context) { return new QueryEx(context.getModel()); });\r\n            services.registerQueryStorageResolver(function (context) { return new EqServerQueryStorage(context); });\r\n            services.registerTotalCalculator(function (context) { return new EqTotalsCalculator(context); });\r\n            if (lcv.__kt === 1) {\r\n                console.warn('EasyQuery.JS is working in TRIAL MODE! Please order a license to get a proper product key (https://korzh.com/eq).');\r\n                createTrialWM();\r\n                setTimeout(function () {\r\n                    showTrialWM();\r\n                    setTimeout(hideTrialWM, 6000);\r\n                }, 3000);\r\n            }\r\n        }\r\n        else {\r\n            console.error(\"INVALID KEY! EasyQuery.JS is working in Community edition mode! Please contact the vendor (https://korzh.com/support) to resolve this issue\");\r\n        }\r\n    };\r\n    if (typeof (keyOrInitCallback) === \"string\") {\r\n        func(keyOrInitCallback);\r\n    }\r\n    else if (typeof (keyOrInitCallback) === \"function\") {\r\n        var http = this.getServices().getHttpClient();\r\n        var url = equtils.combinePath(this.getBaseEndpoint(), 'lck');\r\n        http.get(url)\r\n            .then(function (result) { func(result.split(\"\").reverse().join(\"\")); keyOrInitCallback(); })\r\n            .catch(function (error) { return console.error(error); });\r\n    }\r\n    else {\r\n        throw new Error(\"Wrong type of 'keyOrInitCallback' parameter. It must be a string with a license key or a callback function.\");\r\n    }\r\n};\r\nvar trialDiv;\r\nfunction createTrialWM() {\r\n    // we can rewrite it using shadow dom\r\n    // to make it impossible to hide using JS :)\r\n    trialDiv = document.createElement(\"div\");\r\n    trialDiv.style.position = \"fixed\";\r\n    trialDiv.style.bottom = \"0\";\r\n    trialDiv.style.right = \"-400px\";\r\n    trialDiv.style.width = \"400px\";\r\n    trialDiv.style.height = \"100px\";\r\n    trialDiv.style.color = \"grey\";\r\n    trialDiv.style.textAlign = \"center\";\r\n    trialDiv.style.opacity = \"0.7\";\r\n    trialDiv.style.font = \"bold 1em Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif\";\r\n    trialDiv.style.transition = \"right 3s ease-out\";\r\n    var header = document.createElement(\"div\");\r\n    var eq = document.createElement(\"span\");\r\n    eq.innerText = \"EasyQuery\";\r\n    eq.style.color = \"#3A94D4\";\r\n    eq.style.lineHeight = \"50px\";\r\n    header.appendChild(eq);\r\n    var korzh = document.createElement(\"span\");\r\n    korzh.innerText = \"by Korzh.com\";\r\n    korzh.style.marginLeft = \"10px\";\r\n    header.appendChild(korzh);\r\n    trialDiv.appendChild(header);\r\n    var trialOnly = document.createElement(\"div\");\r\n    trialOnly.innerText = \"FOR TRIAL USE ONLY\";\r\n    trialOnly.style.fontSize = \"1.2em\";\r\n    trialOnly.style.fontWeight = \"1000\";\r\n    trialDiv.appendChild(trialOnly);\r\n    document.body.appendChild(trialDiv);\r\n}\r\nfunction showTrialWM() {\r\n    if (trialDiv) {\r\n        trialDiv.style.right = \"0\";\r\n    }\r\n}\r\nfunction hideTrialWM() {\r\n    if (trialDiv) {\r\n        trialDiv.style.right = \"-400px\";\r\n        setTimeout(function () {\r\n            trialDiv.parentNode.removeChild(trialDiv);\r\n        }, 5000);\r\n    }\r\n}\r\n//# sourceMappingURL=extensions.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Column } from \"@easyquery/core\";\r\nimport { lcv } from '../utils/lcv';\r\nvar ColumnEx = /** @class */ (function (_super) {\r\n    __extends(ColumnEx, _super);\r\n    function ColumnEx() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.readOnly = false;\r\n        return _this;\r\n    }\r\n    ColumnEx.prototype.isReadOnly = function () {\r\n        return this.readOnly;\r\n    };\r\n    ColumnEx.prototype.setReadOnly = function (value) {\r\n        this.readOnly = value;\r\n    };\r\n    /**\r\n     * Loads column from its JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param colData The JSON representation object.\r\n     */\r\n    ColumnEx.prototype.loadFromData = function (model, colData) {\r\n        _super.prototype.loadFromData.call(this, model, colData);\r\n        if (!lcv.__kt)\r\n            return;\r\n        if (colData) {\r\n            if (typeof colData.readOnly != 'undefined') {\r\n                this.readOnly = colData.readOnly;\r\n            }\r\n        }\r\n    };\r\n    ColumnEx.prototype.saveToData = function () {\r\n        var colData = _super.prototype.saveToData.call(this);\r\n        if (!lcv.__kt)\r\n            return colData;\r\n        if (this.isReadOnly()) {\r\n            colData.readOnly = this.isReadOnly();\r\n        }\r\n        return colData;\r\n    };\r\n    return ColumnEx;\r\n}(Column));\r\nexport { ColumnEx };\r\n//# sourceMappingURL=column_ex.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Query, CondTag, LinkType } from '@easyquery/core';\r\nimport { ConditionEx } from './condition_ex';\r\nimport { ColumnEx } from './column_ex';\r\nimport { lcv } from '../utils/lcv';\r\nvar QueryEx = /** @class */ (function (_super) {\r\n    __extends(QueryEx, _super);\r\n    function QueryEx(model) {\r\n        return _super.call(this, model) || this;\r\n    }\r\n    QueryEx.prototype.isEx = function () {\r\n        return lcv.__kt !== 0;\r\n    };\r\n    QueryEx.prototype.createCondition = function (tag) {\r\n        if (tag === void 0) { tag = CondTag.Simple; }\r\n        if (!lcv.__kt)\r\n            return _super.prototype.createCondition.call(this, tag);\r\n        return new ConditionEx(this, tag);\r\n    };\r\n    QueryEx.prototype.createColumn = function (justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        if (!lcv.__kt)\r\n            return _super.prototype.createColumn.call(this, justsorted);\r\n        return new ColumnEx(this, justsorted);\r\n    };\r\n    /**\r\n     * Adds a condition group - a group of simple conditions (predicates) linked by AND or OR\r\n     * @param descriptor The descriptor of the new condition group.\r\n     * @returns The new search condition.\r\n     */\r\n    QueryEx.prototype.addConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        if (!lcv.__kt)\r\n            return _super.prototype.addConditionGroup.call(this, descriptor, addChildCondition);\r\n        var parent = descriptor.parent || this.getRootCondition();\r\n        var lType = descriptor.linking || (parent.linkType === LinkType.All ? LinkType.Any : LinkType.All);\r\n        var group = this.createCondition(CondTag.Group);\r\n        group.linkType = lType;\r\n        if (addChildCondition) {\r\n            var model = this.getModel();\r\n            var attr = model.getFirstUICAttr();\r\n            var op = model.getDefaultOperatorForAttr(attr);\r\n            var cond = this.createSimpleConditionObject(attr, op, \"\");\r\n            group.addCondition(cond);\r\n        }\r\n        parent.addCondition(group);\r\n        return group;\r\n    };\r\n    QueryEx.prototype.addExtraConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        descriptor.parent = descriptor.parent || this.extraConditions;\r\n        if (!lcv.__kt)\r\n            return _super.prototype.addExtraConditionGroup.call(this, descriptor, addChildCondition);\r\n        return this.addConditionGroup(descriptor);\r\n    };\r\n    return QueryEx;\r\n}(Query));\r\nexport { QueryEx };\r\n//# sourceMappingURL=query_ex.js.map","var EqServerQueryStorage = /** @class */ (function () {\r\n    function EqServerQueryStorage(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerQueryStorage.prototype.init = function () {\r\n    };\r\n    EqServerQueryStorage.prototype.newQuery = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var model = this.context.getModel();\r\n        var modelId = options.modelId || (model ? model.getId() : \"\");\r\n        var requestData = {\r\n            'query': query.toJSONData()\r\n        };\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('NewQuery', { modelId: modelId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, requestData)\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.getQueryList = function (options) {\r\n        options = options || {};\r\n        var modelId = options.modelId || this.context.getModel().getId();\r\n        var url = this.context.resolveEndpoint('GetQueryList', { modelId: modelId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.get(url)\r\n            .then(function (responseData) {\r\n            if (!responseData.queries) {\r\n                return Promise.reject({\r\n                    message: 'Wrong response format'\r\n                });\r\n            }\r\n            return responseData.queries;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.loadQuery = function (options) {\r\n        options = options || {};\r\n        var model = this.context.getModel();\r\n        var query = this.context.getQuery();\r\n        var modelId = options.modelId || model.getId();\r\n        var queryId = options.queryId || query.getId();\r\n        var url = this.context.resolveEndpoint('GetQuery', { modelId: modelId, queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.get(url)\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.saveQuery = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var queryId = options.queryId || query.getId();\r\n        if (options.queryId) {\r\n            query.setId(options.queryId);\r\n        }\r\n        var modelId = options.modelId || query.getModel().getId();\r\n        var queryName = options.name || query.getName();\r\n        if (options.queryId) {\r\n            query.setId(options.queryId);\r\n        }\r\n        var requestData = {\r\n            'query': query.toJSONData(),\r\n            'name': queryName\r\n        };\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('SaveQuery', { modelId: modelId, queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.put(url, requestData)\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.removeQuery = function (options) {\r\n        options = options || {};\r\n        var context = this.context;\r\n        var query = context.getQuery();\r\n        var modelId = options.modelId || query.getModel().getId();\r\n        var queryId = options.queryId || query.getId();\r\n        var requestData = {\r\n            'modelId': modelId,\r\n            'queryId': queryId\r\n        };\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('RemoveQuery', { modelId: modelId, queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.delete(url, requestData).getPromise();\r\n    };\r\n    return EqServerQueryStorage;\r\n}());\r\nexport { EqServerQueryStorage };\r\n//# sourceMappingURL=eqs_query_storage.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DataModel, Tree } from \"@easyquery/core\";\r\nimport { QueryEx } from \"../query/query_ex\";\r\nimport { lcv } from \"../utils/lcv\";\r\nvar DataModelEx = /** @class */ (function (_super) {\r\n    __extends(DataModelEx, _super);\r\n    function DataModelEx() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DataModelEx.prototype.buildQueryPath = function (query) {\r\n        if (!lcv.__kt)\r\n            return _super.prototype.buildQueryPath.call(this, query);\r\n        if (this.mainEntity)\r\n            return _super.prototype.buildQueryPath.call(this, query);\r\n        var entities = this.getEntitiesInQuery(query);\r\n        if (entities.length == 0) {\r\n            throw Error(\"Cannon build path. Path is empty\");\r\n        }\r\n        var tree = new Tree(entities[0]);\r\n        for (var i = 1; i < entities.length; i++) {\r\n            var entity = entities[i];\r\n            if (tree.contains(entity)) {\r\n                continue;\r\n            }\r\n            var path = this.findPath(tree.value, entity);\r\n            if (path != null) {\r\n                //Add path to tree\r\n                tree = this.addPathToTree(tree, (path[0] === tree.value) ? path.slice(1) : path);\r\n            }\r\n            else {\r\n                throw Error(\"Unable to build query. Cannot build path.\");\r\n            }\r\n        }\r\n        tree.setParents();\r\n        return tree;\r\n    };\r\n    DataModelEx.prototype.addPathToTree = function (tree, path) {\r\n        if (path.length == 0) {\r\n            return;\r\n        }\r\n        var pathAdded = false;\r\n        for (var _i = 0, _a = tree.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            if (child.value === path[0]) {\r\n                pathAdded = true;\r\n                if (path.length > 1)\r\n                    child = this.addPathToTree(child, path.slice(1));\r\n                break;\r\n            }\r\n        }\r\n        if (!pathAdded) {\r\n            var link = this.findLink(tree.value, path[0]);\r\n            if (link) {\r\n                var newNode = new Tree(path[0]);\r\n                tree.addChild(newNode);\r\n                if (path.length > 1)\r\n                    newNode = this.addPathToTree(newNode, path.slice(1));\r\n            }\r\n            else if (!tree.parent) {\r\n                var node = new Tree(tree);\r\n                tree = new Tree(path[0]);\r\n                tree.addChild(node);\r\n                if (path.length > 1)\r\n                    tree = this.addPathToTree(tree, path.slice(1));\r\n            }\r\n            else {\r\n                throw Error(\"Unable to build query. Cannot build path.\");\r\n            }\r\n        }\r\n        return tree;\r\n    };\r\n    DataModelEx.prototype.findPath = function (entityFrom, entityTo) {\r\n        var curPath = [];\r\n        var curStep = [];\r\n        var nextStep = [];\r\n        var passedEntities = [];\r\n        var pathFound = false;\r\n        curPath.push(entityFrom);\r\n        curStep.push(curPath);\r\n        passedEntities.push(entityFrom);\r\n        while (!pathFound) {\r\n            nextStep = [];\r\n            for (var _i = 0, curStep_1 = curStep; _i < curStep_1.length; _i++) {\r\n                var path = curStep_1[_i];\r\n                pathFound = this.checkPath(path, entityTo, nextStep, passedEntities);\r\n                if (pathFound) {\r\n                    path.push(entityTo);\r\n                    curPath = path;\r\n                    break;\r\n                }\r\n            }\r\n            curStep = [];\r\n            if (!pathFound) {\r\n                if (nextStep.length == 0)\r\n                    return null;\r\n                //copy nextStep to curStep\r\n                for (var _a = 0, nextStep_1 = nextStep; _a < nextStep_1.length; _a++) {\r\n                    var path = nextStep_1[_a];\r\n                    curStep.push(path);\r\n                }\r\n            }\r\n        }\r\n        return curPath;\r\n    };\r\n    DataModelEx.prototype.checkPath = function (path, entityTo, nextStep, passedEntities) {\r\n        var endPoint = path[path.length - 1];\r\n        var entityLinks = this.getLinksByEntity(endPoint);\r\n        for (var _i = 0, entityLinks_1 = entityLinks; _i < entityLinks_1.length; _i++) {\r\n            var link = entityLinks_1[_i];\r\n            var entity2 = null;\r\n            if (link.entityFrom == endPoint) {\r\n                entity2 = link.entityTo;\r\n            }\r\n            else {\r\n                entity2 = link.entityFrom;\r\n            }\r\n            if (entity2 == entityTo) { //if reach the destination\r\n                nextStep = [];\r\n                return true;\r\n            }\r\n            //if destination is not reached yet we add current node (entity2) to the path and proceed\r\n            if (path.indexOf(entity2) < 0 && passedEntities.indexOf(entity2) < 0) { //to prevent cycling\r\n                passedEntities.push(entity2);\r\n                var newPath = new Array();\r\n                newPath = newPath.concat(path);\r\n                newPath.push(entity2);\r\n                nextStep.push(newPath);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    DataModelEx.prototype.createQuery = function () {\r\n        return new QueryEx(this);\r\n    };\r\n    return DataModelEx;\r\n}(DataModel));\r\nexport { DataModelEx };\r\n//# sourceMappingURL=model_ex.js.map","import { EasyDataTable } from '@easydata/core';\r\nimport { ExprTag, Query, EqTotalsContainer } from '@easyquery/core';\r\nvar EqTotalsCalculator = /** @class */ (function () {\r\n    function EqTotalsCalculator(context) {\r\n        this.context = context;\r\n        this.totals = new EqTotalsContainer(context);\r\n    }\r\n    EqTotalsCalculator.prototype.getTotals = function () {\r\n        return this.totals;\r\n    };\r\n    EqTotalsCalculator.prototype.calculate = function (options) {\r\n        this.totals.clear();\r\n        options = options || {};\r\n        options.maxLevel = options.maxLevel >= 0\r\n            ? options.maxLevel : 0;\r\n        var levelPromises = [];\r\n        var query = new Query(this.context.getModel());\r\n        query.loadFromData(this.context.getQuery().toJSONData());\r\n        var columns = query.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag == ExprTag.EntityAttribute; });\r\n        // remove last no-aggr column\r\n        var col = columns.pop();\r\n        if (col)\r\n            query.removeColumn(col, null);\r\n        for (var i = 0; i < columns.length; i++) {\r\n            columns[i].enabled = false;\r\n        }\r\n        levelPromises.push(this.processLevel(0, query, options.resultsObtained));\r\n        //totals\r\n        var level = 1;\r\n        var colIdx = 0;\r\n        while (colIdx < columns.length && level <= options.maxLevel) {\r\n            columns[colIdx].enabled = true;\r\n            levelPromises.push(this.processLevel(level, query, options.resultsObtained));\r\n            colIdx++;\r\n            level++;\r\n        }\r\n        return Promise.all(levelPromises)\r\n            .then(function () { return; })\r\n            .catch(function (error) { return console.error(error); });\r\n    };\r\n    EqTotalsCalculator.prototype.processLevel = function (level, query, resultsObtained) {\r\n        var _this = this;\r\n        var fetcher = this.context.getServices()\r\n            .getDataFetcher();\r\n        return fetcher.fetchData({\r\n            query: query\r\n        }).then(function (result) {\r\n            var dataTable = new EasyDataTable({\r\n                chunkSize: _this.context.resultTable.chunkSize\r\n            });\r\n            var resultSet = result.resultSet;\r\n            for (var _i = 0, _a = resultSet.cols; _i < _a.length; _i++) {\r\n                var col = _a[_i];\r\n                dataTable.columns.add(col);\r\n            }\r\n            dataTable.setTotal(result.meta.totalRecords);\r\n            for (var _b = 0, _c = resultSet.rows; _b < _c.length; _b++) {\r\n                var row = _c[_b];\r\n                dataTable.addRow(row);\r\n            }\r\n            var levelData = _this.buildLevelData(dataTable);\r\n            _this.totals.setTotals(level, levelData);\r\n            if (resultsObtained) {\r\n                resultsObtained(level);\r\n            }\r\n        });\r\n    };\r\n    EqTotalsCalculator.prototype.buildLevelData = function (dataTable) {\r\n        var data = new Map();\r\n        var curQuery = this.context.getQuery();\r\n        var keyColumns = curQuery.getUsedInTotalsColumns();\r\n        var valueColumns = curQuery.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag == ExprTag.AggregateFunction; });\r\n        for (var _i = 0, _a = dataTable.getCachedRows(); _i < _a.length; _i++) {\r\n            var row = _a[_i];\r\n            var key = {};\r\n            var value = {};\r\n            for (var _b = 0, keyColumns_1 = keyColumns; _b < keyColumns_1.length; _b++) {\r\n                var keyCol = keyColumns_1[_b];\r\n                var colIdx = dataTable.columns.getIndex(keyCol.id);\r\n                if (colIdx >= 0)\r\n                    key[keyCol.id] = row.getValue(keyCol.id);\r\n            }\r\n            for (var _c = 0, valueColumns_1 = valueColumns; _c < valueColumns_1.length; _c++) {\r\n                var valueCol = valueColumns_1[_c];\r\n                value[valueCol.id] = row.getValue(valueCol.id);\r\n            }\r\n            data.set(JSON.stringify(key), value);\r\n        }\r\n        return data;\r\n    };\r\n    return EqTotalsCalculator;\r\n}());\r\nexport { EqTotalsCalculator };\r\n//# sourceMappingURL=eqs_totals_calculator.js.map","import './extensions';\r\nexport * from './data/eqs_totals_calculator';\r\nexport * from './query/query_ex';\r\nexport * from './query/column_ex';\r\nexport * from './query/condition_ex';\r\nexport * from './dm/model_ex';\r\nexport * from './main/eqs_query_storage';\r\n//# sourceMappingURL=public_api.js.map"],"sourceRoot":""}